!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=71)}([function(e,t,n){"use strict";e.exports=n(32)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),i=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o="[DEFAULT]",a=[],s=function(){function e(e,t,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled||!1,this.options_=r.deepCopy(e),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(e){a.push(e),setTimeout(function(){return e(null)},0)},removeAuthTokenListener:function(e){a=a.filter(function(t){return t!==e})}}}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed_(),this._automaticDataCollectionEnabled=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise(function(t){e.checkDestroyed_(),t()}).then(function(){e.firebase_.INTERNAL.removeApp(e.name_);var t=[];return Object.keys(e.services_).forEach(function(n){Object.keys(e.services_[n]).forEach(function(r){t.push(e.services_[n][r])})}),Promise.all(t.map(function(e){return e.INTERNAL.delete()}))}).then(function(){e.isDeleted_=!0,e.services_={}})},e.prototype._getService=function(e,t){if(void 0===t&&(t=o),this.checkDestroyed_(),this.services_[e]||(this.services_[e]={}),!this.services_[e][t]){var n=t!==o?t:void 0,r=this.firebase_.INTERNAL.factories[e](this,this.extendApp.bind(this),n);this.services_[e][t]=r}return this.services_[e][t]},e.prototype.extendApp=function(e){var t=this;r.deepExtend(this,e),e.INTERNAL&&e.INTERNAL.addAuthTokenListener&&(a.forEach(function(e){t.INTERNAL.addAuthTokenListener(e)}),a=[])},e.prototype.checkDestroyed_=function(){this.isDeleted_&&u("app-deleted",{name:this.name_})},e}();function u(e,t){throw c.create(e,t)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var c=new r.ErrorFactory("app","Firebase",{"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."}),l=function e(){var t={},n={},a={},c={__esModule:!0,initializeApp:function(e,n){if(void 0===n&&(n={}),"object"!=typeof n||null===n){var r=n;n={name:r}}var a=n;void 0===a.name&&(a.name=o);var l=a.name;"string"==typeof l&&l||u("bad-app-name",{name:l+""}),i(t,l)&&u("duplicate-app",{name:l});var h=new s(e,a,c);return t[l]=h,f(h,"create"),h},app:l,apps:null,Promise:Promise,SDK_VERSION:"5.5.0",INTERNAL:{registerService:function(e,t,i,o,f){n[e]&&u("duplicate-service",{name:e}),n[e]=t,o&&(a[e]=o,h().forEach(function(e){o("create",e)}));var p=function(t){return void 0===t&&(t=l()),"function"!=typeof t[e]&&u("invalid-app-argument",{name:e}),t[e]()};return void 0!==i&&r.deepExtend(p,i),c[e]=p,s.prototype[e]=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return this._getService.bind(this,e).apply(this,f?t:[])},p},createFirebaseNamespace:e,extendNamespace:function(e){r.deepExtend(c,e)},createSubscribe:r.createSubscribe,ErrorFactory:r.ErrorFactory,removeApp:function(e){f(t[e],"delete"),delete t[e]},factories:n,useAsService:p,Promise:Promise,deepExtend:r.deepExtend}};function l(e){return i(t,e=e||o)||u("no-app",{name:e}),t[e]}function h(){return Object.keys(t).map(function(e){return t[e]})}function f(e,t){Object.keys(n).forEach(function(n){var r=p(e,n);null!==r&&a[r]&&a[r](t,e)})}function p(e,t){if("serverAuth"===t)return null;var n=t;return e.options,n}return r.patchProperty(c,"default",c),Object.defineProperty(c,"apps",{get:h}),r.patchProperty(l,"App",s),c}();t.firebase=l,t.default=l},function(e,t,n){"use strict";e.exports=n(36)},function(e,t,n){e.exports=n(37)()},function(e,t,n){"use strict";n.d(t,"a",function(){return se}),n.d(t,"b",function(){return ie}),n.d(t,"c",function(){return ae});
/*!
 * Font Awesome Free 5.4.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 */
var r=function(){},i={},o={},a={mark:r,measure:r};try{"undefined"!=typeof window&&(i=window),"undefined"!=typeof document&&(o=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&(a=performance)}catch(e){}var s=(i.navigator||{}).userAgent,u=void 0===s?"":s,c=i,l=o,h=a,f=!!l.documentElement&&!!l.head&&"function"==typeof l.addEventListener&&"function"==typeof l.createElement,p=(~u.indexOf("MSIE")||u.indexOf("Trident/"),"data-fa-i2svg"),d=(function(){try{}catch(e){return!1}}(),[1,2,3,4,5,6,7,8,9,10]),m=d.concat([11,12,13,14,15,16,17,18,19,20]),g=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter"].concat(d.map(function(e){return e+"x"})).concat(m.map(function(e){return"w-"+e})),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),w=c.FontAwesomeConfig||{};if(l&&"function"==typeof l.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(e){var t=b(e,2),n=t[0],r=t[1],i=function(e){return""===e||"false"!==e&&("true"===e||e)}(function(e){var t=l.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}(n));void 0!==i&&null!==i&&(w[r]=i)})}var _=v({familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},w);_.autoReplaceSvg||(_.observeMutations=!1);var E=v({},_);c.FontAwesomeConfig=E;var T=c||{};T.___FONT_AWESOME___||(T.___FONT_AWESOME___={}),T.___FONT_AWESOME___.styles||(T.___FONT_AWESOME___.styles={}),T.___FONT_AWESOME___.hooks||(T.___FONT_AWESOME___.hooks={}),T.___FONT_AWESOME___.shims||(T.___FONT_AWESOME___.shims=[]);var S=T.___FONT_AWESOME___,k=[];f&&((l.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(l.readyState)||l.addEventListener("DOMContentLoaded",function e(){l.removeEventListener("DOMContentLoaded",e),1,k.map(function(e){return e()})}));var C={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function x(e){if(e&&f){var t=l.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;for(var n=l.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],a=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(a)>-1&&(r=o)}return l.head.insertBefore(t,r),e}}var I="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function N(){for(var e=12,t="";e-- >0;)t+=I[62*Math.random()|0];return t}function A(e){return(""+e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function D(e){return Object.keys(e||{}).reduce(function(t,n){return t+(n+": ")+e[n]+";"},"")}function O(e){return e.size!==C.size||e.x!==C.x||e.y!==C.y||e.rotate!==C.rotate||e.flipX||e.flipY}function P(e){var t=e.transform,n=e.containerWidth,r=e.iconWidth;return{outer:{transform:"translate("+n/2+" 256)"},inner:{transform:"translate("+32*t.x+", "+32*t.y+") "+" "+("scale("+t.size/16*(t.flipX?-1:1)+", "+t.size/16*(t.flipY?-1:1)+") ")+" "+("rotate("+t.rotate+" 0 0)")},path:{transform:"translate("+r/2*-1+" -256)"}}}var R={x:0,y:0,width:"100%",height:"100%"},L=function(e){var t=e.children,n=e.attributes,r=e.main,i=e.mask,o=e.transform,a=r.width,s=r.icon,u=i.width,c=i.icon,l=P({transform:o,containerWidth:u,iconWidth:a}),h={tag:"rect",attributes:v({},R,{fill:"white"})},f={tag:"g",attributes:v({},l.inner),children:[{tag:"path",attributes:v({},s.attributes,l.path,{fill:"black"})}]},p={tag:"g",attributes:v({},l.outer),children:[f]},d="mask-"+N(),m="clip-"+N(),g={tag:"defs",children:[{tag:"clipPath",attributes:{id:m},children:[c]},{tag:"mask",attributes:v({},R,{id:d,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[h,p]}]};return t.push(g,{tag:"rect",attributes:v({fill:"currentColor","clip-path":"url(#"+m+")",mask:"url(#"+d+")"},R)}),{children:t,attributes:n}},M=function(e){var t=e.children,n=e.attributes,r=e.main,i=e.transform,o=D(e.styles);if(o.length>0&&(n.style=o),O(i)){var a=P({transform:i,containerWidth:r.width,iconWidth:r.width});t.push({tag:"g",attributes:v({},a.outer),children:[{tag:"g",attributes:v({},a.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:v({},r.icon.attributes,a.path)}]}]})}else t.push(r.icon);return{children:t,attributes:n}},F=function(e){var t=e.children,n=e.main,r=e.mask,i=e.attributes,o=e.styles,a=e.transform;if(O(a)&&n.found&&!r.found){var s={x:n.width/n.height/2,y:.5};i.style=D(v({},o,{"transform-origin":s.x+a.x/16+"em "+(s.y+a.y/16)+"em"}))}return[{tag:"svg",attributes:i,children:t}]},j=function(e){var t=e.prefix,n=e.iconName,r=e.children,i=e.attributes,o=e.symbol,a=!0===o?t+"-"+E.familyPrefix+"-"+n:o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:v({},i,{id:a}),children:r}]}]};function U(e){var t=e.icons,n=t.main,r=t.mask,i=e.prefix,o=e.iconName,a=e.transform,s=e.symbol,u=e.title,c=e.extra,l=e.watchable,h=void 0!==l&&l,f=r.found?r:n,d=f.width,m=f.height,g="fa-w-"+Math.ceil(d/m*16),y=[E.replacementClass,o?E.familyPrefix+"-"+o:"",g].filter(function(e){return-1===c.classes.indexOf(e)}).concat(c.classes).join(" "),b={children:[],attributes:v({},c.attributes,{"data-prefix":i,"data-icon":o,class:y,role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+d+" "+m})};h&&(b.attributes[p]=""),u&&b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-"+N()},children:[u]});var w=v({},b,{prefix:i,iconName:o,main:n,mask:r,transform:a,symbol:s,styles:c.styles}),_=r.found&&n.found?L(w):M(w),T=_.children,S=_.attributes;return w.children=T,w.attributes=S,s?j(w):F(w)}var q=function(){},B=(E.measurePerformance&&h&&h.mark&&h.measure,function(e,t,n,r){var i,o,a,s=Object.keys(e),u=s.length,c=void 0!==r?function(e,t){return function(n,r,i,o){return e.call(t,n,r,i,o)}}(t,r):t;for(void 0===n?(i=1,a=e[s[0]]):(i=0,a=n);i<u;i++)a=c(a,e[o=s[i]],o,e);return a}),V=S.styles,W=S.shims,z=function(){var e=function(e){return B(V,function(t,n,r){return t[r]=B(n,e,{}),t},{})};e(function(e,t,n){return e[t[3]]=n,e}),e(function(e,t,n){var r=t[2];return e[n]=n,r.forEach(function(t){e[t]=n}),e});var t="far"in V;B(W,function(e,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||t||(i="fas"),e[r]={prefix:i,iconName:o},e},{})};z();S.styles;function K(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}function H(e){var t=e.tag,n=e.attributes,r=void 0===n?{}:n,i=e.children,o=void 0===i?[]:i;return"string"==typeof e?A(e):"<"+t+" "+function(e){return Object.keys(e||{}).reduce(function(t,n){return t+(n+'="')+A(e[n])+'" '},"").trim()}(r)+">"+o.map(H).join("")+"</"+t+">"}var Q=function(e){var t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e?e.toLowerCase().split(" ").reduce(function(e,t){var n=t.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return e.flipX=!0,e;if(r&&"v"===i)return e.flipY=!0,e;if(i=parseFloat(i),isNaN(i))return e;switch(r){case"grow":e.size=e.size+i;break;case"shrink":e.size=e.size-i;break;case"left":e.x=e.x-i;break;case"right":e.x=e.x+i;break;case"up":e.y=e.y-i;break;case"down":e.y=e.y+i;break;case"rotate":e.rotate=e.rotate+i}return e},t):t};function G(e){this.name="MissingIcon",this.message=e||"Icon unavailable",this.stack=(new Error).stack}G.prototype=Object.create(Error.prototype),G.prototype.constructor=G;var X={fill:"currentColor"},Y={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},$={tag:"path",attributes:v({},X,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},J=v({},Y,{attributeName:"opacity"});v({},X,{cx:"256",cy:"364",r:"28"}),v({},Y,{attributeName:"r",values:"28;14;28;28;14;28;"}),v({},J,{values:"1;0;1;1;0;1;"}),v({},X,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),v({},J,{values:"1;0;0;0;0;1;"}),v({},X,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),v({},J,{values:"0;0;1;1;0;0;"}),S.styles;var Z=function(){var e="svg-inline--fa",t=E.familyPrefix,n=E.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible; }\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -.125em; }\n  .svg-inline--fa.fa-lg {\n    vertical-align: -.225em; }\n  .svg-inline--fa.fa-w-1 {\n    width: 0.0625em; }\n  .svg-inline--fa.fa-w-2 {\n    width: 0.125em; }\n  .svg-inline--fa.fa-w-3 {\n    width: 0.1875em; }\n  .svg-inline--fa.fa-w-4 {\n    width: 0.25em; }\n  .svg-inline--fa.fa-w-5 {\n    width: 0.3125em; }\n  .svg-inline--fa.fa-w-6 {\n    width: 0.375em; }\n  .svg-inline--fa.fa-w-7 {\n    width: 0.4375em; }\n  .svg-inline--fa.fa-w-8 {\n    width: 0.5em; }\n  .svg-inline--fa.fa-w-9 {\n    width: 0.5625em; }\n  .svg-inline--fa.fa-w-10 {\n    width: 0.625em; }\n  .svg-inline--fa.fa-w-11 {\n    width: 0.6875em; }\n  .svg-inline--fa.fa-w-12 {\n    width: 0.75em; }\n  .svg-inline--fa.fa-w-13 {\n    width: 0.8125em; }\n  .svg-inline--fa.fa-w-14 {\n    width: 0.875em; }\n  .svg-inline--fa.fa-w-15 {\n    width: 0.9375em; }\n  .svg-inline--fa.fa-w-16 {\n    width: 1em; }\n  .svg-inline--fa.fa-w-17 {\n    width: 1.0625em; }\n  .svg-inline--fa.fa-w-18 {\n    width: 1.125em; }\n  .svg-inline--fa.fa-w-19 {\n    width: 1.1875em; }\n  .svg-inline--fa.fa-w-20 {\n    width: 1.25em; }\n  .svg-inline--fa.fa-pull-left {\n    margin-right: .3em;\n    width: auto; }\n  .svg-inline--fa.fa-pull-right {\n    margin-left: .3em;\n    width: auto; }\n  .svg-inline--fa.fa-border {\n    height: 1.5em; }\n  .svg-inline--fa.fa-li {\n    width: 2em; }\n  .svg-inline--fa.fa-fw {\n    width: 1.25em; }\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0; }\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -.125em;\n  width: 1em; }\n  .fa-layers svg.svg-inline--fa {\n    -webkit-transform-origin: center center;\n            transform-origin: center center; }\n\n.fa-layers-text, .fa-layers-counter {\n  display: inline-block;\n  position: absolute;\n  text-align: center; }\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center; }\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: .25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right; }\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right; }\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left; }\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right; }\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left; }\n\n.fa-lg {\n  font-size: 1.33333em;\n  line-height: 0.75em;\n  vertical-align: -.0667em; }\n\n.fa-xs {\n  font-size: .75em; }\n\n.fa-sm {\n  font-size: .875em; }\n\n.fa-1x {\n  font-size: 1em; }\n\n.fa-2x {\n  font-size: 2em; }\n\n.fa-3x {\n  font-size: 3em; }\n\n.fa-4x {\n  font-size: 4em; }\n\n.fa-5x {\n  font-size: 5em; }\n\n.fa-6x {\n  font-size: 6em; }\n\n.fa-7x {\n  font-size: 7em; }\n\n.fa-8x {\n  font-size: 8em; }\n\n.fa-9x {\n  font-size: 9em; }\n\n.fa-10x {\n  font-size: 10em; }\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em; }\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0; }\n  .fa-ul > li {\n    position: relative; }\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit; }\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: .1em;\n  padding: .2em .25em .15em; }\n\n.fa-pull-left {\n  float: left; }\n\n.fa-pull-right {\n  float: right; }\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: .3em; }\n\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: .3em; }\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear; }\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8); }\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg); }\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg); }\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg); }\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1); }\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1); }\n\n.fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1); }\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical {\n  -webkit-filter: none;\n          filter: none; }\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2em; }\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0; }\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1em; }\n\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2em; }\n\n.fa-inverse {\n  color: #fff; }\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px; }\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto; }\n';if("fa"!==t||n!==e){var i=new RegExp("\\.fa\\-","g"),o=new RegExp("\\."+e,"g");r=r.replace(i,"."+t+"-").replace(o,"."+n)}return r};function ee(e){return{found:!0,width:e[0],height:e[1],icon:{tag:"path",attributes:{fill:"currentColor",d:e.slice(4)[0]}}}}function te(){E.autoAddCss&&!oe&&(x(Z()),oe=!0)}function ne(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(function(e){return H(e)})}}),Object.defineProperty(e,"node",{get:function(){if(f){var t=l.createElement("div");return t.innerHTML=e.html,t.children}}}),e}function re(e){var t=e.prefix,n=void 0===t?"fa":t,r=e.iconName;if(r)return K(ie.definitions,n,r)||K(S.styles,n,r)}var ie=new(function(){function e(){g(this,e),this.definitions={}}return y(e,[{key:"add",value:function(){for(var e=this,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach(function(t){e.definitions[t]=v({},e.definitions[t]||{},i[t]),function e(t,n){var r=Object.keys(n).reduce(function(e,t){var r=n[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{});"function"==typeof S.hooks.addPack?S.hooks.addPack(t,r):S.styles[t]=v({},S.styles[t]||{},r),"fas"===t&&e("fa",n)}(t,i[t]),z()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(e,t){var n=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(n).map(function(t){var r=n[t],i=r.prefix,o=r.iconName,a=r.icon;e[i]||(e[i]={}),e[i][o]=a}),e}}]),e}()),oe=!1,ae={transform:function(e){return Q(e)}},se=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(t||{}).icon?t:re(t||{}),i=n.mask;return i&&(i=(i||{}).icon?i:re(i||{})),e(r,v({},n,{mask:i}))}}(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.transform,r=void 0===n?C:n,i=t.symbol,o=void 0!==i&&i,a=t.mask,s=void 0===a?null:a,u=t.title,c=void 0===u?null:u,l=t.classes,h=void 0===l?[]:l,f=t.attributes,p=void 0===f?{}:f,d=t.styles,m=void 0===d?{}:d;if(e){var g=e.prefix,y=e.iconName,b=e.icon;return ne(v({type:"icon"},e),function(){return te(),E.autoA11y&&(c?p["aria-labelledby"]=E.replacementClass+"-title-"+N():p["aria-hidden"]="true"),U({icons:{main:ee(b),mask:s?ee(s.icon):{found:!1,width:null,height:null,icon:{}}},prefix:g,iconName:y,transform:v({},C,r),symbol:o,title:c,extra:{attributes:p,styles:m,classes:h}})})}})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return v});var r=n(4),i=n(3),o=n.n(i),a=n(0),s=n.n(a),u="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};var c=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e){!function(t){var n=function(e,t,r){if(!u(t)||l(t)||h(t)||f(t)||s(t))return t;var i,o=0,a=0;if(c(t))for(i=[],a=t.length;o<a;o++)i.push(n(e,t[o],r));else for(var p in i={},t)Object.prototype.hasOwnProperty.call(t,p)&&(i[e(p,r)]=n(e,t[p],r));return i},r=function(e){return p(e)?e:(e=e.replace(/[\-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})).substr(0,1).toLowerCase()+e.substr(1)},i=function(e){var t=r(e);return t.substr(0,1).toUpperCase()+t.substr(1)},o=function(e,t){return function(e,t){var n=(t=t||{}).separator||"_",r=t.split||/(?=[A-Z])/;return e.split(r).join(n)}(e,t).toLowerCase()},a=Object.prototype.toString,s=function(e){return"function"==typeof e},u=function(e){return e===Object(e)},c=function(e){return"[object Array]"==a.call(e)},l=function(e){return"[object Date]"==a.call(e)},h=function(e){return"[object RegExp]"==a.call(e)},f=function(e){return"[object Boolean]"==a.call(e)},p=function(e){return(e-=0)==e},d=function(e,t){var n=t&&"process"in t?t.process:t;return"function"!=typeof n?e:function(t,r){return n(t,e,r)}},m={camelize:r,decamelize:o,pascalize:i,depascalize:o,camelizeKeys:function(e,t){return n(d(r,t),e)},decamelizeKeys:function(e,t){return n(d(o,t),e,t)},pascalizeKeys:function(e,t){return n(d(i,t),e)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=m:t.humps=m}(u)}),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},d=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)};var m=!1;try{m=!0}catch(e){}function g(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?h({},e,t):{}}function y(e){return null===e?null:"object"===(void 0===e?"undefined":l(e))&&e.prefix&&e.iconName?e:Array.isArray(e)&&2===e.length?{prefix:e[0],iconName:e[1]}:"string"==typeof e?{prefix:"fas",iconName:e}:void 0}function v(e){var t=e.icon,n=e.mask,i=e.symbol,o=e.className,a=e.title,s=y(t),u=g("classes",[].concat(d(function(e){var t,n=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-inverse":e.inverse,"fa-border":e.border,"fa-li":e.listItem,"fa-flip-horizontal":"horizontal"===e.flip||"both"===e.flip,"fa-flip-vertical":"vertical"===e.flip||"both"===e.flip},h(t,"fa-"+e.size,null!==e.size),h(t,"fa-rotate-"+e.rotation,null!==e.rotation),h(t,"fa-pull-"+e.pull,null!==e.pull),t);return Object.keys(n).map(function(e){return n[e]?e:null}).filter(function(e){return e})}(e)),d(o.split(" ")))),c=g("transform","string"==typeof e.transform?r.c.transform(e.transform):e.transform),l=g("mask",y(n)),p=Object(r.a)(s,f({},u,c,l,{symbol:i,title:a}));if(!p)return function(){var e;!m&&console&&"function"==typeof console.error&&(e=console).error.apply(e,arguments)}("Could not find icon",s),null;var w=p.abstract,_={};return Object.keys(e).forEach(function(t){v.defaultProps.hasOwnProperty(t)||(_[t]=e[t])}),b(w[0],_)}v.displayName="FontAwesomeIcon",v.propTypes={border:o.a.bool,className:o.a.string,mask:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),fixedWidth:o.a.bool,inverse:o.a.bool,flip:o.a.oneOf(["horizontal","vertical","both"]),icon:o.a.oneOfType([o.a.object,o.a.array,o.a.string]),listItem:o.a.bool,pull:o.a.oneOf(["right","left"]),pulse:o.a.bool,rotation:o.a.oneOf([90,180,270]),size:o.a.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:o.a.bool,symbol:o.a.oneOfType([o.a.bool,o.a.string]),title:o.a.string,transform:o.a.oneOfType([o.a.string,o.a.object])},v.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null};var b=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n)return n;var i=(n.children||[]).map(e.bind(null,t)),o=Object.keys(n.attributes||{}).reduce(function(e,t){var r=n.attributes[t];switch(t){case"class":e.attrs.className=r,delete n.attributes.class;break;case"style":e.attrs.style=function(e){return e.split(";").map(function(e){return e.trim()}).filter(function(e){return e}).reduce(function(e,t){var n=t.indexOf(":"),r=c.camelize(t.slice(0,n)),i=t.slice(n+1).trim();return r.startsWith("webkit")?e[function(e){return e.charAt(0).toUpperCase()+e.slice(1)}(r)]=i:e[r]=i,e},{})}(r);break;default:0===t.indexOf("aria-")||0===t.indexOf("data-")?e.attrs[t.toLowerCase()]=r:e.attrs[c.camelize(t)]=r}return e},{attrs:{}}),a=r.style,s=void 0===a?{}:a,u=p(r,["style"]);return o.attrs.style=f({},o.attrs.style,s),t.apply(void 0,[n.tag,f({},o.attrs,u)].concat(d(i)))}.bind(null,s.a.createElement)}).call(this,n(9))},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(33)},function(e,t,n){var r;
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
/*!
 * jQuery JavaScript Library v3.3.1
 * https://jquery.com/
 *
 * Includes Sizzle.js
 * https://sizzlejs.com/
 *
 * Copyright JS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2018-01-20T17:24Z
 */
!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,i){"use strict";var o=[],a=n.document,s=Object.getPrototypeOf,u=o.slice,c=o.concat,l=o.push,h=o.indexOf,f={},p=f.toString,d=f.hasOwnProperty,m=d.toString,g=m.call(Object),y={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},b=function(e){return null!=e&&e===e.window},w={type:!0,src:!0,noModule:!0};function _(e,t,n){var r,i=(t=t||a).createElement("script");if(i.text=e,n)for(r in w)n[r]&&(i[r]=n[r]);t.head.appendChild(i).parentNode.removeChild(i)}function E(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[p.call(e)]||"object":typeof e}var T=function(e,t){return new T.fn.init(e,t)},S=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function k(e){var t=!!e&&"length"in e&&e.length,n=E(e);return!v(e)&&!b(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}T.fn=T.prototype={jquery:"3.3.1",constructor:T,length:0,toArray:function(){return u.call(this)},get:function(e){return null==e?u.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=T.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return T.each(this,e)},map:function(e){return this.pushStack(T.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:l,sort:o.sort,splice:o.splice},T.extend=T.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||v(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(c&&r&&(T.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&T.isPlainObject(n)?n:{},a[t]=T.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},T.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e))&&(!(t=s(e))||"function"==typeof(n=d.call(t,"constructor")&&t.constructor)&&m.call(n)===g)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){_(e)},each:function(e,t){var n,r=0;if(k(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(S,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(k(Object(e))?T.merge(n,"string"==typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:h.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(k(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return c.apply([],a)},guid:1,support:y}),"function"==typeof Symbol&&(T.fn[Symbol.iterator]=o[Symbol.iterator]),T.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){f["[object "+t+"]"]=t.toLowerCase()});var C=
/*!
 * Sizzle CSS Selector Engine v2.3.3
 * https://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-08-08
 */
function(e){var t,n,r,i,o,a,s,u,c,l,h,f,p,d,m,g,y,v,b,w="sizzle"+1*new Date,_=e.document,E=0,T=0,S=ae(),k=ae(),C=ae(),x=function(e,t){return e===t&&(h=!0),0},I={}.hasOwnProperty,N=[],A=N.pop,D=N.push,O=N.push,P=N.slice,R=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",j="\\["+M+"*("+F+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+M+"*\\]",U=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",q=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),V=new RegExp("^"+M+"*,"+M+"*"),W=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),z=new RegExp("="+M+"*([^\\]'\"]*?)"+M+"*\\]","g"),K=new RegExp(U),H=new RegExp("^"+F+"$"),Q={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+U),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,J=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+M+"?|("+M+")|.)","ig"),ee=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},re=function(){f()},ie=ve(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{O.apply(N=P.call(_.childNodes),_.childNodes),N[_.childNodes.length].nodeType}catch(e){O={apply:N.length?function(e,t){D.apply(e,P.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(e,t,r,i){var o,s,c,l,h,d,y,v=t&&t.ownerDocument,E=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==E&&9!==E&&11!==E)return r;if(!i&&((t?t.ownerDocument||t:_)!==p&&f(t),t=t||p,m)){if(11!==E&&(h=$.exec(e)))if(o=h[1]){if(9===E){if(!(c=t.getElementById(o)))return r;if(c.id===o)return r.push(c),r}else if(v&&(c=v.getElementById(o))&&b(t,c)&&c.id===o)return r.push(c),r}else{if(h[2])return O.apply(r,t.getElementsByTagName(e)),r;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return O.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!C[e+" "]&&(!g||!g.test(e))){if(1!==E)v=t,y=e;else if("object"!==t.nodeName.toLowerCase()){for((l=t.getAttribute("id"))?l=l.replace(te,ne):t.setAttribute("id",l=w),s=(d=a(e)).length;s--;)d[s]="#"+l+" "+ye(d[s]);y=d.join(","),v=J.test(e)&&me(t.parentNode)||t}if(y)try{return O.apply(r,v.querySelectorAll(y)),r}catch(e){}finally{l===w&&t.removeAttribute("id")}}}return u(e.replace(B,"$1"),t,r,i)}function ae(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function se(e){return e[w]=!0,e}function ue(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function le(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function he(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ie(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function de(e){return se(function(t){return t=+t,se(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},f=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:_;return a!==p&&9===a.nodeType&&a.documentElement?(d=(p=a).documentElement,m=!o(p),_!==p&&(i=p.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ue(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Y.test(p.getElementsByClassName),n.getById=ue(function(e){return d.appendChild(e).id=w,!p.getElementsByName||!p.getElementsByName(w).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},y=[],g=[],(n.qsa=Y.test(p.querySelectorAll))&&(ue(function(e){d.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+M+"*(?:value|"+L+")"),e.querySelectorAll("[id~="+w+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||g.push(".#.+[+~]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),d.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=Y.test(v=d.matches||d.webkitMatchesSelector||d.mozMatchesSelector||d.oMatchesSelector||d.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),y.push("!=",U)}),g=g.length&&new RegExp(g.join("|")),y=y.length&&new RegExp(y.join("|")),t=Y.test(d.compareDocumentPosition),b=t||Y.test(d.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},x=t?function(e,t){if(e===t)return h=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===p||e.ownerDocument===_&&b(_,e)?-1:t===p||t.ownerDocument===_&&b(_,t)?1:l?R(l,e)-R(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return h=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e===p?-1:t===p?1:i?-1:o?1:l?R(l,e)-R(l,t):0;if(i===o)return le(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?le(a[r],s[r]):a[r]===_?-1:s[r]===_?1:0},p):p},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&f(e),t=t.replace(z,"='$1']"),n.matchesSelector&&m&&!C[t+" "]&&(!y||!y.test(t))&&(!g||!g.test(t)))try{var r=v.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,p,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==p&&f(e),b(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==p&&f(e);var i=r.attrHandle[t.toLowerCase()],o=i&&I.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(h=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(x),h){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return l=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:se,match:Q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&K.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&S(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(q," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,h,f,p,d,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s,b=!1;if(g){if(o){for(;m;){for(f=t;f=f[m];)if(s?f.nodeName.toLowerCase()===y:1===f.nodeType)return!1;d=m="only"===e&&!d&&"nextSibling"}return!0}if(d=[a?g.firstChild:g.lastChild],a&&v){for(b=(p=(c=(l=(h=(f=g)[w]||(f[w]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]||[])[0]===E&&c[1])&&c[2],f=p&&g.childNodes[p];f=++p&&f&&f[m]||(b=p=0)||d.pop();)if(1===f.nodeType&&++b&&f===t){l[e]=[E,p,b];break}}else if(v&&(b=p=(c=(l=(h=(f=t)[w]||(f[w]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]||[])[0]===E&&c[1]),!1===b)for(;(f=++p&&f&&f[m]||(b=p=0)||d.pop())&&((s?f.nodeName.toLowerCase()!==y:1!==f.nodeType)||!++b||(v&&((l=(h=f[w]||(f[w]={}))[f.uniqueID]||(h[f.uniqueID]={}))[e]=[E,b]),f!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[w]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=R(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(B,"$1"));return r[w]?se(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return H.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===d},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de(function(){return[0]}),last:de(function(e,t){return[t-1]}),eq:de(function(e,t,n){return[n<0?n+t:n]}),even:de(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:de(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:de(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:de(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=he(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function ge(){}function ye(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ve(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=T++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var c,l,h,f=[E,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(l=(h=t[w]||(t[w]={}))[t.uniqueID]||(h[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((c=l[o])&&c[0]===E&&c[1]===s)return f[2]=c[2];if(l[o]=f,f[2]=e(t,n,u))return!0}return!1}}function be(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function we(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function _e(e,t,n,r,i,o){return r&&!r[w]&&(r=_e(r)),i&&!i[w]&&(i=_e(i,o)),se(function(o,a,s,u){var c,l,h,f=[],p=[],d=a.length,m=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:we(m,f,e,s,u),y=n?i||(o?e:d||r)?[]:a:g;if(n&&n(g,y,s,u),r)for(c=we(y,p),r(c,[],s,u),l=c.length;l--;)(h=c[l])&&(y[p[l]]=!(g[p[l]]=h));if(o){if(i||e){if(i){for(c=[],l=y.length;l--;)(h=y[l])&&c.push(g[l]=h);i(null,y=[],c,u)}for(l=y.length;l--;)(h=y[l])&&(c=i?R(o,h):f[l])>-1&&(o[c]=!(a[c]=h))}}else y=we(y===a?y.splice(d,y.length):y),i?i(null,a,y,u):O.apply(a,y)})}function Ee(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,l=ve(function(e){return e===t},s,!0),h=ve(function(e){return R(t,e)>-1},s,!0),f=[function(e,n,r){var i=!a&&(r||n!==c)||((t=n).nodeType?l(e,n,r):h(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])f=[ve(be(f),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[w]){for(i=++u;i<o&&!r.relative[e[i].type];i++);return _e(u>1&&be(f),u>1&&ye(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(B,"$1"),n,u<i&&Ee(e.slice(u,i)),i<o&&Ee(e=e.slice(i)),i<o&&ye(e))}f.push(n)}return be(f)}return ge.prototype=r.filters=r.pseudos,r.setFilters=new ge,a=oe.tokenize=function(e,t){var n,i,o,a,s,u,c,l=k[e+" "];if(l)return t?0:l.slice(0);for(s=e,u=[],c=r.preFilter;s;){for(a in n&&!(i=V.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=W.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B," ")}),s=s.slice(n.length)),r.filter)!(i=Q[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):k(e,u).slice(0)},s=oe.compile=function(e,t){var n,i=[],o=[],s=C[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Ee(t[n]))[w]?i.push(s):o.push(s);(s=C(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,l){var h,d,g,y=0,v="0",b=o&&[],w=[],_=c,T=o||i&&r.find.TAG("*",l),S=E+=null==_?1:Math.random()||.1,k=T.length;for(l&&(c=a===p||a||l);v!==k&&null!=(h=T[v]);v++){if(i&&h){for(d=0,a||h.ownerDocument===p||(f(h),s=!m);g=e[d++];)if(g(h,a||p,s)){u.push(h);break}l&&(E=S)}n&&((h=!g&&h)&&y--,o&&b.push(h))}if(y+=v,n&&v!==y){for(d=0;g=t[d++];)g(b,w,a,s);if(o){if(y>0)for(;v--;)b[v]||w[v]||(w[v]=A.call(u));w=we(w)}O.apply(u,w),l&&!o&&w.length>0&&y+t.length>1&&oe.uniqueSort(u)}return l&&(E=S,c=_),b};return n?se(o):o}(o,i))).selector=e}return s},u=oe.select=function(e,t,n,i){var o,u,c,l,h,f="function"==typeof e&&e,p=!i&&a(e=f.selector||e);if(n=n||[],1===p.length){if((u=p[0]=p[0].slice(0)).length>2&&"ID"===(c=u[0]).type&&9===t.nodeType&&m&&r.relative[u[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(Z,ee),t)||[])[0]))return n;f&&(t=t.parentNode),e=e.slice(u.shift().value.length)}for(o=Q.needsContext.test(e)?0:u.length;o--&&(c=u[o],!r.relative[l=c.type]);)if((h=r.find[l])&&(i=h(c.matches[0].replace(Z,ee),J.test(u[0].type)&&me(t.parentNode)||t))){if(u.splice(o,1),!(e=i.length&&ye(u)))return O.apply(n,i),n;break}}return(f||s(e,p))(i,t,!m,n,!t||J.test(e)&&me(t.parentNode)||t),n},n.sortStable=w.split("").sort(x).join("")===w,n.detectDuplicates=!!h,f(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||ce(L,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(n);T.find=C,T.expr=C.selectors,T.expr[":"]=T.expr.pseudos,T.uniqueSort=T.unique=C.uniqueSort,T.text=C.getText,T.isXMLDoc=C.isXML,T.contains=C.contains,T.escapeSelector=C.escape;var x=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&T(e).is(n))break;r.push(e)}return r},I=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},N=T.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(e,t,n){return v(t)?T.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?T.grep(e,function(e){return e===t!==n}):"string"!=typeof t?T.grep(e,function(e){return h.call(t,e)>-1!==n}):T.filter(t,e,n)}T.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?T.find.matchesSelector(r,e)?[r]:[]:T.find.matches(e,T.grep(t,function(e){return 1===e.nodeType}))},T.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(T(e).filter(function(){for(t=0;t<r;t++)if(T.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)T.find(e,i[t],n);return r>1?T.uniqueSort(n):n},filter:function(e){return this.pushStack(O(this,e||[],!1))},not:function(e){return this.pushStack(O(this,e||[],!0))},is:function(e){return!!O(this,"string"==typeof e&&N.test(e)?T(e):e||[],!1).length}});var P,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(T.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||P,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:R.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof T?t[0]:t,T.merge(this,T.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:a,!0)),D.test(r[1])&&T.isPlainObject(t))for(r in t)v(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=a.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(T):T.makeArray(e,this)}).prototype=T.fn,P=T(a);var L=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function F(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}T.fn.extend({has:function(e){var t=T(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(T.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&T(e);if(!N.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&T.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?T.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?h.call(T(e),this[0]):h.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(T.uniqueSort(T.merge(this.get(),T(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),T.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x(e,"parentNode")},parentsUntil:function(e,t,n){return x(e,"parentNode",n)},next:function(e){return F(e,"nextSibling")},prev:function(e){return F(e,"previousSibling")},nextAll:function(e){return x(e,"nextSibling")},prevAll:function(e){return x(e,"previousSibling")},nextUntil:function(e,t,n){return x(e,"nextSibling",n)},prevUntil:function(e,t,n){return x(e,"previousSibling",n)},siblings:function(e){return I((e.parentNode||{}).firstChild,e)},children:function(e){return I(e.firstChild)},contents:function(e){return A(e,"iframe")?e.contentDocument:(A(e,"template")&&(e=e.content||e),T.merge([],e.childNodes))}},function(e,t){T.fn[e]=function(n,r){var i=T.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=T.filter(r,i)),this.length>1&&(M[e]||T.uniqueSort(i),L.test(e)&&i.reverse()),this.pushStack(i)}});var j=/[^\x20\t\r\n\f]+/g;function U(e){return e}function q(e){throw e}function B(e,t,n,r){var i;try{e&&v(i=e.promise)?i.call(e).done(t).fail(n):e&&v(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}T.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return T.each(e.match(j)||[],function(e,n){t[n]=!0}),t}(e):T.extend({},e);var t,n,r,i,o=[],a=[],s=-1,u=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){T.each(n,function(n,r){v(r)?e.unique&&c.has(r)||o.push(r):r&&r.length&&"string"!==E(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return T.each(arguments,function(e,t){for(var n;(n=T.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?T.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||u()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},T.extend({Deferred:function(e){var t=[["notify","progress",T.Callbacks("memory"),T.Callbacks("memory"),2],["resolve","done",T.Callbacks("once memory"),T.Callbacks("once memory"),0,"resolved"],["reject","fail",T.Callbacks("once memory"),T.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return T.Deferred(function(n){T.each(t,function(t,r){var i=v(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(e,r,i){var o=0;function a(e,t,r,i){return function(){var s=this,u=arguments,c=function(){var n,c;if(!(e<o)){if((n=r.apply(s,u))===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(c)?i?c.call(n,a(o,t,U,i),a(o,t,q,i)):(o++,c.call(n,a(o,t,U,i),a(o,t,q,i),a(o,t,U,t.notifyWith))):(r!==U&&(s=void 0,u=[n]),(i||t.resolveWith)(s,u))}},l=i?c:function(){try{c()}catch(n){T.Deferred.exceptionHook&&T.Deferred.exceptionHook(n,l.stackTrace),e+1>=o&&(r!==q&&(s=void 0,u=[n]),t.rejectWith(s,u))}};e?l():(T.Deferred.getStackHook&&(l.stackTrace=T.Deferred.getStackHook()),n.setTimeout(l))}}return T.Deferred(function(n){t[0][3].add(a(0,n,v(i)?i:U,n.notifyWith)),t[1][3].add(a(0,n,v(e)?e:U)),t[2][3].add(a(0,n,v(r)?r:q))}).promise()},promise:function(e){return null!=e?T.extend(e,i):i}},o={};return T.each(t,function(e,n){var a=n[2],s=n[5];i[n[1]]=a.add,s&&a.add(function(){r=s},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),a.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=a.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=u.call(arguments),o=T.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?u.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(B(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||v(i[n]&&i[n].then)))return o.then();for(;n--;)B(i[n],a(n),o.reject);return o.promise()}});var V=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;T.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&V.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},T.readyException=function(e){n.setTimeout(function(){throw e})};var W=T.Deferred();function z(){a.removeEventListener("DOMContentLoaded",z),n.removeEventListener("load",z),T.ready()}T.fn.ready=function(e){return W.then(e).catch(function(e){T.readyException(e)}),this},T.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--T.readyWait:T.isReady)||(T.isReady=!0,!0!==e&&--T.readyWait>0||W.resolveWith(a,[T]))}}),T.ready.then=W.then,"complete"===a.readyState||"loading"!==a.readyState&&!a.documentElement.doScroll?n.setTimeout(T.ready):(a.addEventListener("DOMContentLoaded",z),n.addEventListener("load",z));var K=function(e,t,n,r,i,o,a){var s=0,u=e.length,c=null==n;if("object"===E(n))for(s in i=!0,n)K(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,v(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(T(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):u?t(e[0],n):o},H=/^-ms-/,Q=/-([a-z])/g;function G(e,t){return t.toUpperCase()}function X(e){return e.replace(H,"ms-").replace(Q,G)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function $(){this.expando=T.expando+$.uid++}$.uid=1,$.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(j)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||T.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!T.isEmptyObject(t)}};var J=new $,Z=new $,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}T.extend({hasData:function(e){return Z.hasData(e)||J.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),T.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Z.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=X(r.slice(5)),ne(o,r,i[r]));J.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Z.set(this,e)}):K(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=Z.get(o,e))?n:void 0!==(n=ne(o,e))?n:void 0;this.each(function(){Z.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Z.remove(this,e)})}}),T.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=J.get(e,t),n&&(!r||Array.isArray(n)?r=J.access(e,t,T.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=T.queue(e,t),r=n.length,i=n.shift(),o=T._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){T.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:T.Callbacks("once memory").add(function(){J.remove(e,[t+"queue",n])})})}}),T.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?T.queue(this[0],e):void 0===t?this:this.each(function(){var n=T.queue(this,e,t);T._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&T.dequeue(this,e)})},dequeue:function(e){return this.each(function(){T.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=T.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=J.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var re=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+re+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&T.contains(e.ownerDocument,e)&&"none"===T.css(e,"display")},se=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};function ue(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return T.css(e,t,"")},u=s(),c=n&&n[3]||(T.cssNumber[t]?"":"px"),l=(T.cssNumber[t]||"px"!==c&&+u)&&ie.exec(T.css(e,t));if(l&&l[3]!==c){for(u/=2,c=c||l[3],l=+u||1;a--;)T.style(e,t,l+c),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),l/=o;l*=2,T.style(e,t,l+c),n=n||[]}return n&&(l=+l||+u||0,i=n[1]?l+(n[1]+1)*n[2]:+n[2],r&&(r.unit=c,r.start=l,r.end=i)),i}var ce={};function le(e){var t,n=e.ownerDocument,r=e.nodeName,i=ce[r];return i||(t=n.body.appendChild(n.createElement(r)),i=T.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ce[r]=i,i)}function he(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=J.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ae(r)&&(i[o]=le(r))):"none"!==n&&(i[o]="none",J.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}T.fn.extend({show:function(){return he(this,!0)},hide:function(){return he(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?T(this).show():T(this).hide()})}});var fe=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,de=/^$|^module$|\/(?:java|ecma)script/i,me={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?T.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}me.optgroup=me.option,me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td;var ve=/<|&#?\w+;/;function be(e,t,n,r,i){for(var o,a,s,u,c,l,h=t.createDocumentFragment(),f=[],p=0,d=e.length;p<d;p++)if((o=e[p])||0===o)if("object"===E(o))T.merge(f,o.nodeType?[o]:o);else if(ve.test(o)){for(a=a||h.appendChild(t.createElement("div")),s=(pe.exec(o)||["",""])[1].toLowerCase(),u=me[s]||me._default,a.innerHTML=u[1]+T.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;T.merge(f,a.childNodes),(a=h.firstChild).textContent=""}else f.push(t.createTextNode(o));for(h.textContent="",p=0;o=f[p++];)if(r&&T.inArray(o,r)>-1)i&&i.push(o);else if(c=T.contains(o.ownerDocument,o),a=ge(h.appendChild(o),"script"),c&&ye(a),n)for(l=0;o=a[l++];)de.test(o.type||"")&&n.push(o);return h}!function(){var e=a.createDocumentFragment().appendChild(a.createElement("div")),t=a.createElement("input");t.setAttribute("type","radio"),t.setAttribute("checked","checked"),t.setAttribute("name","t"),e.appendChild(t),y.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var we=a.documentElement,_e=/^key/,Ee=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Te=/^([^.]*)(?:\.(.+)|)/;function Se(){return!0}function ke(){return!1}function Ce(){try{return a.activeElement}catch(e){}}function xe(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)xe(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=ke;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return T().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=T.guid++)),e.each(function(){T.event.add(this,t,i,r,n)})}T.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,c,l,h,f,p,d,m,g=J.get(e);if(g)for(n.handler&&(n=(o=n).handler,i=o.selector),i&&T.find.matchesSelector(we,i),n.guid||(n.guid=T.guid++),(u=g.events)||(u=g.events={}),(a=g.handle)||(a=g.handle=function(t){return void 0!==T&&T.event.triggered!==t.type?T.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(j)||[""]).length;c--;)p=m=(s=Te.exec(t[c])||[])[1],d=(s[2]||"").split(".").sort(),p&&(h=T.event.special[p]||{},p=(i?h.delegateType:h.bindType)||p,h=T.event.special[p]||{},l=T.extend({type:p,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&T.expr.match.needsContext.test(i),namespace:d.join(".")},o),(f=u[p])||((f=u[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(e,r,d,a)||e.addEventListener&&e.addEventListener(p,a)),h.add&&(h.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,l):f.push(l),T.event.global[p]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,h,f,p,d,m,g=J.hasData(e)&&J.get(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(j)||[""]).length;c--;)if(p=m=(s=Te.exec(t[c])||[])[1],d=(s[2]||"").split(".").sort(),p){for(h=T.event.special[p]||{},f=u[p=(r?h.delegateType:h.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)l=f[o],!i&&m!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,h.remove&&h.remove.call(e,l));a&&!f.length&&(h.teardown&&!1!==h.teardown.call(e,d,g.handle)||T.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)T.event.remove(e,p+t[c],n,r,!0);T.isEmptyObject(u)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=T.event.fix(e),u=new Array(arguments.length),c=(J.get(this,"events")||{})[s.type]||[],l=T.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(a=T.event.handlers.call(this,s,c),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,void 0!==(r=((T.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,c=e.target;if(u&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?T(i,this).index(c)>-1:T.find(i,this,null,[c]).length),a[i]&&o.push(r);o.length&&s.push({elem:c,handlers:o})}return c=this,u<t.length&&s.push({elem:c,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(T.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[T.expando]?e:new T.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ce()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ce()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&A(this,"input"))return this.click(),!1},_default:function(e){return A(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},T.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},T.Event=function(e,t){if(!(this instanceof T.Event))return new T.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Se:ke,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&T.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[T.expando]=!0},T.Event.prototype={constructor:T.Event,isDefaultPrevented:ke,isPropagationStopped:ke,isImmediatePropagationStopped:ke,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Se,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Se,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Se,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},T.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&_e.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ee.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},T.event.addProp),T.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){T.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||T.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),T.fn.extend({on:function(e,t,n,r){return xe(this,e,t,n,r)},one:function(e,t,n,r){return xe(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,T(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=ke),this.each(function(){T.event.remove(this,e,n,t)})}});var Ie=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ne=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,De=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Oe(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&T(e).children("tbody")[0]||e}function Pe(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Re(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s,u,c;if(1===t.nodeType){if(J.hasData(e)&&(o=J.access(e),a=J.set(t,o),c=o.events))for(i in delete a.handle,a.events={},c)for(n=0,r=c[i].length;n<r;n++)T.event.add(t,i,c[i][n]);Z.hasData(e)&&(s=Z.access(e),u=T.extend({},s),Z.set(t,u))}}function Me(e,t){var n=t.nodeName.toLowerCase();"input"===n&&fe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Fe(e,t,n,r){t=c.apply([],t);var i,o,a,s,u,l,h=0,f=e.length,p=f-1,d=t[0],m=v(d);if(m||f>1&&"string"==typeof d&&!y.checkClone&&Ae.test(d))return e.each(function(i){var o=e.eq(i);m&&(t[0]=d.call(this,i,o.html())),Fe(o,t,n,r)});if(f&&(o=(i=be(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(a=T.map(ge(i,"script"),Pe)).length;h<f;h++)u=i,h!==p&&(u=T.clone(u,!0,!0),s&&T.merge(a,ge(u,"script"))),n.call(e[h],u,h);if(s)for(l=a[a.length-1].ownerDocument,T.map(a,Re),h=0;h<s;h++)u=a[h],de.test(u.type||"")&&!J.access(u,"globalEval")&&T.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?T._evalUrl&&T._evalUrl(u.src):_(u.textContent.replace(De,""),l,u))}return e}function je(e,t,n){for(var r,i=t?T.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||T.cleanData(ge(r)),r.parentNode&&(n&&T.contains(r.ownerDocument,r)&&ye(ge(r,"script")),r.parentNode.removeChild(r));return e}T.extend({htmlPrefilter:function(e){return e.replace(Ie,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=T.contains(e.ownerDocument,e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||T.isXMLDoc(e)))for(a=ge(s),r=0,i=(o=ge(e)).length;r<i;r++)Me(o[r],a[r]);if(t)if(n)for(o=o||ge(e),a=a||ge(s),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,s);return(a=ge(s,"script")).length>0&&ye(a,!u&&ge(e,"script")),s},cleanData:function(e){for(var t,n,r,i=T.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[J.expando]){if(t.events)for(r in t.events)i[r]?T.event.remove(n,r):T.removeEvent(n,r,t.handle);n[J.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),T.fn.extend({detach:function(e){return je(this,e,!0)},remove:function(e){return je(this,e)},text:function(e){return K(this,function(e){return void 0===e?T.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Fe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Oe(this,e).appendChild(e)})},prepend:function(){return Fe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Oe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Fe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Fe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(T.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return T.clone(this,e,t)})},html:function(e){return K(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!me[(pe.exec(e)||["",""])[1].toLowerCase()]){e=T.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(T.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Fe(this,arguments,function(t){var n=this.parentNode;T.inArray(this,e)<0&&(T.cleanData(ge(this)),n&&n.replaceChild(t,this))},e)}}),T.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){T.fn[e]=function(e){for(var n,r=[],i=T(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),T(i[a])[t](n),l.apply(r,n.get());return this.pushStack(r)}});var Ue=new RegExp("^("+re+")(?!px)[a-z%]+$","i"),qe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},Be=new RegExp(oe.join("|"),"i");function Ve(e,t,n){var r,i,o,a,s=e.style;return(n=n||qe(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||T.contains(e.ownerDocument,e)||(a=T.style(e,t)),!y.pixelBoxStyles()&&Ue.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function We(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",we.appendChild(c).appendChild(l);var e=n.getComputedStyle(l);r="1%"!==e.top,u=12===t(e.marginLeft),l.style.right="60%",s=36===t(e.right),i=36===t(e.width),l.style.position="absolute",o=36===l.offsetWidth||"absolute",we.removeChild(c),l=null}}function t(e){return Math.round(parseFloat(e))}var r,i,o,s,u,c=a.createElement("div"),l=a.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,T.extend(y,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),u},scrollboxSize:function(){return e(),o}}))}();var ze=/^(none|table(?!-c[ea]).+)/,Ke=/^--/,He={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"},Ge=["Webkit","Moz","ms"],Xe=a.createElement("div").style;function Ye(e){var t=T.cssProps[e];return t||(t=T.cssProps[e]=function(e){if(e in Xe)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;n--;)if((e=Ge[n]+t)in Xe)return e}(e)||e),t}function $e(e,t,n){var r=ie.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Je(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=T.css(e,n+oe[a],!0,i)),r?("content"===n&&(u-=T.css(e,"padding"+oe[a],!0,i)),"margin"!==n&&(u-=T.css(e,"border"+oe[a]+"Width",!0,i))):(u+=T.css(e,"padding"+oe[a],!0,i),"padding"!==n?u+=T.css(e,"border"+oe[a]+"Width",!0,i):s+=T.css(e,"border"+oe[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function Ze(e,t,n){var r=qe(e),i=Ve(e,t,r),o="border-box"===T.css(e,"boxSizing",!1,r),a=o;if(Ue.test(i)){if(!n)return i;i="auto"}return a=a&&(y.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===T.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),(i=parseFloat(i)||0)+Je(e,t,n||(o?"border":"content"),a,r,i)+"px"}function et(e,t,n,r,i){return new et.prototype.init(e,t,n,r,i)}T.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ve(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Ke.test(t),c=e.style;if(u||(t=Ye(s)),a=T.cssHooks[t]||T.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:c[t];"string"===(o=typeof n)&&(i=ie.exec(n))&&i[1]&&(n=ue(e,t,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(T.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Ke.test(t)||(t=Ye(s)),(a=T.cssHooks[t]||T.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Ve(e,t,r)),"normal"===i&&t in Qe&&(i=Qe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),T.each(["height","width"],function(e,t){T.cssHooks[t]={get:function(e,n,r){if(n)return!ze.test(T.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,t,r):se(e,He,function(){return Ze(e,t,r)})},set:function(e,n,r){var i,o=qe(e),a="border-box"===T.css(e,"boxSizing",!1,o),s=r&&Je(e,t,r,a,o);return a&&y.scrollboxSize()===o.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Je(e,t,"border",!1,o)-.5)),s&&(i=ie.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=T.css(e,t)),$e(0,n,s)}}}),T.cssHooks.marginLeft=We(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ve(e,"marginLeft"))||e.getBoundingClientRect().left-se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),T.each({margin:"",padding:"",border:"Width"},function(e,t){T.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+oe[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(T.cssHooks[e+t].set=$e)}),T.fn.extend({css:function(e,t){return K(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=qe(e),i=t.length;a<i;a++)o[t[a]]=T.css(e,t[a],!1,r);return o}return void 0!==n?T.style(e,t,n):T.css(e,t)},e,t,arguments.length>1)}}),T.Tween=et,et.prototype={constructor:et,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||T.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(T.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=T.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}},et.prototype.init.prototype=et.prototype,et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=T.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){T.fx.step[e.prop]?T.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[T.cssProps[e.prop]]&&!T.cssHooks[e.prop]?e.elem[e.prop]=e.now:T.style(e.elem,e.prop,e.now+e.unit)}}},et.propHooks.scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},T.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},T.fx=et.prototype.init,T.fx.step={};var tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){nt&&(!1===a.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ot):n.setTimeout(ot,T.fx.interval),T.fx.tick())}function at(){return n.setTimeout(function(){tt=void 0}),tt=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=oe[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(ct.tweeners[t]||[]).concat(ct.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ct(e,t,n){var r,i,o=0,a=ct.prefilters.length,s=T.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=tt||at(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(a||s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:T.extend({},t),opts:T.extend(!0,{specialEasing:{},easing:T.easing._default},n),originalProperties:t,originalOptions:n,startTime:tt||at(),duration:n.duration,tweens:[],createTween:function(t,n){var r=T.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?(s.notifyWith(e,[c,1,0]),s.resolveWith(e,[c,t])):s.rejectWith(e,[c,t]),this}}),l=c.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=T.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(l,c.opts.specialEasing);o<a;o++)if(r=ct.prefilters[o].call(c,e,l,c.opts))return v(r.stop)&&(T._queueHooks(c.elem,c.opts.queue).stop=r.stop.bind(r)),r;return T.map(l,ut,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),T.fx.timer(T.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c}T.Animation=T.extend(ct,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ue(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(j);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ct.tweeners[n]=ct.tweeners[n]||[],ct.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,c,l,h="width"in t||"height"in t,f=this,p={},d=e.style,m=e.nodeType&&ae(e),g=J.get(e,"fxshow");for(r in n.queue||(null==(a=T._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,f.always(function(){f.always(function(){a.unqueued--,T.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}p[r]=g&&g[r]||T.style(e,r)}if((u=!T.isEmptyObject(t))||!T.isEmptyObject(p))for(r in h&&1===e.nodeType&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],null==(c=g&&g.display)&&(c=J.get(e,"display")),"none"===(l=T.css(e,"display"))&&(c?l=c:(he([e],!0),c=e.style.display||c,l=T.css(e,"display"),he([e]))),("inline"===l||"inline-block"===l&&null!=c)&&"none"===T.css(e,"float")&&(u||(f.done(function(){d.display=c}),null==c&&(l=d.display,c="none"===l?"":l)),d.display="inline-block")),n.overflow&&(d.overflow="hidden",f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),u=!1,p)u||(g?"hidden"in g&&(m=g.hidden):g=J.access(e,"fxshow",{display:c}),o&&(g.hidden=!m),m&&he([e],!0),f.done(function(){for(r in m||he([e]),J.remove(e,"fxshow"),p)T.style(e,r,p[r])})),u=ut(m?g[r]:0,r,f),r in g||(g[r]=u.start,m&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ct.prefilters.unshift(e):ct.prefilters.push(e)}}),T.speed=function(e,t,n){var r=e&&"object"==typeof e?T.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return T.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in T.fx.speeds?r.duration=T.fx.speeds[r.duration]:r.duration=T.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){v(r.old)&&r.old.call(this),r.queue&&T.dequeue(this,r.queue)},r},T.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=T.isEmptyObject(e),o=T.speed(t,n,r),a=function(){var t=ct(this,T.extend({},e),o);(i||J.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=T.timers,a=J.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&it.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||T.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=J.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=T.timers,a=r?r.length:0;for(n.finish=!0,T.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),T.each(["toggle","show","hide"],function(e,t){var n=T.fn[t];T.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(st(t,!0),e,r,i)}}),T.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){T.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),T.timers=[],T.fx.tick=function(){var e,t=0,n=T.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||T.fx.stop(),tt=void 0},T.fx.timer=function(e){T.timers.push(e),T.fx.start()},T.fx.interval=13,T.fx.start=function(){nt||(nt=!0,ot())},T.fx.stop=function(){nt=null},T.fx.speeds={slow:600,fast:200,_default:400},T.fn.delay=function(e,t){return e=T.fx&&T.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,r){var i=n.setTimeout(t,e);r.stop=function(){n.clearTimeout(i)}})},function(){var e=a.createElement("input"),t=a.createElement("select").appendChild(a.createElement("option"));e.type="checkbox",y.checkOn=""!==e.value,y.optSelected=t.selected,(e=a.createElement("input")).value="t",e.type="radio",y.radioValue="t"===e.value}();var lt,ht=T.expr.attrHandle;T.fn.extend({attr:function(e,t){return K(this,T.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){T.removeAttr(this,e)})}}),T.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?T.prop(e,t,n):(1===o&&T.isXMLDoc(e)||(i=T.attrHooks[t.toLowerCase()]||(T.expr.match.bool.test(t)?lt:void 0)),void 0!==n?null===n?void T.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=T.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(j);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),lt={set:function(e,t,n){return!1===t?T.removeAttr(e,n):e.setAttribute(n,n),n}},T.each(T.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ht[t]||T.find.attr;ht[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=ht[a],ht[a]=i,i=null!=n(e,t,r)?a:null,ht[a]=o),i}});var ft=/^(?:input|select|textarea|button)$/i,pt=/^(?:a|area)$/i;function dt(e){return(e.match(j)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function gt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(j)||[]}T.fn.extend({prop:function(e,t){return K(this,T.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[T.propFix[e]||e]})}}),T.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&T.isXMLDoc(e)||(t=T.propFix[t]||t,i=T.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=T.find.attr(e,"tabindex");return t?parseInt(t,10):ft.test(e.nodeName)||pt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),y.optSelected||(T.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),T.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){T.propFix[this.toLowerCase()]=this}),T.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(v(e))return this.each(function(t){T(this).addClass(e.call(this,t,mt(this)))});if((t=gt(e)).length)for(;n=this[u++];)if(i=mt(n),r=1===n.nodeType&&" "+dt(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=dt(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(v(e))return this.each(function(t){T(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=gt(e)).length)for(;n=this[u++];)if(i=mt(n),r=1===n.nodeType&&" "+dt(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=dt(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):v(e)?this.each(function(n){T(this).toggleClass(e.call(this,n,mt(this),t),t)}):this.each(function(){var t,i,o,a;if(r)for(i=0,o=T(this),a=gt(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=mt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+dt(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var yt=/\r/g;T.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=v(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,T(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=T.map(i,function(e){return null==e?"":e+""})),(t=T.valHooks[this.type]||T.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=T.valHooks[i.type]||T.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(yt,""):null==n?"":n:void 0}}),T.extend({valHooks:{option:{get:function(e){var t=T.find.attr(e,"value");return null!=t?t:dt(T.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=T(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=T.makeArray(t),a=i.length;a--;)((r=i[a]).selected=T.inArray(T.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),T.each(["radio","checkbox"],function(){T.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=T.inArray(T(e).val(),t)>-1}},y.checkOn||(T.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in n;var vt=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};T.extend(T.event,{trigger:function(e,t,r,i){var o,s,u,c,l,h,f,p,m=[r||a],g=d.call(e,"type")?e.type:e,y=d.call(e,"namespace")?e.namespace.split("."):[];if(s=p=u=r=r||a,3!==r.nodeType&&8!==r.nodeType&&!vt.test(g+T.event.triggered)&&(g.indexOf(".")>-1&&(g=(y=g.split(".")).shift(),y.sort()),l=g.indexOf(":")<0&&"on"+g,(e=e[T.expando]?e:new T.Event(g,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=y.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:T.makeArray(t,[e]),f=T.event.special[g]||{},i||!f.trigger||!1!==f.trigger.apply(r,t))){if(!i&&!f.noBubble&&!b(r)){for(c=f.delegateType||g,vt.test(c+g)||(s=s.parentNode);s;s=s.parentNode)m.push(s),u=s;u===(r.ownerDocument||a)&&m.push(u.defaultView||u.parentWindow||n)}for(o=0;(s=m[o++])&&!e.isPropagationStopped();)p=s,e.type=o>1?c:f.bindType||g,(h=(J.get(s,"events")||{})[e.type]&&J.get(s,"handle"))&&h.apply(s,t),(h=l&&s[l])&&h.apply&&Y(s)&&(e.result=h.apply(s,t),!1===e.result&&e.preventDefault());return e.type=g,i||e.isDefaultPrevented()||f._default&&!1!==f._default.apply(m.pop(),t)||!Y(r)||l&&v(r[g])&&!b(r)&&((u=r[l])&&(r[l]=null),T.event.triggered=g,e.isPropagationStopped()&&p.addEventListener(g,bt),r[g](),e.isPropagationStopped()&&p.removeEventListener(g,bt),T.event.triggered=void 0,u&&(r[l]=u)),e.result}},simulate:function(e,t,n){var r=T.extend(new T.Event,n,{type:e,isSimulated:!0});T.event.trigger(r,null,t)}}),T.fn.extend({trigger:function(e,t){return this.each(function(){T.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return T.event.trigger(e,t,n,!0)}}),y.focusin||T.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){T.event.simulate(t,e.target,T.event.fix(e))};T.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=J.access(r,t);i||r.addEventListener(e,n,!0),J.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=J.access(r,t)-1;i?J.access(r,t,i):(r.removeEventListener(e,n,!0),J.remove(r,t))}}});var wt=n.location,_t=Date.now(),Et=/\?/;T.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||T.error("Invalid XML: "+e),t};var Tt=/\[\]$/,St=/\r?\n/g,kt=/^(?:submit|button|image|reset|file)$/i,Ct=/^(?:input|select|textarea|keygen)/i;function xt(e,t,n,r){var i;if(Array.isArray(t))T.each(t,function(t,i){n||Tt.test(e)?r(e,i):xt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==E(t))r(e,t);else for(i in t)xt(e+"["+i+"]",t[i],n,r)}T.param=function(e,t){var n,r=[],i=function(e,t){var n=v(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!T.isPlainObject(e))T.each(e,function(){i(this.name,this.value)});else for(n in e)xt(n,e[n],t,i);return r.join("&")},T.fn.extend({serialize:function(){return T.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=T.prop(this,"elements");return e?T.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!T(this).is(":disabled")&&Ct.test(this.nodeName)&&!kt.test(e)&&(this.checked||!fe.test(e))}).map(function(e,t){var n=T(this).val();return null==n?null:Array.isArray(n)?T.map(n,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:n.replace(St,"\r\n")}}).get()}});var It=/%20/g,Nt=/#.*$/,At=/([?&])_=[^&]*/,Dt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Pt=/^\/\//,Rt={},Lt={},Mt="*/".concat("*"),Ft=a.createElement("a");function jt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(j)||[];if(v(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Ut(e,t,n,r){var i={},o=e===Lt;function a(s){var u;return i[s]=!0,T.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||o||i[c]?o?!(u=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function qt(e,t){var n,r,i=T.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&T.extend(!0,e,r),e}Ft.href=wt.href,T.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:wt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(wt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Mt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":T.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?qt(qt(e,T.ajaxSettings),t):qt(T.ajaxSettings,e)},ajaxPrefilter:jt(Rt),ajaxTransport:jt(Lt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var r,i,o,s,u,c,l,h,f,p,d=T.ajaxSetup({},t),m=d.context||d,g=d.context&&(m.nodeType||m.jquery)?T(m):T.event,y=T.Deferred(),v=T.Callbacks("once memory"),b=d.statusCode||{},w={},_={},E="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(l){if(!s)for(s={};t=Dt.exec(o);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(e,t){return null==l&&(e=_[e.toLowerCase()]=_[e.toLowerCase()]||e,w[e]=t),this},overrideMimeType:function(e){return null==l&&(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)S.always(e[S.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||E;return r&&r.abort(t),k(0,t),this}};if(y.promise(S),d.url=((e||d.url||wt.href)+"").replace(Pt,wt.protocol+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=(d.dataType||"*").toLowerCase().match(j)||[""],null==d.crossDomain){c=a.createElement("a");try{c.href=d.url,c.href=c.href,d.crossDomain=Ft.protocol+"//"+Ft.host!=c.protocol+"//"+c.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=T.param(d.data,d.traditional)),Ut(Rt,d,t,S),l)return S;for(f in(h=T.event&&d.global)&&0==T.active++&&T.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!Ot.test(d.type),i=d.url.replace(Nt,""),d.hasContent?d.data&&d.processData&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&(d.data=d.data.replace(It,"+")):(p=d.url.slice(i.length),d.data&&(d.processData||"string"==typeof d.data)&&(i+=(Et.test(i)?"&":"?")+d.data,delete d.data),!1===d.cache&&(i=i.replace(At,"$1"),p=(Et.test(i)?"&":"?")+"_="+_t+++p),d.url=i+p),d.ifModified&&(T.lastModified[i]&&S.setRequestHeader("If-Modified-Since",T.lastModified[i]),T.etag[i]&&S.setRequestHeader("If-None-Match",T.etag[i])),(d.data&&d.hasContent&&!1!==d.contentType||t.contentType)&&S.setRequestHeader("Content-Type",d.contentType),S.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+Mt+"; q=0.01":""):d.accepts["*"]),d.headers)S.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(m,S,d)||l))return S.abort();if(E="abort",v.add(d.complete),S.done(d.success),S.fail(d.error),r=Ut(Lt,d,t,S)){if(S.readyState=1,h&&g.trigger("ajaxSend",[S,d]),l)return S;d.async&&d.timeout>0&&(u=n.setTimeout(function(){S.abort("timeout")},d.timeout));try{l=!1,r.send(w,k)}catch(e){if(l)throw e;k(-1,e)}}else k(-1,"No Transport");function k(e,t,a,s){var c,f,p,w,_,E=t;l||(l=!0,u&&n.clearTimeout(u),r=void 0,o=s||"",S.readyState=e>0?4:0,c=e>=200&&e<300||304===e,a&&(w=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(d,S,a)),w=function(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(d,w,S,c),c?(d.ifModified&&((_=S.getResponseHeader("Last-Modified"))&&(T.lastModified[i]=_),(_=S.getResponseHeader("etag"))&&(T.etag[i]=_)),204===e||"HEAD"===d.type?E="nocontent":304===e?E="notmodified":(E=w.state,f=w.data,c=!(p=w.error))):(p=E,!e&&E||(E="error",e<0&&(e=0))),S.status=e,S.statusText=(t||E)+"",c?y.resolveWith(m,[f,E,S]):y.rejectWith(m,[S,E,p]),S.statusCode(b),b=void 0,h&&g.trigger(c?"ajaxSuccess":"ajaxError",[S,d,c?f:p]),v.fireWith(m,[S,E]),h&&(g.trigger("ajaxComplete",[S,d]),--T.active||T.event.trigger("ajaxStop")))}return S},getJSON:function(e,t,n){return T.get(e,t,n,"json")},getScript:function(e,t){return T.get(e,void 0,t,"script")}}),T.each(["get","post"],function(e,t){T[t]=function(e,n,r,i){return v(n)&&(i=i||r,r=n,n=void 0),T.ajax(T.extend({url:e,type:t,dataType:i,data:n,success:r},T.isPlainObject(e)&&e))}}),T._evalUrl=function(e){return T.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},T.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=T(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return v(e)?this.each(function(t){T(this).wrapInner(e.call(this,t))}):this.each(function(){var t=T(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v(e);return this.each(function(n){T(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){T(this).replaceWith(this.childNodes)}),this}}),T.expr.pseudos.hidden=function(e){return!T.expr.pseudos.visible(e)},T.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},T.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},Vt=T.ajaxSettings.xhr();y.cors=!!Vt&&"withCredentials"in Vt,y.ajax=Vt=!!Vt,T.ajaxTransport(function(e){var t,r;if(y.cors||Vt&&!e.crossDomain)return{send:function(i,o){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);t=function(e){return function(){t&&(t=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Bt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=t(),r=s.onerror=s.ontimeout=t("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&n.setTimeout(function(){t&&r()})},t=t("abort");try{s.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),T.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),T.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return T.globalEval(e),e}}}),T.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),T.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(r,i){t=T("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),a.head.appendChild(t[0])},abort:function(){n&&n()}}});var Wt=[],zt=/(=)\?(?=&|$)|\?\?/;T.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||T.expando+"_"+_t++;return this[e]=!0,e}}),T.ajaxPrefilter("json jsonp",function(e,t,r){var i,o,a,s=!1!==e.jsonp&&(zt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&zt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(zt,"$1"+i):!1!==e.jsonp&&(e.url+=(Et.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||T.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=n[i],n[i]=function(){a=arguments},r.always(function(){void 0===o?T(n).removeProp(i):n[i]=o,e[i]&&(e.jsonpCallback=t.jsonpCallback,Wt.push(i)),a&&v(o)&&o(a[0]),a=o=void 0}),"script"}),y.createHTMLDocument=function(){var e=a.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),T.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=a.implementation.createHTMLDocument("")).createElement("base")).href=a.location.href,t.head.appendChild(r)):t=a),i=D.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=be([e],t,o),o&&o.length&&T(o).remove(),T.merge([],i.childNodes)));var r,i,o},T.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=dt(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&T.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?T("<div>").append(T.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},T.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){T.fn[t]=function(e){return this.on(t,e)}}),T.expr.pseudos.animated=function(e){return T.grep(T.timers,function(t){return e===t.elem}).length},T.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c=T.css(e,"position"),l=T(e),h={};"static"===c&&(e.style.position="relative"),s=l.offset(),o=T.css(e,"top"),u=T.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),v(t)&&(t=t.call(e,n,T.extend({},s))),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+i),"using"in t?t.using.call(e,h):l.css(h)}},T.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){T.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===T.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===T.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=T(e).offset()).top+=T.css(e,"borderTopWidth",!0),i.left+=T.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-T.css(r,"marginTop",!0),left:t.left-i.left-T.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===T.css(e,"position");)e=e.offsetParent;return e||we})}}),T.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;T.fn[e]=function(r){return K(this,function(e,r,i){var o;if(b(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),T.each(["top","left"],function(e,t){T.cssHooks[t]=We(y.pixelPosition,function(e,n){if(n)return n=Ve(e,t),Ue.test(n)?T(e).position()[t]+"px":n})}),T.each({Height:"height",Width:"width"},function(e,t){T.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){T.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return K(this,function(t,n,i){var o;return b(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?T.css(t,n,s):T.style(t,n,i,s)},t,a?i:void 0,a)}})}),T.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){T.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),T.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),T.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),T.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return r=u.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(u.call(arguments)))}).guid=e.guid=e.guid||T.guid++,i},T.holdReady=function(e){e?T.readyWait++:T.ready(!0)},T.isArray=Array.isArray,T.parseJSON=JSON.parse,T.nodeName=A,T.isFunction=v,T.isWindow=b,T.camelCase=X,T.type=E,T.now=Date.now,T.isNumeric=function(e){var t=T.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(r=function(){return T}.apply(t,[]))||(e.exports=r);var Kt=n.jQuery,Ht=n.$;return T.noConflict=function(e){return n.$===T&&(n.$=Ht),e&&n.jQuery===T&&(n.jQuery=Kt),T},i||(n.jQuery=n.$=T),T})},function(e,t,n){"use strict";n(50);var r=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(1));n(55),n(56),n(58),n(61),n(72),n(63),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),e.exports=r},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(54),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,p=63&c;u||(p=64,a||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!=s){var l=a<<4&240|s>>2;if(r.push(l),64!=u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){try{return u.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function l(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&(e[n]=l(e[n],t[n]));return e}var h=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}},e}(),f=function(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""},p="FirebaseError",d=Error.captureStackTrace;var m=function(){return function(e,t){if(this.code=e,this.message=t,d)d(this,g.prototype.create);else try{throw Error.apply(this,arguments)}catch(e){this.name=p,Object.defineProperty(this,"stack",{get:function(){return e.stack}})}}}();m.prototype=Object.create(Error.prototype),m.prototype.constructor=m,m.prototype.name=p;var g=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return e.prototype.create=function(e,t){void 0===t&&(t={});var n,r=this.errors[e],i=this.service+"/"+e;n=void 0===r?"Error":r.replace(this.pattern,function(e,n){var r=t[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new m(i,n);for(var a in t)t.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=t[a]);return o},e}();function y(e){return JSON.parse(e)}var v=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=y(c(o[0])||""),n=y(c(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},b=function(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])},w=function(e,t){return b(t,function(t,n){e[t]=n}),e},_=function(e,t,n){for(var r in e)if(t.call(n,e[r],r,e))return r},E=function(e){function t(){var t=e.call(this)||this;t.chain_=[],t.buf_=[],t.W_=[],t.pad_=[],t.inbuf_=0,t.total_=0,t.blockSize=64,t.pad_[0]=128;for(var n=1;n<t.blockSize;++n)t.pad_[n]=0;return t.reset(),t}return r.__extends(t,e),t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0==o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},t.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},t}(function(){return function(){this.blockSize=-1}}());var T=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(function(){e(n)}).catch(function(e){n.error(e)})}return e.prototype.next=function(e){this.forEachObserver(function(t){t.next(e)})},e.prototype.error=function(e){this.forEachObserver(function(t){t.error(e)}),this.close(e)},e.prototype.complete=function(){this.forEachObserver(function(e){e.complete()}),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"==typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=S),void 0===r.error&&(r.error=S),void 0===r.complete&&(r.complete=S);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}}),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(function(){t.observers=void 0,t.onNoObservers=void 0}))},e}();function S(){}function k(e,t,n){var r="";switch(t){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=e+" failed: ";return i+=r+" argument "}t.assert=o,t.assertionError=a,t.base64=u,t.base64Decode=c,t.base64Encode=function(e){var t=s(e);return u.encodeByteArray(t,!0)},t.CONSTANTS=i,t.deepCopy=function(e){return l(void 0,e)},t.deepExtend=l,t.patchProperty=function(e,t,n){e[t]=n},t.Deferred=h,t.getUA=f,t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(f())},t.isNodeSdk=function(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.ErrorFactory=g,t.FirebaseError=m,t.patchCapture=function(e){var t=d;return d=e,t},t.jsonEval=y,t.stringify=function(e){return JSON.stringify(e)},t.decode=v,t.isAdmin=function(e){var t=v(e).claims;return"object"==typeof t&&!0===t.admin},t.issuedAtTime=function(e){var t=v(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.isValidFormat=function(e){var t=v(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){var t,n,r=v(e).claims,i=Math.floor((new Date).getTime()/1e3);return"object"==typeof r&&(r.hasOwnProperty("nbf")?t=r.nbf:r.hasOwnProperty("iat")&&(t=r.iat),n=r.hasOwnProperty("exp")?r.exp:t+86400),i&&t&&n&&i>=t&&i<=n},t.clone=function(e){return w({},e)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.every=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&!t(n,e[n]))return!1;return!0},t.extend=w,t.findKey=_,t.findValue=function(e,t,n){var r=_(e,t,n);return r&&e[r]},t.forEach=b,t.getAnyKey=function(e){for(var t in e)return t},t.getCount=function(e){var t=0;for(var n in e)t++;return t},t.getValues=function(e){var t=[],n=0;for(var r in e)t[n++]=e[r];return t},t.isEmpty=function(e){for(var t in e)return!1;return!0},t.isNonNullObject=function(e){return"object"==typeof e&&null!==e},t.map=function(e,t,n){var r={};for(var i in e)r[i]=t.call(n,e[i],i,e);return r},t.safeGet=function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]},t.querystring=function(e){var t=[];return b(e,function(e,n){Array.isArray(n)?n.forEach(function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){var t={};return e.replace(/^\?/,"").split("&").forEach(function(e){if(e){var n=e.split("=");t[n[0]]=n[1]}}),t},t.Sha1=E,t.async=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){e.apply(void 0,n)}).catch(function(e){t&&t(e)})}},t.createSubscribe=function(e,t){var n=new T(e,t);return n.subscribe.bind(n)},t.errorPrefix=k,t.validateArgCount=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(k(e,t,r)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(k(e,t,r)+"must be a valid context object.")},t.validateNamespace=function(e,t,n,r){if((!r||n)&&"string"!=typeof n)throw new Error(k(e,t,r)+"must be a valid firebase namespace.")},t.stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;o(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,c=[],l=!1,h=-1;function f(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!l){var e=s(f);l=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new d(e,t)),1!==c.length||l||s(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){e.exports=n.p+"37a82253feeade09c57cc3ab5a4f629a.jpg"},function(e,t,n){e.exports=n.p+"7b7ca86c83ef5ddf0401f9f15a68364d.jpg"},function(e,t,n){e.exports=n.p+"d199abc335a612b2471744d0076b96cc.jpg"},function(e,t,n){e.exports=n.p+"90e80fbf5471988eee72c8c668f60623.jpg"},function(e,t,n){e.exports=n.p+"273dd84e8fb6716f78de4606a792996b.jpg"},function(e,t,n){e.exports=n.p+"1c47f974997c2fb2ba54b6a4a622e3b6.jpg"},function(e,t,n){var r;!function(i){"use strict";var o=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZWN]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g;return function(r,i,s,u){if(1!==arguments.length||"string"!==function(e){if(null===e)return"null";if(void 0===e)return"undefined";if("object"!=typeof e)return typeof e;if(Array.isArray(e))return"array";return{}.toString.call(e).slice(8,-1).toLowerCase()}(r)||/\d/.test(r)||(i=r,r=void 0),(r=r||new Date)instanceof Date||(r=new Date(r)),isNaN(r))throw TypeError("Invalid date");var c=(i=String(o.masks[i]||i||o.masks.default)).slice(0,4);"UTC:"!==c&&"GMT:"!==c||(i=i.slice(4),s=!0,"GMT:"===c&&(u=!0));var l=s?"getUTC":"get",h=r[l+"Date"](),f=r[l+"Day"](),p=r[l+"Month"](),d=r[l+"FullYear"](),m=r[l+"Hours"](),g=r[l+"Minutes"](),y=r[l+"Seconds"](),v=r[l+"Milliseconds"](),b=s?0:r.getTimezoneOffset(),w=function(e){var t=new Date(e.getFullYear(),e.getMonth(),e.getDate());t.setDate(t.getDate()-(t.getDay()+6)%7+3);var n=new Date(t.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var r=t.getTimezoneOffset()-n.getTimezoneOffset();t.setHours(t.getHours()-r);var i=(t-n)/6048e5;return 1+Math.floor(i)}(r),_=function(e){var t=e.getDay();0===t&&(t=7);return t}(r),E={d:h,dd:a(h),ddd:o.i18n.dayNames[f],dddd:o.i18n.dayNames[f+7],m:p+1,mm:a(p+1),mmm:o.i18n.monthNames[p],mmmm:o.i18n.monthNames[p+12],yy:String(d).slice(2),yyyy:d,h:m%12||12,hh:a(m%12||12),H:m,HH:a(m),M:g,MM:a(g),s:y,ss:a(y),l:a(v,3),L:a(Math.round(v/10)),t:m<12?o.i18n.timeNames[0]:o.i18n.timeNames[1],tt:m<12?o.i18n.timeNames[2]:o.i18n.timeNames[3],T:m<12?o.i18n.timeNames[4]:o.i18n.timeNames[5],TT:m<12?o.i18n.timeNames[6]:o.i18n.timeNames[7],Z:u?"GMT":s?"UTC":(String(r).match(t)||[""]).pop().replace(n,""),o:(b>0?"-":"+")+a(100*Math.floor(Math.abs(b)/60)+Math.abs(b)%60,4),S:["th","st","nd","rd"][h%10>3?0:(h%100-h%10!=10)*h%10],W:w,N:_};return i.replace(e,function(e){return e in E?E[e]:e.slice(1,e.length-1)})}}();function a(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e}o.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},o.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in n=Object(arguments[u]))i.call(n,c)&&(s[c]=n[c]);if(r){a=r(n);for(var l=0;l<a.length;l++)o.call(n,a[l])&&(s[a[l]]=n[a[l]])}}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=!("undefined"==typeof window||!window.document||!window.document.createElement),e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.nameShape=void 0,t.transitionTimeout=function(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to CSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}return null}};i(n(0));var r=i(n(3));function i(e){return e&&e.__esModule?e:{default:e}}t.nameShape=r.default.oneOfType([r.default.string,r.default.shape({enter:r.default.string,leave:r.default.string,active:r.default.string}),r.default.shape({enter:r.default.string,enterActive:r.default.string,leave:r.default.string,leaveActive:r.default.string,appear:r.default.string,appearActive:r.default.string})])},function(e,t,n){"use strict";n.r(t),n.d(t,"setLogLevel",function(){return u}),n.d(t,"Logger",function(){return s}),n.d(t,"LogLevel",function(){return r});var r,i=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(r||(r={}));var o=r.INFO,a=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString();switch(t){case r.DEBUG:case r.VERBOSE:console.log.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.INFO:console.info.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.WARN:console.warn.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;case r.ERROR:console.error.apply(console,["["+o+"]  "+e.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+t+")")}}},s=function(){function e(e){this.name=e,this._logLevel=o,this._logHandler=a,i.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in r))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!0,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.DEBUG].concat(e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.VERBOSE].concat(e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.INFO].concat(e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.WARN].concat(e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._logHandler.apply(this,[this,r.ERROR].concat(e))},e}();function u(e){i.forEach(function(t){t.logLevel=e})}},function(e,t,n){e.exports=n.p+"347c3890f8a8eb3736696949e4a7d4d9.png"},function(e,t,n){e.exports=n.p+"36784e2882d262354b052e88a59f721e.png"},function(e,t,n){e.exports=n.p+"3063fe213d81b0116f87151373b528fa.gif"},function(e,t,n){e.exports=n.p+"c473d20515dd6132855c859e1f297870.gif"},function(e,t,n){e.exports=n.p+"8d79c7f4c664741746d281eef71e0c0f.gif"},function(e,t,n){e.exports=n.p+"45a14a569e5931e27984697942bff03c.gif"},function(e,t,n){e.exports=n.p+"73381d0cdc3478856bb0f4a95082e92e.gif"},function(e,t,n){e.exports=n.p+"fa2cdc8f34bb8b00703ccd9d1c7b290d.gif"},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return g});var r=n(0),i=n.n(r),o=(n(6),n(2)),a=n.n(o),s=(n(7),n(8)),u=n.n(s),c=n(18),l=n.n(c);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var g=function(t){function n(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=function(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?m(e):t}(this,p(n).call(this,e))).state={name:"",email:"",message:"",username:"",password:"",adminIsLogin:!1,currentAdmin:"",reply:{}},t.handleNameChange=t.handleNameChange.bind(m(m(t))),t.handleEmailChange=t.handleEmailChange.bind(m(m(t))),t.handleMessageChange=t.handleMessageChange.bind(m(m(t))),t.handleSubmit=t.handleSubmit.bind(m(m(t))),t.handleUsernameChange=t.handleUsernameChange.bind(m(m(t))),t.handlePasswordChange=t.handlePasswordChange.bind(m(m(t))),t.login_success_func=t.login_success_func.bind(m(m(t))),t.login_error_func=t.login_error_func.bind(m(m(t))),t.handleLogin=t.handleLogin.bind(m(m(t))),t.handleLogout=t.handleLogout.bind(m(m(t))),t.handleReplyChange=t.handleReplyChange.bind(m(m(t))),t.handleReply=t.handleReply.bind(m(m(t)));return u.a.initializeApp({apiKey:"AIzaSyBYWG5Obmy1L-X2xFCkDG21cSu2htGhSWg",authDomain:"personal-website-8701a.firebaseapp.com",databaseURL:"https://personal-website-8701a.firebaseio.com",projectId:"personal-website-8701a",storageBucket:"personal-website-8701a.appspot.com",messagingSenderId:"547365748592"}),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(n,i.a.Component),function(e,t,n){t&&f(e.prototype,t),n&&f(e,n)}(n,[{key:"componentDidMount",value:function(){}},{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"handleMessageChange",value:function(e){this.setState({message:e.target.value})}},{key:"handleSubmit",value:function(t){t.preventDefault();var n=new Date,r=l()(n);u.a.database().ref("/messages").push({name:this.state.name,email:this.state.email,message:this.state.message,datetime:r,comment:""}),this.setState({name:"",email:"",message:""}),e("#message-list-wrapper").animate({scrollTop:document.getElementById("message-list-wrapper").scrollHeight},500)}},{key:"handleUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"login_error_func",value:function(e){e.code,e.message;alert("Username not found or wrong password.")}},{key:"login_success_func",value:function(e){alert("Login Successfully!"),this.setState({username:"",password:"",adminIsLogin:!0,currentAdmin:u.a.auth().currentUser.email})}},{key:"handleLogin",value:function(e){e.preventDefault();var t=this.state.username,n=this.state.password;u.a.auth().signInWithEmailAndPassword(t,n).then(this.login_success_func).catch(this.login_error_func)}},{key:"handleLogout",value:function(e){e.preventDefault(),u.a.auth().signOut().then(function(){alert("Admin signs out!")},function(e){alert("Admin signs out error!")}),this.setState({adminIsLogin:!1,currentAdmin:""})}},{key:"handleReplyChange",value:function(e){var t=Object.assign({},this.state.reply);t[e.target.name]=e.target.value,this.setState({reply:t})}},{key:"handleReply",value:function(e){var t=new Date,n=l()(t);u.a.database().ref("/messages/"+e.target.name).update({comment:this.state.reply[e.target.name],replyDatetime:n});var r=Object.assign({},this.state.reply);delete r[e.target.name],this.setState({reply:r})}},{key:"render",value:function(){var e=this,t=[];return u.a.database().ref("/messages").on("value",function(n){n.forEach(function(n){e.state.adminIsLogin?""!=n.val().comment?t.push(i.a.createElement(a.a,{transitionName:"message-block",transitionEnter:!1,transitionLeave:!1,transitionAppear:!0,transitionAppearTimeout:2e3},i.a.createElement("div",{className:"message-block",key:n.key},i.a.createElement("div",{className:"message-author"},n.val().name),i.a.createElement("div",{className:"message-datetime"},n.val().datetime),i.a.createElement("div",{className:"message-text"},n.val().message),i.a.createElement("div",{className:"message-reply-wrapper"},i.a.createElement("div",{className:"message-reply-author"},"Colin"),i.a.createElement("div",{className:"message-reply-datetime"},n.val().replyDatetime),i.a.createElement("div",{className:"message-reply-text"},n.val().comment))))):t.push(i.a.createElement(a.a,{transitionName:"message-block",transitionEnter:!1,transitionLeave:!1,transitionAppear:!0,transitionAppearTimeout:2e3},i.a.createElement("div",{className:"message-block",key:n.key},i.a.createElement("div",{className:"message-author"},n.val().name),i.a.createElement("div",{className:"message-datetime"},n.val().datetime),i.a.createElement("div",{className:"message-text"},n.val().message),i.a.createElement("textarea",{className:"message-reply-input",name:n.key,value:e.state.reply[n.key],onChange:e.handleReplyChange,placeholder:"Reply here"}),i.a.createElement("button",{className:"message-reply-submit",name:n.key,type:"submit",value:"Reply-Submit",onClick:e.handleReply},"Reply")))):""!=n.val().comment?t.push(i.a.createElement(a.a,{transitionName:"message-block",transitionEnter:!1,transitionLeave:!1,transitionAppear:!0,transitionAppearTimeout:2e3},i.a.createElement("div",{className:"message-block",key:n.key},i.a.createElement("div",{className:"message-author"},n.val().name),i.a.createElement("div",{className:"message-datetime"},n.val().datetime),i.a.createElement("div",{className:"message-text"},n.val().message),i.a.createElement("div",{className:"message-reply-wrapper"},i.a.createElement("div",{className:"message-reply-author"},"Colin"),i.a.createElement("div",{className:"message-reply-datetime"},n.val().replyDatetime),i.a.createElement("div",{className:"message-reply-text"},n.val().comment))))):t.push(i.a.createElement(a.a,{transitionName:"message-block",transitionEnter:!1,transitionLeave:!1,transitionAppear:!0,transitionAppearTimeout:2e3},i.a.createElement("div",{className:"message-block",key:n.key},i.a.createElement("div",{className:"message-author"},n.val().name),i.a.createElement("div",{className:"message-datetime"},n.val().datetime),i.a.createElement("div",{className:"message-text"},n.val().message))))})}),i.a.createElement("div",{id:"contact",className:"page"},i.a.createElement("div",{id:"message-input"},i.a.createElement("div",{id:"message-input-textarea"},i.a.createElement("h1",null,"LEAVE A RESPONSE"),i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("input",{id:"name",type:"text",name:"name",value:this.state.name,onChange:this.handleNameChange,placeholder:"Enter your name here",maxLength:"20",required:!0}),i.a.createElement("input",{id:"email",type:"email",name:"email",value:this.state.email,onChange:this.handleEmailChange,placeholder:"Enter your email here",required:!0}),i.a.createElement("textarea",{id:"message",value:this.state.message,onChange:this.handleMessageChange,placeholder:"Leave your response here",maxLength:"500",required:!0}),i.a.createElement("button",{id:"submit",type:"submit",value:"Submit"},"Submit"))),i.a.createElement("div",{id:"login-as-admin"},this.state.adminIsLogin?i.a.createElement("div",null,i.a.createElement("h1",null,"NOW LOGIN:"),i.a.createElement("h1",null,this.state.currentAdmin),i.a.createElement("button",{id:"logout",type:"submit",value:"Logout",onClick:this.handleLogout},"Logout")):i.a.createElement("div",null,i.a.createElement("h1",null,"LOGIN AS ADMIN"),i.a.createElement("form",{onSubmit:this.handleLogin},i.a.createElement("input",{id:"username",type:"email",name:"email",value:this.state.username,onChange:this.handleUsernameChange,placeholder:"Enter your username here",required:!0}),i.a.createElement("input",{id:"password",type:"password",name:"password",value:this.state.password,onChange:this.handlePasswordChange,placeholder:"Enter your password here",required:!0}),i.a.createElement("button",{id:"login",type:"submit",value:"Login"},"Login"))))),i.a.createElement("div",{id:"message-list"},i.a.createElement("h2",null,t.length.toString()+" COMMENTS"),i.a.createElement("hr",null),i.a.createElement("div",{id:"message-list-wrapper"},t)))}}]),n}()}).call(this,n(7))},function(e,t,n){"use strict";
/** @license React v16.6.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(19),i="function"==typeof Symbol&&Symbol.for,o=i?Symbol.for("react.element"):60103,a=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,u=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,l=i?Symbol.for("react.provider"):60109,h=i?Symbol.for("react.context"):60110,f=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,d=i?Symbol.for("react.suspense"):60113,m=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116,y="function"==typeof Symbol&&Symbol.iterator;function v(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(e=Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function _(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}function E(){}function T(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||b}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&v("85"),this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=_.prototype;var S=T.prototype=new E;S.constructor=T,r(S,_.prototype),S.isPureReactComponent=!0;var k={current:null,currentDispatcher:null},C=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var r=void 0,i={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)C.call(t,r)&&!x.hasOwnProperty(r)&&(i[r]=t[r]);var u=arguments.length-2;if(1===u)i.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===i[r]&&(i[r]=u[r]);return{$$typeof:o,type:e,key:a,ref:s,props:i,_owner:k.current}}function N(e){return"object"==typeof e&&null!==e&&e.$$typeof===o}var A=/\/+/g,D=[];function O(e,t,n,r){if(D.length){var i=D.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function P(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>D.length&&D.push(e)}function R(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var u=!1;if(null===t)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case o:case a:u=!0}}if(u)return r(i,t,""===n?"."+L(t,0):n),1;if(u=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var l=n+L(s=t[c],c);u+=e(s,l,r,i)}else if(l=null===t||"object"!=typeof t?null:"function"==typeof(l=y&&t[y]||t["@@iterator"])?l:null,"function"==typeof l)for(t=l.call(t),c=0;!(s=t.next()).done;)u+=e(s=s.value,l=n+L(s,c++),r,i);else"object"===s&&v("31","[object Object]"==(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return u}(e,"",t,n)}function L(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function M(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?j(e,r,n,function(e){return e}):null!=e&&(N(e)&&(e=function(e,t){return{$$typeof:o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(A,"$&/")+"/")+n)),r.push(e))}function j(e,t,n,r,i){var o="";null!=n&&(o=(""+n).replace(A,"$&/")+"/"),R(e,F,t=O(t,o,r,i)),P(t)}var U={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return j(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;R(e,M,t=O(null,null,t,n)),P(t)},count:function(e){return R(e,function(){return null},null)},toArray:function(e){var t=[];return j(e,t,null,function(e){return e}),t},only:function(e){return N(e)||v("143"),e}},createRef:function(){return{current:null}},Component:_,PureComponent:T,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:h,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,Provider:null,Consumer:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:p,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},Fragment:s,StrictMode:u,unstable_ConcurrentMode:f,Suspense:d,unstable_Profiler:c,createElement:I,cloneElement:function(e,t,n){(null===e||void 0===e)&&v("267",e);var i=void 0,a=r({},e.props),s=e.key,u=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(u=t.ref,c=k.current),void 0!==t.key&&(s=""+t.key);var l=void 0;for(i in e.type&&e.type.defaultProps&&(l=e.type.defaultProps),t)C.call(t,i)&&!x.hasOwnProperty(i)&&(a[i]=void 0===t[i]&&void 0!==l?l[i]:t[i])}if(1===(i=arguments.length-2))a.children=n;else if(1<i){l=Array(i);for(var h=0;h<i;h++)l[h]=arguments[h+2];a.children=l}return{$$typeof:o,type:e.type,key:s,ref:u,props:a,_owner:c}},createFactory:function(e){var t=I.bind(null,e);return t.type=e,t},isValidElement:N,version:"16.6.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:k,assign:r}},q={default:U},B=q&&U||q;e.exports=B.default||B},function(e,t,n){"use strict";
/** @license React v16.6.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),i=n(19),o=n(34);function a(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,o,a,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;(e=Error(t.replace(/%s/g,function(){return u[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||a("227");var s=!1,u=null,c=!1,l=null,h={onError:function(e){s=!0,u=e}};function f(e,t,n,r,i,o,a,c,l){s=!1,u=null,function(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}.apply(h,arguments)}var p=null,d={};function m(){if(p)for(var e in d){var t=d[e],n=p.indexOf(e);if(-1<n||a("96",e),!y[n])for(var r in t.extractEvents||a("97",e),y[n]=t,n=t.eventTypes){var i=void 0,o=n[r],s=t,u=r;v.hasOwnProperty(u)&&a("99",u),v[u]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&g(c[i],s,u);i=!0}else o.registrationName?(g(o.registrationName,s,u),i=!0):i=!1;i||a("98",r,e)}}}function g(e,t,n){b[e]&&a("100",e),b[e]=t,w[e]=t.eventTypes[n].dependencies}var y=[],v={},b={},w={},_=null,E=null,T=null;function S(e,t,n,r){t=e.type||"unknown-event",e.currentTarget=T(r),function(e,t,n,r,i,o,h,p,d){if(f.apply(this,arguments),s){if(s){var m=u;s=!1,u=null}else a("198"),m=void 0;c||(c=!0,l=m)}}(t,n,void 0,e),e.currentTarget=null}function k(e,t){return null==t&&a("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function C(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var x=null;function I(e,t){if(e){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)S(e,t,n[i],r[i]);else n&&S(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function N(e){return I(e,!0)}function A(e){return I(e,!1)}var D={injectEventPluginOrder:function(e){p&&a("101"),p=Array.prototype.slice.call(e),m()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];d.hasOwnProperty(t)&&d[t]===r||(d[t]&&a("102",t),d[t]=r,n=!0)}n&&m()}};function O(e,t){var n=e.stateNode;if(!n)return null;var r=_(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&a("231",t,typeof n),n)}function P(e,t){if(null!==e&&(x=k(x,e)),e=x,x=null,e&&(C(e,t?N:A),x&&a("95"),c))throw t=l,c=!1,l=null,t}var R=Math.random().toString(36).slice(2),L="__reactInternalInstance$"+R,M="__reactEventHandlers$"+R;function F(e){if(e[L])return e[L];for(;!e[L];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[L]).tag||6===e.tag?e:null}function j(e){return!(e=e[L])||5!==e.tag&&6!==e.tag?null:e}function U(e){if(5===e.tag||6===e.tag)return e.stateNode;a("33")}function q(e){return e[M]||null}function B(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function V(e,t,n){(t=O(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=k(n._dispatchListeners,t),n._dispatchInstances=k(n._dispatchInstances,e))}function W(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=B(t);for(t=n.length;0<t--;)V(n[t],"captured",e);for(t=0;t<n.length;t++)V(n[t],"bubbled",e)}}function z(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=O(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=k(n._dispatchListeners,t),n._dispatchInstances=k(n._dispatchInstances,e))}function K(e){e&&e.dispatchConfig.registrationName&&z(e._targetInst,null,e)}function H(e){C(e,W)}var Q=!("undefined"==typeof window||!window.document||!window.document.createElement);function G(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var X={animationend:G("Animation","AnimationEnd"),animationiteration:G("Animation","AnimationIteration"),animationstart:G("Animation","AnimationStart"),transitionend:G("Transition","TransitionEnd")},Y={},$={};function J(e){if(Y[e])return Y[e];if(!X[e])return e;var t,n=X[e];for(t in n)if(n.hasOwnProperty(t)&&t in $)return Y[e]=n[t];return e}Q&&($=document.createElement("div").style,"AnimationEvent"in window||(delete X.animationend.animation,delete X.animationiteration.animation,delete X.animationstart.animation),"TransitionEvent"in window||delete X.transitionend.transition);var Z=J("animationend"),ee=J("animationiteration"),te=J("animationstart"),ne=J("transitionend"),re="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ie=null,oe=null,ae=null;function se(){if(ae)return ae;var e,t,n=oe,r=n.length,i="value"in ie?ie.value:ie.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return ae=i.slice(e,1<t?1-t:void 0)}function ue(){return!0}function ce(){return!1}function le(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?ue:ce,this.isPropagationStopped=ce,this}function he(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function fe(e){e instanceof this||a("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function pe(e){e.eventPool=[],e.getPooled=he,e.release=fe}i(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=ue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=ue)},persist:function(){this.isPersistent=ue},isPersistent:ce,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=ce,this._dispatchInstances=this._dispatchListeners=null}}),le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},le.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var o=new t;return i(o,n.prototype),n.prototype=o,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,pe(n),n},pe(le);var de=le.extend({data:null}),me=le.extend({data:null}),ge=[9,13,27,32],ye=Q&&"CompositionEvent"in window,ve=null;Q&&"documentMode"in document&&(ve=document.documentMode);var be=Q&&"TextEvent"in window&&!ve,we=Q&&(!ye||ve&&8<ve&&11>=ve),_e=String.fromCharCode(32),Ee={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Te=!1;function Se(e,t){switch(e){case"keyup":return-1!==ge.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function ke(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var Ce=!1;var xe={eventTypes:Ee,extractEvents:function(e,t,n,r){var i=void 0,o=void 0;if(ye)e:{switch(e){case"compositionstart":i=Ee.compositionStart;break e;case"compositionend":i=Ee.compositionEnd;break e;case"compositionupdate":i=Ee.compositionUpdate;break e}i=void 0}else Ce?Se(e,n)&&(i=Ee.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Ee.compositionStart);return i?(we&&"ko"!==n.locale&&(Ce||i!==Ee.compositionStart?i===Ee.compositionEnd&&Ce&&(o=se()):(oe="value"in(ie=r)?ie.value:ie.textContent,Ce=!0)),i=de.getPooled(i,t,n,r),o?i.data=o:null!==(o=ke(n))&&(i.data=o),H(i),o=i):o=null,(e=be?function(e,t){switch(e){case"compositionend":return ke(t);case"keypress":return 32!==t.which?null:(Te=!0,_e);case"textInput":return(e=t.data)===_e&&Te?null:e;default:return null}}(e,n):function(e,t){if(Ce)return"compositionend"===e||!ye&&Se(e,t)?(e=se(),ae=oe=ie=null,Ce=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return we&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=me.getPooled(Ee.beforeInput,t,n,r)).data=e,H(t)):t=null,null===o?t:null===t?o:[o,t]}},Ie=null,Ne=null,Ae=null;function De(e){if(e=E(e)){"function"!=typeof Ie&&a("280");var t=_(e.stateNode);Ie(e.stateNode,e.type,t)}}function Oe(e){Ne?Ae?Ae.push(e):Ae=[e]:Ne=e}function Pe(){if(Ne){var e=Ne,t=Ae;if(Ae=Ne=null,De(e),t)for(e=0;e<t.length;e++)De(t[e])}}function Re(e,t){return e(t)}function Le(e,t,n){return e(t,n)}function Me(){}var Fe=!1;function je(e,t){if(Fe)return e(t);Fe=!0;try{return Re(e,t)}finally{Fe=!1,(null!==Ne||null!==Ae)&&(Me(),Pe())}}var Ue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Ue[e.type]:"textarea"===t}function Be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Ve(e){if(!Q)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function We(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ze(e){e._valueTracker||(e._valueTracker=function(e){var t=We(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ke(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=We(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var He=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qe=/^(.*)[\\\/]/,Ge="function"==typeof Symbol&&Symbol.for,Xe=Ge?Symbol.for("react.element"):60103,Ye=Ge?Symbol.for("react.portal"):60106,$e=Ge?Symbol.for("react.fragment"):60107,Je=Ge?Symbol.for("react.strict_mode"):60108,Ze=Ge?Symbol.for("react.profiler"):60114,et=Ge?Symbol.for("react.provider"):60109,tt=Ge?Symbol.for("react.context"):60110,nt=Ge?Symbol.for("react.concurrent_mode"):60111,rt=Ge?Symbol.for("react.forward_ref"):60112,it=Ge?Symbol.for("react.suspense"):60113,ot=Ge?Symbol.for("react.memo"):60115,at=Ge?Symbol.for("react.lazy"):60116,st="function"==typeof Symbol&&Symbol.iterator;function ut(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=st&&e[st]||e["@@iterator"])?e:null}function ct(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case nt:return"ConcurrentMode";case $e:return"Fragment";case Ye:return"Portal";case Ze:return"Profiler";case Je:return"StrictMode";case it:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case tt:return"Context.Consumer";case et:return"Context.Provider";case rt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case ot:return ct(e.type);case at:if(e=1===e._status?e._result:null)return ct(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 2:case 16:case 0:case 1:case 5:case 8:var n=e._debugOwner,r=e._debugSource,i=ct(e.type),o=null;n&&(o=ct(n.type)),n=i,i="",r?i=" (at "+r.fileName.replace(Qe,"")+":"+r.lineNumber+")":o&&(i=" (created by "+o+")"),o="\n    in "+(n||"Unknown")+i;break e;default:o=""}t+=o,e=e.return}while(e);return t}var ht=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ft=Object.prototype.hasOwnProperty,pt={},dt={};function mt(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var gt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){gt[e]=new mt(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];gt[t]=new mt(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){gt[e]=new mt(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){gt[e]=new mt(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){gt[e]=new mt(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){gt[e]=new mt(e,3,!0,e,null)}),["capture","download"].forEach(function(e){gt[e]=new mt(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){gt[e]=new mt(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){gt[e]=new mt(e,5,!1,e.toLowerCase(),null)});var yt=/[\-:]([a-z])/g;function vt(e){return e[1].toUpperCase()}function bt(e,t,n,r){var i=gt.hasOwnProperty(t)?gt[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||void 0===t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!ft.call(dt,e)||!ft.call(pt,e)&&(ht.test(e)?dt[e]=!0:(pt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function wt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function _t(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Et(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=wt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Tt(e,t){null!=(t=t.checked)&&bt(e,"checked",t,!1)}function St(e,t){Tt(e,t);var n=wt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ct(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ct(e,t.type,wt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function kt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ct(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(yt,vt);gt[t]=new mt(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(yt,vt);gt[t]=new mt(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(yt,vt);gt[t]=new mt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),gt.tabIndex=new mt("tabIndex",1,!1,"tabindex",null);var xt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function It(e,t,n){return(e=le.getPooled(xt.change,e,t,n)).type="change",Oe(n),H(e),e}var Nt=null,At=null;function Dt(e){P(e,!1)}function Ot(e){if(Ke(U(e)))return e}function Pt(e,t){if("change"===e)return t}var Rt=!1;function Lt(){Nt&&(Nt.detachEvent("onpropertychange",Mt),At=Nt=null)}function Mt(e){"value"===e.propertyName&&Ot(At)&&je(Dt,e=It(At,e,Be(e)))}function Ft(e,t,n){"focus"===e?(Lt(),At=n,(Nt=t).attachEvent("onpropertychange",Mt)):"blur"===e&&Lt()}function jt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ot(At)}function Ut(e,t){if("click"===e)return Ot(t)}function qt(e,t){if("input"===e||"change"===e)return Ot(t)}Q&&(Rt=Ve("input")&&(!document.documentMode||9<document.documentMode));var Bt={eventTypes:xt,_isInputEventSupported:Rt,extractEvents:function(e,t,n,r){var i=t?U(t):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=Pt:qe(i)?Rt?o=qt:(o=jt,a=Ft):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Ut),o&&(o=o(e,t)))return It(o,n,r);a&&a(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Ct(i,"number",i.value)}},Vt=le.extend({view:null,detail:null}),Wt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Wt[e])&&!!t[e]}function Kt(){return zt}var Ht=0,Qt=0,Gt=!1,Xt=!1,Yt=Vt.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Kt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ht;return Ht=e.screenX,Gt?"mousemove"===e.type?e.screenX-t:0:(Gt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Qt;return Qt=e.screenY,Xt?"mousemove"===e.type?e.screenY-t:0:(Xt=!0,0)}}),$t=Yt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Jt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Zt={eventTypes:Jt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=t,t=(t=n.relatedTarget||n.toElement)?F(t):null):o=null,o===t)return null;var a=void 0,s=void 0,u=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(a=Yt,s=Jt.mouseLeave,u=Jt.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(a=$t,s=Jt.pointerLeave,u=Jt.pointerEnter,c="pointer");var l=null==o?i:U(o);if(i=null==t?i:U(t),(e=a.getPooled(s,o,n,r)).type=c+"leave",e.target=l,e.relatedTarget=i,(n=a.getPooled(u,t,n,r)).type=c+"enter",n.target=i,n.relatedTarget=l,r=t,o&&r)e:{for(i=r,c=0,a=t=o;a;a=B(a))c++;for(a=0,u=i;u;u=B(u))a++;for(;0<c-a;)t=B(t),c--;for(;0<a-c;)i=B(i),a--;for(;c--;){if(t===i||t===i.alternate)break e;t=B(t),i=B(i)}t=null}else t=null;for(i=t,t=[];o&&o!==i&&(null===(c=o.alternate)||c!==i);)t.push(o),o=B(o);for(o=[];r&&r!==i&&(null===(c=r.alternate)||c!==i);)o.push(r),r=B(r);for(r=0;r<t.length;r++)z(t[r],"bubbled",e);for(r=o.length;0<r--;)z(o[r],"captured",n);return[e,n]}},en=Object.prototype.hasOwnProperty;function tn(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function nn(e,t){if(tn(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!en.call(t,n[r])||!tn(e[n[r]],t[n[r]]))return!1;return!0}function rn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function on(e){2!==rn(e)&&a("188")}function an(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=rn(e))&&a("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,o=i?i.alternate:null;if(!i||!o)break;if(i.child===o.child){for(var s=i.child;s;){if(s===n)return on(i),e;if(s===r)return on(i),t;s=s.sibling}a("188")}if(n.return!==r.return)n=i,r=o;else{s=!1;for(var u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s){for(u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}s||a("189")}}n.alternate!==r&&a("190")}return 3!==n.tag&&a("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var sn=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),un=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cn=Vt.extend({relatedTarget:null});function ln(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var hn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pn=Vt.extend({key:function(e){if(e.key){var t=hn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ln(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?fn[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Kt,charCode:function(e){return"keypress"===e.type?ln(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ln(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),dn=Yt.extend({dataTransfer:null}),mn=Vt.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Kt}),gn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),yn=Yt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),vn=[["abort","abort"],[Z,"animationEnd"],[ee,"animationIteration"],[te,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ne,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],bn={},wn={};function _n(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},bn[e]=t,wn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){_n(e,!0)}),vn.forEach(function(e){_n(e,!1)});var En={eventTypes:bn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=wn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=wn[e];if(!i)return null;switch(e){case"keypress":if(0===ln(n))return null;case"keydown":case"keyup":e=pn;break;case"blur":case"focus":e=cn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Yt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=mn;break;case Z:case ee:case te:e=sn;break;case ne:e=gn;break;case"scroll":e=Vt;break;case"wheel":e=yn;break;case"copy":case"cut":case"paste":e=un;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=$t;break;default:e=le}return H(t=e.getPooled(i,t,n,r)),t}},Tn=En.isInteractiveTopLevelEventType,Sn=[];function kn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=F(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=Be(e.nativeEvent);r=e.topLevelType;for(var o=e.nativeEvent,a=null,s=0;s<y.length;s++){var u=y[s];u&&(u=u.extractEvents(r,t,o,i))&&(a=k(a,u))}P(a,!1)}}var Cn=!0;function xn(e,t){if(!t)return null;var n=(Tn(e)?Nn:An).bind(null,e);t.addEventListener(e,n,!1)}function In(e,t){if(!t)return null;var n=(Tn(e)?Nn:An).bind(null,e);t.addEventListener(e,n,!0)}function Nn(e,t){Le(An,e,t)}function An(e,t){if(Cn){var n=Be(t);if(null===(n=F(n))||"number"!=typeof n.tag||2===rn(n)||(n=null),Sn.length){var r=Sn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{je(kn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Sn.length&&Sn.push(e)}}}var Dn={},On=0,Pn="_reactListenersID"+(""+Math.random()).slice(2);function Rn(e){return Object.prototype.hasOwnProperty.call(e,Pn)||(e[Pn]=On++,Dn[e[Pn]]={}),Dn[e[Pn]]}function Ln(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Mn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fn(e,t){var n,r=Mn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mn(r)}}function jn(){for(var e=window,t=Ln();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(e){break}t=Ln(e.document)}return t}function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var qn=Q&&"documentMode"in document&&11>=document.documentMode,Bn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Vn=null,Wn=null,zn=null,Kn=!1;function Hn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Kn||null==Vn||Vn!==Ln(n)?null:("selectionStart"in(n=Vn)&&Un(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},zn&&nn(zn,n)?null:(zn=n,(e=le.getPooled(Bn.select,Wn,e,t)).type="select",e.target=Vn,H(e),e))}var Qn={eventTypes:Bn,extractEvents:function(e,t,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){e:{o=Rn(o),i=w.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break e}}o=!0}i=!o}if(i)return null;switch(o=t?U(t):window,e){case"focus":(qe(o)||"true"===o.contentEditable)&&(Vn=o,Wn=t,zn=null);break;case"blur":zn=Wn=Vn=null;break;case"mousedown":Kn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Kn=!1,Hn(n,r);case"selectionchange":if(qn)break;case"keydown":case"keyup":return Hn(n,r)}return null}};function Gn(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Xn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+wt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Yn(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $n(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&a("92"),Array.isArray(t)&&(1>=t.length||a("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:wt(n)}}function Jn(e,t){var n=wt(t.value),r=wt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Zn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}D.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_=q,E=j,T=U,D.injectEventPluginsByName({SimpleEventPlugin:En,EnterLeaveEventPlugin:Zt,ChangeEventPlugin:Bt,SelectEventPlugin:Qn,BeforeInputEventPlugin:xe});var er={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function tr(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?tr(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var rr=void 0,ir=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if(e.namespaceURI!==er.svg||"innerHTML"in e)e.innerHTML=t;else{for((rr=rr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=rr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function or(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ar={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sr=["Webkit","ms","Moz","O"];function ur(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=t[n];i=null==o||"boolean"==typeof o||""===o?"":r||"number"!=typeof o||0===o||ar.hasOwnProperty(i)&&ar[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ar).forEach(function(e){sr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ar[t]=ar[e]})});var cr=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lr(e,t){t&&(cr[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&a("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&a("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||a("61")),null!=t.style&&"object"!=typeof t.style&&a("62",""))}function hr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function fr(e,t){var n=Rn(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=w[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":In("scroll",e);break;case"focus":case"blur":In("focus",e),In("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Ve(i)&&In(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===re.indexOf(i)&&xn(i,e)}n[i]=!0}}}function pr(){}var dr=null,mr=null;function gr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var vr=setTimeout,br=clearTimeout;function wr(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function _r(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Er=[],Tr=-1;function Sr(e){0>Tr||(e.current=Er[Tr],Er[Tr]=null,Tr--)}function kr(e,t){Er[++Tr]=e.current,e.current=t}var Cr={},xr={current:Cr},Ir={current:!1},Nr=Cr;function Ar(e,t){var n=e.type.contextTypes;if(!n)return Cr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Dr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Or(e){Sr(Ir),Sr(xr)}function Pr(e){Sr(Ir),Sr(xr)}function Rr(e,t,n){xr.current!==Cr&&a("168"),kr(xr,t),kr(Ir,n)}function Lr(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var o in r=r.getChildContext())o in e||a("108",ct(t)||"Unknown",o);return i({},n,r)}function Mr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Cr,Nr=xr.current,kr(xr,t),kr(Ir,Ir.current),!0}function Fr(e,t,n){var r=e.stateNode;r||a("169"),n?(t=Lr(e,t,Nr),r.__reactInternalMemoizedMergedChildContext=t,Sr(Ir),Sr(xr),kr(xr,t)):Sr(Ir),kr(Ir,n)}var jr=null,Ur=null;function qr(e){return function(t){try{return e(t)}catch(e){}}}function Br(e,t,n,r){return new function(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}(e,t,n,r)}function Vr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wr(e,t){var n=e.alternate;return null===n?((n=Br(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.firstContextDependency=e.firstContextDependency,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zr(e,t,n,r,i,o){var s=2;if(r=e,"function"==typeof e)Vr(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case $e:return Kr(n.children,i,o,t);case nt:return Hr(n,3|i,o,t);case Je:return Hr(n,2|i,o,t);case Ze:return(e=Br(12,n,t,4|i)).elementType=Ze,e.type=Ze,e.expirationTime=o,e;case it:return(e=Br(13,n,t,i)).elementType=it,e.type=it,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case et:s=10;break e;case tt:s=9;break e;case rt:s=11;break e;case ot:s=14;break e;case at:s=16,r=null;break e}a("130",null==e?e:typeof e,"")}return(t=Br(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=o,t}function Kr(e,t,n,r){return(e=Br(7,e,r,t)).expirationTime=n,e}function Hr(e,t,n,r){return e=Br(8,e,r,t),t=0==(1&t)?Je:nt,e.elementType=t,e.type=t,e.expirationTime=n,e}function Qr(e,t,n){return(e=Br(6,e,null,t)).expirationTime=n,e}function Gr(e,t,n){return(t=Br(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xr(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n>t?e.earliestPendingTime=t:e.latestPendingTime<t&&(e.latestPendingTime=t),Jr(t,e)}function Yr(e,t){e.didError=!1;var n=e.latestPingedTime;0!==n&&n<=t&&(e.latestPingedTime=0),n=e.earliestPendingTime;var r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n>t?e.earliestSuspendedTime=t:r<t&&(e.latestSuspendedTime=t),Jr(t,e)}function $r(e,t){var n=e.earliestPendingTime;return e=e.earliestSuspendedTime,(0===t||0!==n&&n<t)&&(t=n),(0===t||0!==e&&e<t)&&(t=e),t}function Jr(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,i=t.earliestPendingTime,o=t.latestPingedTime;0===(i=0!==i?i:o)&&(0===e||r>e)&&(i=r),0!==(e=i)&&0!==n&&n<e&&(e=n),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}var Zr=!1;function ei(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ti(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function ni(e){return{expirationTime:e,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function ri(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function ii(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=ei(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=ei(e.memoizedState),i=n.updateQueue=ei(n.memoizedState)):r=e.updateQueue=ti(i):null===i&&(i=n.updateQueue=ti(r));null===i||r===i?ri(r,t):null===r.lastUpdate||null===i.lastUpdate?(ri(r,t),ri(i,t)):(ri(r,t),i.lastUpdate=t)}function oi(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=ei(e.memoizedState):ai(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function ai(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=ti(t)),t}function si(e,t,n,r,o,a){switch(n.tag){case 1:return"function"==typeof(e=n.payload)?e.call(a,r,o):e;case 3:e.effectTag=-1025&e.effectTag|64;case 0:if(null===(o="function"==typeof(e=n.payload)?e.call(a,r,o):e)||void 0===o)break;return i({},r,o);case 2:Zr=!0}return r}function ui(e,t,n,r,i){Zr=!1;for(var o=(t=ai(e,t)).baseState,a=null,s=0,u=t.firstUpdate,c=o;null!==u;){var l=u.expirationTime;l>i?(null===a&&(a=u,o=c),(0===s||s>l)&&(s=l)):(c=si(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=u:(t.lastEffect.nextEffect=u,t.lastEffect=u))),u=u.next}for(l=null,u=t.firstCapturedUpdate;null!==u;){var h=u.expirationTime;h>i?(null===l&&(l=u,null===a&&(o=c)),(0===s||s>h)&&(s=h)):(c=si(e,0,u,c,n,r),null!==u.callback&&(e.effectTag|=32,u.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=u:(t.lastCapturedEffect.nextEffect=u,t.lastCapturedEffect=u))),u=u.next}null===a&&(t.lastUpdate=null),null===l?t.lastCapturedUpdate=null:e.effectTag|=32,null===a&&null===l&&(o=c),t.baseState=o,t.firstUpdate=a,t.firstCapturedUpdate=l,e.expirationTime=s,e.memoizedState=c}function ci(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),li(t.firstEffect,n),t.firstEffect=t.lastEffect=null,li(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function li(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n&&a("191",n),n.call(r)}e=e.nextEffect}}function hi(e,t){return{value:e,source:t,stack:lt(t)}}var fi={current:null},pi=null,di=null,mi=null;function gi(e,t){var n=e.type._context;kr(fi,n._currentValue),n._currentValue=t}function yi(e){var t=fi.current;Sr(fi),e.type._context._currentValue=t}function vi(e){pi=e,mi=di=null,e.firstContextDependency=null}function bi(e,t){return mi!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(mi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===di?(null===pi&&a("293"),pi.firstContextDependency=di=t):di=di.next=t),e._currentValue}var wi={},_i={current:wi},Ei={current:wi},Ti={current:wi};function Si(e){return e===wi&&a("174"),e}function ki(e,t){kr(Ti,t),kr(Ei,e),kr(_i,wi);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:nr(null,"");break;default:t=nr(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Sr(_i),kr(_i,t)}function Ci(e){Sr(_i),Sr(Ei),Sr(Ti)}function xi(e){Si(Ti.current);var t=Si(_i.current),n=nr(t,e.type);t!==n&&(kr(Ei,e),kr(_i,n))}function Ii(e){Ei.current===e&&(Sr(_i),Sr(Ei))}var Ni=He.ReactCurrentOwner,Ai=(new r.Component).refs;function Di(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var Oi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===rn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Ta(),i=ni(r=Ho(r,e));i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ii(e,i),Xo(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Ta(),i=ni(r=Ho(r,e));i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),ii(e,i),Xo(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Ta(),r=ni(n=Ho(n,e));r.tag=2,void 0!==t&&null!==t&&(r.callback=t),ii(e,r),Xo(e,n)}};function Pi(e,t,n,r,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!nn(n,r)||!nn(i,o))}function Ri(e,t,n){var r=!1,i=Cr,o=t.contextType;return"object"==typeof o&&null!==o?o=Ni.currentDispatcher.readContext(o):(i=Dr(t)?Nr:xr.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ar(e,i):Cr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Oi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Li(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oi.enqueueReplaceState(t,t.state,null)}function Mi(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Ai;var o=t.contextType;"object"==typeof o&&null!==o?i.context=Ni.currentDispatcher.readContext(o):(o=Dr(t)?Nr:xr.current,i.context=Ar(e,o)),null!==(o=e.updateQueue)&&(ui(e,o,n,i,r),i.state=e.memoizedState),"function"==typeof(o=t.getDerivedStateFromProps)&&(Di(e,t,o,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Oi.enqueueReplaceState(i,i.state,null),null!==(o=e.updateQueue)&&(ui(e,o,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var Fi=Array.isArray;function ji(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){var r=void 0;(n=n._owner)&&(1!==n.tag&&a("289"),r=n.stateNode),r||a("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===Ai&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!=typeof e&&a("284"),n._owner||a("290",e)}return e}function Ui(e,t){"textarea"!==e.type&&a("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function qi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Wr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Qr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=ji(e,t,n),r.return=e,r):((r=zr(n.type,n.key,n.props,null,e.mode,r)).ref=ji(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Kr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Qr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Xe:return(n=zr(t.type,t.key,t.props,null,e.mode,n)).ref=ji(e,null,t),n.return=e,n;case Ye:return(t=Gr(t,e.mode,n)).return=e,t}if(Fi(t)||ut(t))return(t=Kr(t,e.mode,n,null)).return=e,t;Ui(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Xe:return n.key===i?n.type===$e?h(e,t,n.props.children,r,i):c(e,t,n,r):null;case Ye:return n.key===i?l(e,t,n,r):null}if(Fi(n)||ut(n))return null!==i?null:h(e,t,n,r,null);Ui(e,n)}return null}function d(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Xe:return e=e.get(null===r.key?n:r.key)||null,r.type===$e?h(t,e,r.props.children,i,r.key):c(t,e,r,i);case Ye:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(Fi(r)||ut(r))return h(t,e=e.get(n)||null,r,i,null);Ui(t,r)}return null}function m(i,a,s,u){for(var c=null,l=null,h=a,m=a=0,g=null;null!==h&&m<s.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=p(i,h,s[m],u);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,m),null===l?c=y:l.sibling=y,l=y,h=g}if(m===s.length)return n(i,h),c;if(null===h){for(;m<s.length;m++)(h=f(i,s[m],u))&&(a=o(h,a,m),null===l?c=h:l.sibling=h,l=h);return c}for(h=r(i,h);m<s.length;m++)(g=d(h,i,m,s[m],u))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=o(g,a,m),null===l?c=g:l.sibling=g,l=g);return e&&h.forEach(function(e){return t(i,e)}),c}function g(i,s,u,c){var l=ut(u);"function"!=typeof l&&a("150"),null==(u=l.call(u))&&a("151");for(var h=l=null,m=s,g=s=0,y=null,v=u.next();null!==m&&!v.done;g++,v=u.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(i,m,v.value,c);if(null===b){m||(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===h?l=b:h.sibling=b,h=b,m=y}if(v.done)return n(i,m),l;if(null===m){for(;!v.done;g++,v=u.next())null!==(v=f(i,v.value,c))&&(s=o(v,s,g),null===h?l=v:h.sibling=v,h=v);return l}for(m=r(i,m);!v.done;g++,v=u.next())null!==(v=d(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===h?l=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(i,e)}),l}return function(e,r,o,u){var c="object"==typeof o&&null!==o&&o.type===$e&&null===o.key;c&&(o=o.props.children);var l="object"==typeof o&&null!==o;if(l)switch(o.$$typeof){case Xe:e:{for(l=o.key,c=r;null!==c;){if(c.key===l){if(7===c.tag?o.type===$e:c.elementType===o.type){n(e,c.sibling),(r=i(c,o.type===$e?o.props.children:o.props)).ref=ji(e,c,o),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}o.type===$e?((r=Kr(o.props.children,e.mode,u,o.key)).return=e,e=r):((u=zr(o.type,o.key,o.props,null,e.mode,u)).ref=ji(e,r,o),u.return=e,e=u)}return s(e);case Ye:e:{for(c=o.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),(r=i(r,o.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Gr(o,e.mode,u)).return=e,e=r}return s(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,o)).return=e,e=r):(n(e,r),(r=Qr(o,e.mode,u)).return=e,e=r),s(e);if(Fi(o))return m(e,r,o,u);if(ut(o))return g(e,r,o,u);if(l&&Ui(e,o),void 0===o&&!c)switch(e.tag){case 1:case 0:a("152",(u=e.type).displayName||u.name||"Component")}return n(e,r)}}var Bi=qi(!0),Vi=qi(!1),Wi=null,zi=null,Ki=!1;function Hi(e,t){var n=Br(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Qi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function Gi(e){if(Ki){var t=zi;if(t){var n=t;if(!Qi(e,t)){if(!(t=wr(n))||!Qi(e,t))return e.effectTag|=2,Ki=!1,void(Wi=e);Hi(Wi,n)}Wi=e,zi=_r(t)}else e.effectTag|=2,Ki=!1,Wi=e}}function Xi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag;)e=e.return;Wi=e}function Yi(e){if(e!==Wi)return!1;if(!Ki)return Xi(e),Ki=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yr(t,e.memoizedProps))for(t=zi;t;)Hi(e,t),t=wr(t);return Xi(e),zi=Wi?wr(e.stateNode):null,!0}function $i(){zi=Wi=null,Ki=!1}var Ji=He.ReactCurrentOwner;function Zi(e,t,n,r){t.child=null===e?Vi(t,null,n,r):Bi(t,e.child,n,r)}function eo(e,t,n,r,i){n=n.render;var o=t.ref;return Ir.current||t.memoizedProps!==r||o!==(null!==e?e.ref:null)?(Zi(e,t,r=n(r,o),i),t.child):lo(e,t,i)}function to(e,t,n,r,i,o){if(null===e){var a=n.type;return"function"!=typeof a||Vr(a)||void 0!==a.defaultProps||null!==n.compare?((e=zr(n.type,null,r,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,no(e,t,a,r,i,o))}return a=e.child,(0===i||i>o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:nn)(i,r)&&e.ref===t.ref)?lo(e,t,o):((e=Wr(a,r)).ref=t.ref,e.return=t,t.child=e)}function no(e,t,n,r,i,o){return null!==e&&(0===i||i>o)&&nn(e.memoizedProps,r)&&e.ref===t.ref?lo(e,t,o):io(e,t,n,r,o)}function ro(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function io(e,t,n,r,i){var o=Dr(n)?Nr:xr.current;return o=Ar(t,o),vi(t),n=n(r,o),t.effectTag|=1,Zi(e,t,n,i),t.child}function oo(e,t,n,r,i){if(Dr(n)){var o=!0;Mr(t)}else o=!1;if(vi(t),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),Ri(t,n,r),Mi(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"==typeof c&&null!==c?c=Ni.currentDispatcher.readContext(c):c=Ar(t,c=Dr(n)?Nr:xr.current);var l=n.getDerivedStateFromProps,h="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Li(t,a,r,c),Zr=!1;var f=t.memoizedState;u=a.state=f;var p=t.updateQueue;null!==p&&(ui(t,p,r,a,i),u=t.memoizedState),s!==r||f!==u||Ir.current||Zr?("function"==typeof l&&(Di(t,n,l,r),u=t.memoizedState),(s=Zr||Pi(t,n,s,r,f,u,c))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),r=!1)}else a=t.stateNode,s=t.memoizedProps,a.props=s,u=a.context,"object"==typeof(c=n.contextType)&&null!==c?c=Ni.currentDispatcher.readContext(c):c=Ar(t,c=Dr(n)?Nr:xr.current),(h="function"==typeof(l=n.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Li(t,a,r,c),Zr=!1,u=t.memoizedState,f=a.state=u,null!==(p=t.updateQueue)&&(ui(t,p,r,a,i),f=t.memoizedState),s!==r||u!==f||Ir.current||Zr?("function"==typeof l&&(Di(t,n,l,r),f=t.memoizedState),(l=Zr||Pi(t,n,s,r,u,f,c))?(h||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,c),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,c)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=c,r=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&u===e.memoizedState||(t.effectTag|=256),r=!1);return ao(e,t,n,r,o,i)}function ao(e,t,n,r,i,o){ro(e,t);var a=0!=(64&t.effectTag);if(!r&&!a)return i&&Fr(t,n,!1),lo(e,t,o);r=t.stateNode,Ji.current=t;var s=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&a?(t.child=Bi(t,e.child,null,o),t.child=Bi(t,null,s,o)):Zi(e,t,s,o),t.memoizedState=r.state,i&&Fr(t,n,!0),t.child}function so(e){var t=e.stateNode;t.pendingContext?Rr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Rr(0,t.context,!1),ki(e,t.containerInfo)}function uo(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function co(e,t,n){var r=t.mode,i=t.pendingProps,o=t.memoizedState;null!==o&&(o.alreadyCaptured?null!==e&&o===e.memoizedState?o={alreadyCaptured:!0,didTimeout:!0,timedOutAt:o.timedOutAt}:(o.alreadyCaptured=!0,o.didTimeout=!0):o=null);var a=null!==o&&o.didTimeout;if(null===e)a?(a=i.fallback,i=Kr(null,r,0,null),r=Kr(a,r,n,null),i.sibling=r,(n=i).return=r.return=t):n=r=Vi(t,null,i.children,n);else{var s=e.memoizedState;null!==s&&s.didTimeout?(e=(r=e.child).sibling,a?(n=i.fallback,(r=Wr(r,r.pendingProps)).effectTag|=2,(i=r.sibling=Wr(e,n,e.expirationTime)).effectTag|=2,n=r,r.childExpirationTime=0,r=i,n.return=r.return=t):(a=e.child,r=Bi(t,r.child,i.children,n),Bi(t,a,null,n),n=r)):(e=e.child,a?(a=i.fallback,(i=Kr(null,r,0,null)).effectTag|=2,i.child=e,e.return=i,(r=i.sibling=Kr(a,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=t):r=n=Bi(t,e,i.children,n))}return t.memoizedState=o,t.child=n,r}function lo(e,t,n){null!==e&&(t.firstContextDependency=e.firstContextDependency);var r=t.childExpirationTime;if(0===r||r>n)return null;if(null!==e&&t.child!==e.child&&a("153"),null!==t.child){for(n=Wr(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function ho(e,t,n){var r=t.expirationTime;if(null!==e&&e.memoizedProps===t.pendingProps&&!Ir.current&&(0===r||r>n)){switch(t.tag){case 3:so(t),$i();break;case 5:xi(t);break;case 1:Dr(t.type)&&Mr(t);break;case 4:ki(t,t.stateNode.containerInfo);break;case 10:gi(t,t.memoizedProps.value);break;case 13:if(null!==(r=t.memoizedState)&&r.didTimeout)return 0!==(r=t.child.childExpirationTime)&&r<=n?co(e,t,n):null!==(t=lo(e,t,n))?t.sibling:null}return lo(e,t,n)}switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var i=Ar(t,xr.current);if(vi(t),i=r(e,i),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,Dr(r)){var o=!0;Mr(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&Di(t,r,s,e),i.updater=Oi,t.stateNode=i,i._reactInternalFiber=t,Mi(t,r,e,n),t=ao(null,t,r,!0,o,n)}else t.tag=0,Zi(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),o=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:throw e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._result=t,t}}(i),t.type=e,i=t.tag=function(e){if("function"==typeof e)return Vr(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===rt)return 11;if(e===ot)return 14}return 2}(e),o=uo(e,o),s=void 0,i){case 0:s=io(null,t,e,o,n);break;case 1:s=oo(null,t,e,o,n);break;case 11:s=eo(null,t,e,o,n);break;case 14:s=to(null,t,e,uo(e.type,o),r,n);break;default:a("283",e)}return s;case 0:return r=t.type,i=t.pendingProps,io(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 1:return r=t.type,i=t.pendingProps,oo(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 3:return so(t),null===(r=t.updateQueue)&&a("282"),i=null!==(i=t.memoizedState)?i.element:null,ui(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?($i(),t=lo(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(zi=_r(t.stateNode.containerInfo),Wi=t,i=Ki=!0),i?(t.effectTag|=2,t.child=Vi(t,null,r,n)):(Zi(e,t,r,n),$i()),t=t.child),t;case 5:return xi(t),null===e&&Gi(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,yr(r,i)?s=null:null!==o&&yr(r,o)&&(t.effectTag|=16),ro(e,t),1073741823!==n&&1&t.mode&&i.hidden?(t.expirationTime=1073741823,t=null):(Zi(e,t,s,n),t=t.child),t;case 6:return null===e&&Gi(t),null;case 13:return co(e,t,n);case 4:return ki(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Bi(t,null,r,n):Zi(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,eo(e,t,r,i=t.elementType===r?i:uo(r,i),n);case 7:return Zi(e,t,t.pendingProps,n),t.child;case 8:case 12:return Zi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,gi(t,o=i.value),null!==s){var u=s.value;if(0===(o=u===o&&(0!==u||1/u==1/o)||u!=u&&o!=o?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,o):1073741823))){if(s.children===i.children&&!Ir.current){t=lo(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){if(null!==(u=s.firstContextDependency))do{if(u.context===r&&0!=(u.observedBits&o)){if(1===s.tag){var c=ni(n);c.tag=2,ii(s,c)}(0===s.expirationTime||s.expirationTime>n)&&(s.expirationTime=n),null!==(c=s.alternate)&&(0===c.expirationTime||c.expirationTime>n)&&(c.expirationTime=n);for(var l=s.return;null!==l;){if(c=l.alternate,0===l.childExpirationTime||l.childExpirationTime>n)l.childExpirationTime=n,null!==c&&(0===c.childExpirationTime||c.childExpirationTime>n)&&(c.childExpirationTime=n);else{if(null===c||!(0===c.childExpirationTime||c.childExpirationTime>n))break;c.childExpirationTime=n}l=l.return}}c=s.child,u=u.next}while(null!==u);else c=10===s.tag&&s.type===t.type?null:s.child;if(null!==c)c.return=s;else for(c=s;null!==c;){if(c===t){c=null;break}if(null!==(s=c.sibling)){s.return=c.return,c=s;break}c=c.return}s=c}}Zi(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(o=t.pendingProps).children,vi(t),r=r(i=bi(i,o.unstable_observedBits)),t.effectTag|=1,Zi(e,t,r,n),t.child;case 14:return to(e,t,i=t.type,o=uo(i.type,t.pendingProps),r,n);case 15:return no(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:uo(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Dr(r)?(e=!0,Mr(t)):e=!1,vi(t),Ri(t,r,i),Mi(t,r,i,n),ao(null,t,r,!0,e,n);default:a("156")}}function fo(e){e.effectTag|=4}var po=void 0,mo=void 0,go=void 0,yo=void 0;function vo(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=lt(n)),null!==n&&ct(n.type),t=t.value,null!==e&&1===e.tag&&ct(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function bo(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ko(e,t)}else t.current=null}function wo(e){switch("function"==typeof Ur&&Ur(e),e.tag){case 1:bo(e);var t=e.stateNode;if("function"==typeof t.componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Ko(e,t)}break;case 5:bo(e);break;case 4:To(e)}}function _o(e){return 5===e.tag||3===e.tag||4===e.tag}function Eo(e){e:{for(var t=e.return;null!==t;){if(_o(t)){var n=t;break e}t=t.return}a("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:a("161")}16&n.effectTag&&(or(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||_o(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(r){var o=t,s=i.stateNode,u=n;8===o.nodeType?o.parentNode.insertBefore(s,u):o.insertBefore(s,u)}else t.insertBefore(i.stateNode,n);else r?(s=t,u=i.stateNode,8===s.nodeType?(o=s.parentNode).insertBefore(u,s):(o=s).appendChild(u),null!==(s=s._reactRootContainer)&&void 0!==s||null!==o.onclick||(o.onclick=pr)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function To(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&a("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var o=t,s=o;;)if(wo(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===o)break;for(;null===s.sibling;){if(null===s.return||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}i?(o=r,s=t.stateNode,8===o.nodeType?o.parentNode.removeChild(s):o.removeChild(s)):r.removeChild(t.stateNode)}else if(4===t.tag?(r=t.stateNode.containerInfo,i=!0):wo(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function So(e,t){switch(t.tag){case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(n[M]=r,"input"===e&&"radio"===r.type&&null!=r.name&&Tt(n,r),hr(e,i),t=hr(e,r),i=0;i<o.length;i+=2){var s=o[i],u=o[i+1];"style"===s?ur(n,u):"dangerouslySetInnerHTML"===s?ir(n,u):"children"===s?or(n,u):bt(n,s,u,t)}switch(e){case"input":St(n,r);break;case"textarea":Jn(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?Xn(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?Xn(n,!!r.multiple,r.defaultValue,!0):Xn(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:null===t.stateNode&&a("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:case 13:case 17:break;default:a("163")}}function ko(e,t,n){(n=ni(n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Oa(r),vo(e,t)},n}function Co(e,t,n){(n=ni(n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===qo?qo=new Set([this]):qo.add(this));var n=t.value,i=t.stack;vo(e,t),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function xo(e){switch(e.tag){case 1:Dr(e.type)&&Or();var t=e.effectTag;return 1024&t?(e.effectTag=-1025&t|64,e):null;case 3:return Ci(),Pr(),0!=(64&(t=e.effectTag))&&a("285"),e.effectTag=-1025&t|64,e;case 5:return Ii(e),null;case 13:if(1024&(t=e.effectTag)){e.effectTag=-1025&t|64,t=null!==(t=e.alternate)?t.memoizedState:null;var n=e.memoizedState;return null===n?n={alreadyCaptured:!0,didTimeout:!1,timedOutAt:0}:t===n?n={alreadyCaptured:!0,didTimeout:n.didTimeout,timedOutAt:n.timedOutAt}:n.alreadyCaptured=!0,e.memoizedState=n,e}return null;case 4:return Ci(),null;case 10:return yi(e),null;default:return null}}po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},mo=function(){},go=function(e,t,n,r,o){var a=e.memoizedProps;if(a!==r){var s=t.stateNode;switch(Si(_i.current),e=null,n){case"input":a=_t(s,a),r=_t(s,r),e=[];break;case"option":a=Gn(s,a),r=Gn(s,r),e=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":a=Yn(s,a),r=Yn(s,r),e=[];break;default:"function"!=typeof a.onClick&&"function"==typeof r.onClick&&(s.onclick=pr)}lr(n,r),s=n=void 0;var u=null;for(n in a)if(!r.hasOwnProperty(n)&&a.hasOwnProperty(n)&&null!=a[n])if("style"===n){var c=a[n];for(s in c)c.hasOwnProperty(s)&&(u||(u={}),u[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(b.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var l=r[n];if(c=null!=a?a[n]:void 0,r.hasOwnProperty(n)&&l!==c&&(null!=l||null!=c))if("style"===n)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(u||(u={}),u[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(u||(u={}),u[s]=l[s])}else u||(e||(e=[]),e.push(n,u)),u=l;else"dangerouslySetInnerHTML"===n?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(e=e||[]).push(n,""+l)):"children"===n?c===l||"string"!=typeof l&&"number"!=typeof l||(e=e||[]).push(n,""+l):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(b.hasOwnProperty(n)?(null!=l&&fr(o,n),e||c===l||(e=[])):(e=e||[]).push(n,l))}u&&(e=e||[]).push("style",u),o=e,(t.updateQueue=o)&&fo(t)}},yo=function(e,t,n,r){n!==r&&fo(t)};var Io={readContext:bi},No=He.ReactCurrentOwner,Ao=0,Do=0,Oo=!1,Po=null,Ro=null,Lo=0,Mo=-1,Fo=!1,jo=null,Uo=!1,qo=null;function Bo(){if(null!==Po)for(var e=Po.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!==n&&void 0!==n&&Or();break;case 3:Ci(),Pr();break;case 5:Ii(t);break;case 4:Ci();break;case 10:yi(t)}e=e.return}Ro=null,Lo=0,Mo=-1,Fo=!1,Po=null}function Vo(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(512&e.effectTag)){var o=t,s=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Dr(t.type)&&Or();break;case 3:Ci(),Pr(),(s=t.stateNode).pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==o&&null!==o.child||(Yi(t),t.effectTag&=-3),mo(t);break;case 5:Ii(t);var u=Si(Ti.current),c=t.type;if(null!==o&&null!=t.stateNode)go(o,t,c,s,u),o.ref!==t.ref&&(t.effectTag|=128);else if(s){var l=Si(_i.current);if(Yi(t)){o=(s=t).stateNode;var h=s.type,f=s.memoizedProps,p=u;switch(o[L]=s,o[M]=f,c=void 0,u=h){case"iframe":case"object":xn("load",o);break;case"video":case"audio":for(h=0;h<re.length;h++)xn(re[h],o);break;case"source":xn("error",o);break;case"img":case"image":case"link":xn("error",o),xn("load",o);break;case"form":xn("reset",o),xn("submit",o);break;case"details":xn("toggle",o);break;case"input":Et(o,f),xn("invalid",o),fr(p,"onChange");break;case"select":o._wrapperState={wasMultiple:!!f.multiple},xn("invalid",o),fr(p,"onChange");break;case"textarea":$n(o,f),xn("invalid",o),fr(p,"onChange")}for(c in lr(u,f),h=null,f)f.hasOwnProperty(c)&&(l=f[c],"children"===c?"string"==typeof l?o.textContent!==l&&(h=["children",l]):"number"==typeof l&&o.textContent!==""+l&&(h=["children",""+l]):b.hasOwnProperty(c)&&null!=l&&fr(p,c));switch(u){case"input":ze(o),kt(o,f,!0);break;case"textarea":ze(o),Zn(o);break;case"select":case"option":break;default:"function"==typeof f.onClick&&(o.onclick=pr)}c=h,s.updateQueue=c,(s=null!==c)&&fo(t)}else{f=t,o=c,p=s,h=9===u.nodeType?u:u.ownerDocument,l===er.html&&(l=tr(o)),l===er.html?"script"===o?((o=h.createElement("div")).innerHTML="<script><\/script>",h=o.removeChild(o.firstChild)):"string"==typeof p.is?h=h.createElement(o,{is:p.is}):(h=h.createElement(o),"select"===o&&p.multiple&&(h.multiple=!0)):h=h.createElementNS(l,o),(o=h)[L]=f,o[M]=s,po(o,t,!1,!1),p=o;var d=u,m=hr(h=c,f=s);switch(h){case"iframe":case"object":xn("load",p),u=f;break;case"video":case"audio":for(u=0;u<re.length;u++)xn(re[u],p);u=f;break;case"source":xn("error",p),u=f;break;case"img":case"image":case"link":xn("error",p),xn("load",p),u=f;break;case"form":xn("reset",p),xn("submit",p),u=f;break;case"details":xn("toggle",p),u=f;break;case"input":Et(p,f),u=_t(p,f),xn("invalid",p),fr(d,"onChange");break;case"option":u=Gn(p,f);break;case"select":p._wrapperState={wasMultiple:!!f.multiple},u=i({},f,{value:void 0}),xn("invalid",p),fr(d,"onChange");break;case"textarea":$n(p,f),u=Yn(p,f),xn("invalid",p),fr(d,"onChange");break;default:u=f}lr(h,u),l=void 0;var g=h,y=p,v=u;for(l in v)if(v.hasOwnProperty(l)){var w=v[l];"style"===l?ur(y,w):"dangerouslySetInnerHTML"===l?null!=(w=w?w.__html:void 0)&&ir(y,w):"children"===l?"string"==typeof w?("textarea"!==g||""!==w)&&or(y,w):"number"==typeof w&&or(y,""+w):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(b.hasOwnProperty(l)?null!=w&&fr(d,l):null!=w&&bt(y,l,w,m))}switch(h){case"input":ze(p),kt(p,f,!1);break;case"textarea":ze(p),Zn(p);break;case"option":null!=f.value&&p.setAttribute("value",""+wt(f.value));break;case"select":(u=p).multiple=!!f.multiple,null!=(p=f.value)?Xn(u,!!f.multiple,p,!1):null!=f.defaultValue&&Xn(u,!!f.multiple,f.defaultValue,!0);break;default:"function"==typeof u.onClick&&(p.onclick=pr)}(s=gr(c,s))&&fo(t),t.stateNode=o}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&a("166");break;case 6:o&&null!=t.stateNode?yo(o,t,o.memoizedProps,s):("string"!=typeof s&&(null===t.stateNode&&a("166")),o=Si(Ti.current),Si(_i.current),Yi(t)?(c=(s=t).stateNode,o=s.memoizedProps,c[L]=s,(s=c.nodeValue!==o)&&fo(t)):(c=t,(s=(9===o.nodeType?o:o.ownerDocument).createTextNode(s))[L]=t,c.stateNode=s));break;case 11:break;case 13:s=t.memoizedState,c=null!==o?o.memoizedState:null,(null!==s&&s.didTimeout)!==(null!==c&&c.didTimeout)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Ci(),mo(t);break;case 10:yi(t);break;case 9:case 14:break;case 17:Dr(t.type)&&Or();break;default:a("156")}if(Po=null,t=e,1073741823===Lo||1073741823!==t.childExpirationTime){for(s=0,c=t.child;null!==c;)o=c.expirationTime,u=c.childExpirationTime,(0===s||0!==o&&o<s)&&(s=o),(0===s||0!==u&&u<s)&&(s=u),c=c.sibling;t.childExpirationTime=s}null!==n&&0==(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=xo(e)))return e.effectTag&=511,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512)}if(null!==r)return r;if(null===n)break;e=n}return null}function Wo(e){var t=ho(e.alternate,e,Lo);return e.memoizedProps=e.pendingProps,null===t&&(t=Vo(e)),No.current=null,t}function zo(e,t,n){Oo&&a("243"),Oo=!0,No.currentDispatcher=Io;var r=e.nextExpirationTimeToWorkOn;r===Lo&&e===Ro&&null!==Po||(Bo(),Lo=r,Po=Wr((Ro=e).current,null),e.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(t)for(;null!==Po&&!Da();)Po=Wo(Po);else for(;null!==Po;)Po=Wo(Po)}catch(t){if(null===Po)i=!0,Oa(t);else{null===Po&&a("271");var o=Po,s=o.return;if(null!==s){e:{var u=e,c=s,l=o,h=t;if(s=Lo,l.effectTag|=512,l.firstEffect=l.lastEffect=null,null!==h&&"object"==typeof h&&"function"==typeof h.then){var f=h;h=c;var p=-1,d=-1;do{if(13===h.tag){var m=h.alternate;if(null!==m&&(null!==(m=m.memoizedState)&&m.didTimeout)){d=10*(m.timedOutAt-2);break}"number"==typeof(m=h.pendingProps.maxDuration)&&(0>=m?p=0:(-1===p||m<p)&&(p=m))}h=h.return}while(null!==h);h=c;do{if((m=13===h.tag)&&(void 0===h.memoizedProps.fallback?m=!1:m=null===(m=h.memoizedState)||!m.didTimeout),m){if(c=Qo.bind(null,u,h,l,0==(1&h.mode)?1:s),f.then(c,c),0==(1&h.mode)){h.effectTag|=32,Zi(l.alternate,l,null,s),l.effectTag&=-513,1===l.tag&&(l.effectTag&=-421,null===l.alternate&&(l.tag=17));break e}-1===p?u=1073741823:(-1===d&&(d=10*($r(u,s)-2)-5e3),u=d+p),0<=u&&Mo<u&&(Mo=u),h.effectTag|=1024,h.expirationTime=s;break e}h=h.return}while(null!==h);h=Error("An update was suspended, but no placeholder UI was provided.")}Fo=!0,h=hi(h,l),u=c;do{switch(u.tag){case 3:l=h,u.effectTag|=1024,u.expirationTime=s,oi(u,s=ko(u,l,s));break e;case 1:if(l=h,c=u.type,f=u.stateNode,0==(64&u.effectTag)&&("function"==typeof c.getDerivedStateFromError||null!==f&&"function"==typeof f.componentDidCatch&&(null===qo||!qo.has(f)))){u.effectTag|=1024,u.expirationTime=s,oi(u,s=Co(u,l,s));break e}}u=u.return}while(null!==u)}Po=Vo(o);continue}i=!0,Oa(t)}}break}if(Oo=!1,mi=di=pi=No.currentDispatcher=null,i)Ro=null,e.finishedWork=null;else if(null!==Po)e.finishedWork=null;else{if(null===(t=e.current.alternate)&&a("281"),Ro=null,Fo){if(i=e.latestPendingTime,o=e.latestSuspendedTime,s=e.latestPingedTime,0!==i&&i>r||0!==o&&o>r||0!==s&&s>r)return Yr(e,r),void Ea(e,t,r,e.expirationTime,-1);if(!e.didError&&!n)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,n=e.expirationTime=1,void Ea(e,t,r,n,-1)}n||-1===Mo?(e.pendingCommitExpirationTime=r,e.finishedWork=t):(Yr(e,r),(n=10*($r(e,r)-2))<Mo&&(Mo=n),n=10*(Ta()-2),n=Mo-n,Ea(e,t,r,e.expirationTime,0>n?0:n))}}function Ko(e,t){var n;e:{for(Oo&&!Uo&&a("263"),n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===qo||!qo.has(r))){ii(n,e=Co(n,e=hi(t,e),1)),Xo(n,1),n=void 0;break e}break;case 3:ii(n,e=ko(n,e=hi(t,e),1)),Xo(n,1),n=void 0;break e}n=n.return}3===e.tag&&(ii(e,n=ko(e,n=hi(t,e),1)),Xo(e,1)),n=void 0}return n}function Ho(e,t){return 0!==Do?e=Do:Oo?e=Uo?1:Lo:1&t.mode?(e=ha?2+10*(1+((e-2+15)/10|0)):2+25*(1+((e-2+500)/25|0)),null!==Ro&&e===Lo&&(e+=1)):e=1,ha&&e>ia&&(ia=e),e}function Qo(e,t,n,r){var i=e.earliestSuspendedTime,o=e.latestSuspendedTime;if(0!==i&&r>=i&&r<=o){o=i=r,e.didError=!1;var a=e.latestPingedTime;(0===a||a<o)&&(e.latestPingedTime=o),Jr(o,e)}else Xr(e,i=Ho(i=Ta(),t));0!=(1&t.mode)&&e===Ro&&Lo===r&&(Ro=null),Go(t,i),0==(1&t.mode)&&(Go(n,i),1===n.tag&&null!==n.stateNode&&((t=ni(i)).tag=2,ii(n,t))),0!==(n=e.expirationTime)&&Sa(e,n)}function Go(e,t){(0===e.expirationTime||e.expirationTime>t)&&(e.expirationTime=t);var n=e.alternate;null!==n&&(0===n.expirationTime||n.expirationTime>t)&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,(0===r.childExpirationTime||r.childExpirationTime>t)&&(r.childExpirationTime=t),null!==n&&(0===n.childExpirationTime||n.childExpirationTime>t)&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null===i?null:i}function Xo(e,t){null!==(e=Go(e,t))&&(!Oo&&0!==Lo&&t<Lo&&Bo(),Xr(e,t),Oo&&!Uo&&Ro===e||Sa(e,e.expirationTime),ya>ga&&(ya=0,a("185")))}function Yo(e,t,n,r,i){var o=Do;Do=1;try{return e(t,n,r,i)}finally{Do=o}}var $o=null,Jo=null,Zo=0,ea=void 0,ta=!1,na=null,ra=0,ia=0,oa=!1,aa=!1,sa=null,ua=null,ca=!1,la=!1,ha=!1,fa=null,pa=o.unstable_now(),da=2+(pa/10|0),ma=da,ga=50,ya=0,va=null,ba=1;function wa(){da=2+((o.unstable_now()-pa)/10|0)}function _a(e,t){if(0!==Zo){if(t>Zo)return;null!==ea&&o.unstable_cancelCallback(ea)}Zo=t,e=o.unstable_now()-pa,ea=o.unstable_scheduleCallback(Ca,{timeout:10*(t-2)-e})}function Ea(e,t,n,r,i){e.expirationTime=r,0!==i||Da()?0<i&&(e.timeoutHandle=vr(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,wa(),ma=da,Ia(e,n)}.bind(null,e,t,n),i)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function Ta(){return ta?ma:(ka(),0!==ra&&1073741823!==ra||(wa(),ma=da),ma)}function Sa(e,t){if(null===e.nextScheduledRoot)e.expirationTime=t,null===Jo?($o=Jo=e,e.nextScheduledRoot=e):(Jo=Jo.nextScheduledRoot=e).nextScheduledRoot=$o;else{var n=e.expirationTime;(0===n||t<n)&&(e.expirationTime=t)}ta||(ca?la&&(na=e,ra=1,Na(e,1,!0)):1===t?xa(1,null):_a(e,t))}function ka(){var e=0,t=null;if(null!==Jo)for(var n=Jo,r=$o;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===Jo)&&a("244"),r===r.nextScheduledRoot){$o=Jo=r.nextScheduledRoot=null;break}if(r===$o)$o=i=r.nextScheduledRoot,Jo.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===Jo){(Jo=n).nextScheduledRoot=$o,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===e||i<e)&&(e=i,t=r),r===Jo)break;if(1===e)break;n=r,r=r.nextScheduledRoot}}na=t,ra=e}function Ca(e){if(e.didTimeout&&null!==$o){wa();var t=$o;do{var n=t.expirationTime;0!==n&&da>=n&&(t.nextExpirationTimeToWorkOn=da),t=t.nextScheduledRoot}while(t!==$o)}xa(0,e)}function xa(e,t){if(ua=t,ka(),null!==ua)for(wa(),ma=da;null!==na&&0!==ra&&(0===e||e>=ra)&&(!oa||da>=ra);)Na(na,ra,da>=ra),ka(),wa(),ma=da;else for(;null!==na&&0!==ra&&(0===e||e>=ra);)Na(na,ra,!0),ka();if(null!==ua&&(Zo=0,ea=null),0!==ra&&_a(na,ra),ua=null,oa=!1,ya=0,va=null,null!==fa)for(e=fa,fa=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){aa||(aa=!0,sa=e)}}if(aa)throw e=sa,sa=null,aa=!1,e}function Ia(e,t){ta&&a("253"),na=e,ra=t,Na(e,t,!0),xa(1,null)}function Na(e,t,n){if(ta&&a("245"),ta=!0,null===ua||n){var r=e.finishedWork;null!==r?Aa(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,br(r)),zo(e,!1,n),null!==(r=e.finishedWork)&&Aa(e,r,t))}else null!==(r=e.finishedWork)?Aa(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,br(r)),zo(e,!0,n),null!==(r=e.finishedWork)&&(Da()?e.finishedWork=r:Aa(e,r,t)));ta=!1}function Aa(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===fa?fa=[r]:fa.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===va?ya++:(va=e,ya=0),Uo=Oo=!0,e.current===t&&a("177");var i=e.pendingCommitExpirationTime;0===i&&a("261"),e.pendingCommitExpirationTime=0;var o=t.expirationTime,s=t.childExpirationTime,u=0===o||0!==s&&s<o?s:o;if(e.didError=!1,0===u)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{var c=e.latestPendingTime;0!==c&&(c<u?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime<u&&(e.earliestPendingTime=e.latestPendingTime));var l=e.earliestSuspendedTime;0===l?Xr(e,u):u>e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Xr(e,u)):u<l&&Xr(e,u)}if(Jr(0,e),No.current=null,1<t.effectTag)if(null!==t.lastEffect){t.lastEffect.nextEffect=t;var h=t.firstEffect}else h=t;else h=t.firstEffect;dr=Cn;var f=jn();if(Un(f)){if("selectionStart"in f)var p={start:f.selectionStart,end:f.selectionEnd};else e:{var d=f.ownerDocument,m=d&&d.defaultView||window,g=m.getSelection&&m.getSelection();if(g&&0!==g.rangeCount){var y=g.anchorNode,v=g.anchorOffset,b=g.focusNode,w=g.focusOffset;try{y.nodeType,b.nodeType}catch(e){p=null;break e}var _=0,E=-1,T=-1,S=0,k=0,C=f,x=null;t:for(;;){for(var I;C!==y||0!==v&&3!==C.nodeType||(E=_+v),C!==b||0!==w&&3!==C.nodeType||(T=_+w),3===C.nodeType&&(_+=C.nodeValue.length),null!==(I=C.firstChild);)x=C,C=I;for(;;){if(C===f)break t;if(x===y&&++S===v&&(E=_),x===b&&++k===w&&(T=_),null!==(I=C.nextSibling))break;x=(C=x).parentNode}C=I}p=-1===E||-1===T?null:{start:E,end:T}}else p=null}var N=p||{start:0,end:0}}else N=null;for(mr={focusedElem:f,selectionRange:N},Cn=!1,jo=h;null!==jo;){var A=!1,D=void 0;try{for(;null!==jo;){if(256&jo.effectTag){var O=jo.alternate;e:{var P=jo;switch(P.tag){case 1:if(256&P.effectTag&&null!==O){var R=O.memoizedProps,L=O.memoizedState,M=P.stateNode;M.props=P.memoizedProps,M.state=P.memoizedState;var F=M.getSnapshotBeforeUpdate(R,L);M.__reactInternalSnapshotBeforeUpdate=F}break e;case 3:case 5:case 6:case 4:case 17:break e;default:a("163")}}}jo=jo.nextEffect}}catch(e){A=!0,D=e}A&&(null===jo&&a("178"),Ko(jo,D),null!==jo&&(jo=jo.nextEffect))}for(jo=h;null!==jo;){var j=!1,U=void 0;try{for(;null!==jo;){var q=jo.effectTag;if(16&q&&or(jo.stateNode,""),128&q){var B=jo.alternate;if(null!==B){var V=B.ref;null!==V&&("function"==typeof V?V(null):V.current=null)}}switch(14&q){case 2:Eo(jo),jo.effectTag&=-3;break;case 6:Eo(jo),jo.effectTag&=-3,So(jo.alternate,jo);break;case 4:So(jo.alternate,jo);break;case 8:var W=jo;To(W);var z=W;z.return=null,z.child=null,z.alternate&&(z.alternate.child=null,z.alternate.return=null)}jo=jo.nextEffect}}catch(e){j=!0,U=e}j&&(null===jo&&a("178"),Ko(jo,U),null!==jo&&(jo=jo.nextEffect))}var K=mr,H=jn(),Q=K.focusedElem,G=K.selectionRange;if(H!==Q&&Q&&Q.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(Q.ownerDocument.documentElement,Q)){if(null!==G&&Un(Q)){var X=G.start,Y=G.end;if(void 0===Y&&(Y=X),"selectionStart"in Q)Q.selectionStart=X,Q.selectionEnd=Math.min(Y,Q.value.length);else{var $=Q.ownerDocument||document,J=($&&$.defaultView||window).getSelection(),Z=Q.textContent.length,ee=Math.min(G.start,Z),te=void 0===G.end?ee:Math.min(G.end,Z);if(!J.extend&&ee>te){var ne=te;te=ee,ee=ne}var re=Fn(Q,ee),ie=Fn(Q,te);if(re&&ie&&(1!==J.rangeCount||J.anchorNode!==re.node||J.anchorOffset!==re.offset||J.focusNode!==ie.node||J.focusOffset!==ie.offset)){var oe=$.createRange();oe.setStart(re.node,re.offset),J.removeAllRanges(),ee>te?(J.addRange(oe),J.extend(ie.node,ie.offset)):(oe.setEnd(ie.node,ie.offset),J.addRange(oe))}}}for(var ae=[],se=Q;se=se.parentNode;)1===se.nodeType&&ae.push({element:se,left:se.scrollLeft,top:se.scrollTop});"function"==typeof Q.focus&&Q.focus();for(var ue=0;ue<ae.length;ue++){var ce=ae[ue];ce.element.scrollLeft=ce.left,ce.element.scrollTop=ce.top}}for(mr=null,Cn=!!dr,dr=null,e.current=t,jo=h;null!==jo;){var le=!1,he=void 0;try{for(;null!==jo;){var fe=jo.effectTag;if(36&fe){var pe=void 0,de=jo.alternate,me=jo;switch(me.tag){case 1:var ge=me.stateNode;if(4&me.effectTag)if(null===de)ge.props=me.memoizedProps,ge.state=me.memoizedState,ge.componentDidMount();else{var ye=de.memoizedProps,ve=de.memoizedState;ge.props=me.memoizedProps,ge.state=me.memoizedState,ge.componentDidUpdate(ye,ve,ge.__reactInternalSnapshotBeforeUpdate)}var be=me.updateQueue;null!==be&&(ge.props=me.memoizedProps,ge.state=me.memoizedState,ci(0,be,ge));break;case 3:var we=me.updateQueue;if(null!==we){var _e=null;if(null!==me.child)switch(me.child.tag){case 5:_e=me.child.stateNode;break;case 1:_e=me.child.stateNode}ci(0,we,_e)}break;case 5:var Ee=me.stateNode;null===de&&4&me.effectTag&&gr(me.type,me.memoizedProps)&&Ee.focus();break;case 6:case 4:case 12:break;case 13:if(32&me.effectTag){me.memoizedState={alreadyCaptured:!0,didTimeout:!1,timedOutAt:0},Xo(me,1);break}var Te=null!==de?de.memoizedState:null,Se=me.memoizedState,ke=null!==Te&&Te.didTimeout,Ce=me;if(null===Se?pe=!1:(pe=Se.didTimeout)&&(Ce=me.child,Se.alreadyCaptured=!1,0===Se.timedOutAt&&(Se.timedOutAt=Ta())),pe!==ke&&null!==Ce)e:for(var xe=Ce,Ie=pe,Ne=xe;;){if(5===Ne.tag){var Ae=Ne.stateNode;if(Ie)Ae.style.display="none";else{var De=Ne.stateNode,Oe=Ne.memoizedProps.style,Pe=void 0!==Oe&&null!==Oe&&Oe.hasOwnProperty("display")?Oe.display:null;De.style.display=Pe}}else if(6===Ne.tag)Ne.stateNode.nodeValue=Ie?"":Ne.memoizedProps;else if(null!==Ne.child){Ne.child.return=Ne,Ne=Ne.child;continue}if(Ne===xe)break e;for(;null===Ne.sibling;){if(null===Ne.return||Ne.return===xe)break e;Ne=Ne.return}Ne.sibling.return=Ne.return,Ne=Ne.sibling}break;case 17:break;default:a("163")}}if(128&fe){var Re=jo.ref;if(null!==Re){var Le=jo.stateNode;switch(jo.tag){case 5:var Me=Le;break;default:Me=Le}"function"==typeof Re?Re(Me):Re.current=Me}}var Fe=jo.nextEffect;jo.nextEffect=null,jo=Fe}}catch(e){le=!0,he=e}le&&(null===jo&&a("178"),Ko(jo,he),null!==jo&&(jo=jo.nextEffect))}Oo=Uo=!1,"function"==typeof jr&&jr(t.stateNode);var je=t.expirationTime,Ue=t.childExpirationTime,qe=0===je||0!==Ue&&Ue<je?Ue:je;0===qe&&(qo=null),e.expirationTime=qe,e.finishedWork=null}function Da(){return!!oa||!(null===ua||ua.timeRemaining()>ba)&&(oa=!0)}function Oa(e){null===na&&a("246"),na.expirationTime=0,aa||(aa=!0,sa=e)}function Pa(e,t){var n=ca;ca=!0;try{return e(t)}finally{(ca=n)||ta||xa(1,null)}}function Ra(e,t){if(ca&&!la){la=!0;try{return e(t)}finally{la=!1}}return e(t)}function La(e,t,n){if(ha)return e(t,n);ca||ta||0===ia||(xa(ia,null),ia=0);var r=ha,i=ca;ca=ha=!0;try{return e(t,n)}finally{ha=r,(ca=i)||ta||xa(1,null)}}function Ma(e,t,n,r,i){var o=t.current;e:if(n){n=n._reactInternalFiber;t:{2===rn(n)&&1===n.tag||a("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Dr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);a("171"),s=void 0}if(1===n.tag){var u=n.type;if(Dr(u)){n=Lr(n,u,s);break e}}n=s}else n=Cr;return null===t.context?t.context=n:t.pendingContext=n,t=i,(i=ni(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),ii(o,i),Xo(o,r),r}function Fa(e,t,n,r){var i=t.current;return Ma(e,t,n,i=Ho(Ta(),i),r)}function ja(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ua(e){var t=2+25*(1+((Ta()-2+500)/25|0));t<=Ao&&(t=Ao+1),this._expirationTime=Ao=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function qa(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ba(e,t,n){e={current:t=Br(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Va(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Wa(e,t,n,r,i){Va(n)||a("200");var o=n._reactRootContainer;if(o){if("function"==typeof i){var s=i;i=function(){var e=ja(o._internalRoot);s.call(e)}}null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)}else{if(o=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Ba(e,!1,t)}(n,r),"function"==typeof i){var u=i;i=function(){var e=ja(o._internalRoot);u.call(e)}}Ra(function(){null!=e?o.legacy_renderSubtreeIntoContainer(e,t,i):o.render(t,i)})}return ja(o._internalRoot)}function za(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Va(t)||a("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ye,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ie=function(e,t,n){switch(t){case"input":if(St(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=q(r);i||a("90"),Ke(r),St(r,i)}}}break;case"textarea":Jn(e,n);break;case"select":null!=(t=n.value)&&Xn(e,!!n.multiple,t,!1)}},Ua.prototype.render=function(e){this._defer||a("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new qa;return Ma(e,t,null,n,r._onCommit),r},Ua.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Ua.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||a("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&a("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,Ia(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Ua.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},qa.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},qa.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&a("191",n),n()}}},Ba.prototype.render=function(e,t){var n=this._internalRoot,r=new qa;return null!==(t=void 0===t?null:t)&&r.then(t),Fa(e,n,null,r._onCommit),r},Ba.prototype.unmount=function(e){var t=this._internalRoot,n=new qa;return null!==(e=void 0===e?null:e)&&n.then(e),Fa(null,t,null,n._onCommit),n},Ba.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new qa;return null!==(n=void 0===n?null:n)&&i.then(n),Fa(t,r,e,i._onCommit),i},Ba.prototype.createBatch=function(){var e=new Ua(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime<=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Re=Pa,Le=La,Me=function(){ta||0===ia||(xa(ia,null),ia=0)};var Ka={createPortal:za,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?a("188"):a("268",Object.keys(e))),e=null===(e=an(t))?null:e.stateNode},hydrate:function(e,t,n){return Wa(null,e,t,!0,n)},render:function(e,t,n){return Wa(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return(null==e||void 0===e._reactInternalFiber)&&a("38"),Wa(e,t,n,!1,r)},unmountComponentAtNode:function(e){return Va(e)||a("40"),!!e._reactRootContainer&&(Ra(function(){Wa(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return za.apply(void 0,arguments)},unstable_batchedUpdates:Pa,unstable_interactiveUpdates:La,flushSync:function(e,t){ta&&a("187");var n=ca;ca=!0;try{return Yo(e,t)}finally{ca=n,xa(1,null)}},unstable_flushControlled:function(e){var t=ca;ca=!0;try{Yo(e)}finally{(ca=t)||ta||xa(1,null)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[j,U,q,D.injectEventPluginsByName,v,H,function(e){C(e,K)},Oe,Pe,An,P]},unstable_createRoot:function(e,t){return Va(e)||a("278"),new Ba(e,!0,null!=t&&!0===t.hydrate)}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);jr=qr(function(e){return t.onCommitFiberRoot(n,e)}),Ur=qr(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}})(i({},e,{findHostInstanceByFiber:function(e){return null===(e=an(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:F,bundleType:0,version:"16.6.0",rendererPackageName:"react-dom"});var Ha={default:Ka},Qa=Ha&&Ka||Ha;e.exports=Qa.default||Qa},function(e,t,n){"use strict";e.exports=n(35)},function(e,t,n){"use strict";
/** @license React v16.6.0
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r=null,i=3,o=-1,a=-1,s=!1,u=!1,c="object"==typeof performance&&"function"==typeof performance.now,l={timeRemaining:c?function(){if(null!==r&&r.expirationTime<a)return 0;var e=b()-performance.now();return 0<e?e:0}:function(){if(null!==r&&r.expirationTime<a)return 0;var e=b()-Date.now();return 0<e?e:0},didTimeout:!1};function h(){if(!s){var e=r.expirationTime;u?v():u=!0,y(d,e)}}function f(){var e=r,t=r.next;if(r===t)r=null;else{var n=r.previous;r=n.next=t,t.previous=n}e.next=e.previous=null,n=e.callback,t=e.expirationTime,e=e.priorityLevel;var o=i,s=a;i=e,a=t;try{var u=n(l)}finally{i=o,a=s}if("function"==typeof u)if(u={callback:u,priorityLevel:e,expirationTime:t,next:null,previous:null},null===r)r=u.next=u.previous=u;else{n=null,e=r;do{if(e.expirationTime>=t){n=e;break}e=e.next}while(e!==r);null===n?n=r:n===r&&(r=u,h()),(t=n.previous).next=n.previous=u,u.next=n,u.previous=t}}function p(){if(-1===o&&null!==r&&1===r.priorityLevel){s=!0,l.didTimeout=!0;try{do{f()}while(null!==r&&1===r.priorityLevel)}finally{s=!1,null!==r?h():u=!1}}}function d(e){s=!0,l.didTimeout=e;try{if(e)for(;null!==r;){var n=t.unstable_now();if(!(r.expirationTime<=n))break;do{f()}while(null!==r&&r.expirationTime<=n)}else if(null!==r)do{f()}while(null!==r&&0<b()-t.unstable_now())}finally{s=!1,null!==r?h():u=!1,p()}}var m,g,y,v,b,w=Date,_="function"==typeof setTimeout?setTimeout:void 0,E="function"==typeof clearTimeout?clearTimeout:void 0,T="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,S="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function k(e){m=T(function(t){E(g),e(t)}),g=_(function(){S(m),e(t.unstable_now())},100)}if(c){var C=performance;t.unstable_now=function(){return C.now()}}else t.unstable_now=function(){return w.now()};if("undefined"!=typeof window&&window._schedMock){var x=window._schedMock;y=x[0],v=x[1],b=x[2]}else if("undefined"==typeof window||"function"!=typeof window.addEventListener){var I=null,N=-1,A=function(e,t){if(null!==I){var n=I;I=null;try{N=t,n(e)}finally{N=-1}}};y=function(e,t){-1!==N?setTimeout(y,0,e,t):(I=e,setTimeout(A,t,!0,t),setTimeout(A,1073741823,!1,1073741823))},v=function(){I=null},b=function(){return 1/0},t.unstable_now=function(){return-1===N?0:N}}else{"undefined"!=typeof console&&("function"!=typeof T&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof S&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var D=null,O=!1,P=-1,R=!1,L=!1,M=0,F=33,j=33;b=function(){return M};var U="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(e){if(e.source===window&&e.data===U){O=!1,e=D;var n=P;D=null,P=-1;var r=t.unstable_now(),i=!1;if(0>=M-r){if(!(-1!==n&&n<=r))return R||(R=!0,k(q)),D=e,void(P=n);i=!0}if(null!==e){L=!0;try{e(i)}finally{L=!1}}}},!1);var q=function(e){if(null!==D){k(q);var t=e-M+j;t<j&&F<j?(8>t&&(t=8),j=t<F?F:t):F=t,M=e+j,O||(O=!0,window.postMessage(U,"*"))}else R=!1};y=function(e,t){D=e,P=t,L||0>t?window.postMessage(U,"*"):R||(R=!0,k(q))},v=function(){D=null,O=!1,P=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:break;default:e=3}var r=i,a=o;i=e,o=t.unstable_now();try{return n()}finally{i=r,o=a,p()}},t.unstable_scheduleCallback=function(e,n){var a=-1!==o?o:t.unstable_now();if("object"==typeof n&&null!==n&&"number"==typeof n.timeout)n=a+n.timeout;else switch(i){case 1:n=a+-1;break;case 2:n=a+250;break;case 4:n=a+1073741823;break;default:n=a+5e3}if(e={callback:e,priorityLevel:i,expirationTime:n,next:null,previous:null},null===r)r=e.next=e.previous=e,h();else{a=null;var s=r;do{if(s.expirationTime>n){a=s;break}s=s.next}while(s!==r);null===a?a=r:a===r&&(r=e,h()),(n=a.previous).next=a.previous=e,e.next=a,e.previous=n}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)r=null;else{e===r&&(r=t);var n=e.previous;n.next=t,t.previous=n}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=i;return function(){var r=i,a=o;i=n,o=t.unstable_now();try{return e.apply(this,arguments)}finally{i=r,o=a,p()}}},t.unstable_getCurrentPriorityLevel=function(){return i}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(0)),o=c(n(3)),a=c(n(39)),s=c(n(43)),u=n(21);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}u.nameShape.isRequired,o.default.bool,o.default.bool,o.default.bool,(0,u.transitionTimeout)("Appear"),(0,u.transitionTimeout)("Enter"),(0,u.transitionTimeout)("Leave");var h=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,a=Array(o),u=0;u<o;u++)a[u]=arguments[u];return n=r=l(this,e.call.apply(e,[this].concat(a))),r._wrapChild=function(e){return i.default.createElement(s.default,{name:r.props.transitionName,appear:r.props.transitionAppear,enter:r.props.transitionEnter,leave:r.props.transitionLeave,appearTimeout:r.props.transitionAppearTimeout,enterTimeout:r.props.transitionEnterTimeout,leaveTimeout:r.props.transitionLeaveTimeout},e)},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return i.default.createElement(a.default,r({},this.props,{childFactory:this._wrapChild}))},t}(i.default.Component);h.displayName="CSSTransitionGroup",h.propTypes={},h.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},t.default=h,e.exports=t.default},function(e,t,n){"use strict";var r=n(38);function i(){}e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(40)),o=u(n(0)),a=u(n(3)),s=(u(n(41)),n(42));function u(e){return e&&e.__esModule?e:{default:e}}a.default.any,a.default.func,a.default.node;var c=function(e){function t(n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,i));return o.performAppear=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillAppear?t.componentWillAppear(o._handleDoneAppearing.bind(o,e,t)):o._handleDoneAppearing(e,t)},o._handleDoneAppearing=function(e,t){t.componentDidAppear&&t.componentDidAppear(),delete o.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performEnter=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillEnter?t.componentWillEnter(o._handleDoneEntering.bind(o,e,t)):o._handleDoneEntering(e,t)},o._handleDoneEntering=function(e,t){t.componentDidEnter&&t.componentDidEnter(),delete o.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e,t)},o.performLeave=function(e,t){o.currentlyTransitioningKeys[e]=!0,t.componentWillLeave?t.componentWillLeave(o._handleDoneLeaving.bind(o,e,t)):o._handleDoneLeaving(e,t)},o._handleDoneLeaving=function(e,t){t.componentDidLeave&&t.componentDidLeave(),delete o.currentlyTransitioningKeys[e];var n=(0,s.getChildMapping)(o.props.children);n&&n.hasOwnProperty(e)?o.keysToEnter.push(e):o.setState(function(t){var n=r({},t.children);return delete n[e],{children:n}})},o.childRefs=Object.create(null),o.state={children:(0,s.getChildMapping)(n.children)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t,this.childRefs[t])},t.prototype.componentWillReceiveProps=function(e){var t=(0,s.getChildMapping)(e.children),n=this.state.children;for(var r in this.setState({children:(0,s.mergeChildMappings)(n,t)}),t){var i=n&&n.hasOwnProperty(r);!t[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(var o in n){var a=t&&t.hasOwnProperty(o);!n[o]||a||this.currentlyTransitioningKeys[o]||this.keysToLeave.push(o)}},t.prototype.componentDidUpdate=function(){var e=this,t=this.keysToEnter;this.keysToEnter=[],t.forEach(function(t){return e.performEnter(t,e.childRefs[t])});var n=this.keysToLeave;this.keysToLeave=[],n.forEach(function(t){return e.performLeave(t,e.childRefs[t])})},t.prototype.render=function(){var e=this,t=[],n=function(n){var r=e.state.children[n];if(r){var a="string"!=typeof r.ref,s=e.props.childFactory(r),u=function(t){e.childRefs[n]=t};s===r&&a&&(u=(0,i.default)(r.ref,u)),t.push(o.default.cloneElement(s,{key:n,ref:u}))}};for(var a in this.state.children)n(a);var s=r({},this.props);return delete s.transitionLeave,delete s.transitionName,delete s.transitionAppear,delete s.transitionEnter,delete s.childFactory,delete s.transitionLeaveTimeout,delete s.transitionEnterTimeout,delete s.transitionAppearTimeout,delete s.component,o.default.createElement(this.props.component,s,t)},t}(o.default.Component);c.displayName="TransitionGroup",c.propTypes={},c.defaultProps={component:"span",childFactory:function(e){return e}},t.default=c,e.exports=t.default},function(e,t){e.exports=function(){for(var e=arguments.length,t=[],n=0;n<e;n++)t[n]=arguments[n];if(0!==(t=t.filter(function(e){return null!=e})).length)return 1===t.length?t[0]:t.reduce(function(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}})}},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=function(e){if(!e)return e;var t={};return r.Children.map(e,function(e){return e}).forEach(function(e){t[e.key]=e}),t},t.mergeChildMappings=function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},i=[];for(var o in e)t.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a=void 0,s={};for(var u in t){if(r.hasOwnProperty(u))for(a=0;a<r[u].length;a++){var c=r[u][a];s[r[u][a]]=n(c)}s[u]=n(u)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s};var r=n(0)},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=f(n(44)),o=f(n(46)),a=f(n(47)),s=n(48),u=f(n(0)),c=f(n(3)),l=n(6),h=n(21);function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=[];s.transitionEnd&&d.push(s.transitionEnd),s.animationEnd&&d.push(s.animationEnd);c.default.node,h.nameShape.isRequired,c.default.bool,c.default.bool,c.default.bool,c.default.number,c.default.number,c.default.number;var m=function(e){function t(){var n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=p(this,e.call.apply(e,[this].concat(o))),r.componentWillAppear=function(e){r.props.appear?r.transition("appear",e,r.props.appearTimeout):e()},r.componentWillEnter=function(e){r.props.enter?r.transition("enter",e,r.props.enterTimeout):e()},r.componentWillLeave=function(e){r.props.leave?r.transition("leave",e,r.props.leaveTimeout):e()},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentWillMount=function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},t.prototype.transition=function(e,t,n){var r=(0,l.findDOMNode)(this);if(r){var a=this.props.name[e]||this.props.name+"-"+e,u=this.props.name[e+"Active"]||a+"-active",c=null,h=void 0;(0,i.default)(r,a),this.queueClassAndNode(u,r);var f=function(e){e&&e.target!==r||(clearTimeout(c),h&&h(),(0,o.default)(r,a),(0,o.default)(r,u),h&&h(),t&&t())};n?(c=setTimeout(f,n),this.transitionTimeouts.push(c)):s.transitionEnd&&(h=function(e,t){return d.length?d.forEach(function(n){return e.addEventListener(n,t,!1)}):setTimeout(t,0),function(){d.length&&d.forEach(function(n){return e.removeEventListener(n,t,!1)})}}(r,f))}else t&&t()},t.prototype.queueClassAndNode=function(e,t){var n=this;this.classNameAndNodeQueue.push({className:e,node:t}),this.rafHandle||(this.rafHandle=(0,a.default)(function(){return n.flushClassNameAndNodeQueue()}))},t.prototype.flushClassNameAndNodeQueue=function(){this.unmounted||this.classNameAndNodeQueue.forEach(function(e){e.node.scrollTop,(0,i.default)(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.rafHandle=null},t.prototype.render=function(){var e=r({},this.props);return delete e.name,delete e.appear,delete e.enter,delete e.leave,delete e.appearTimeout,delete e.enterTimeout,delete e.leaveTimeout,delete e.children,u.default.cloneElement(u.default.Children.only(this.props.children),e)},t}(u.default.Component);m.displayName="CSSTransitionGroupChild",m.propTypes={},t.default=m,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){e.classList?e.classList.add(t):(0,r.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var r=function(e){return e&&e.__esModule?e:{default:e}}(n(45));e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i="clearTimeout",o=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-s)),r=setTimeout(e,n);return s=t,r},a=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};(function(e){return e&&e.__esModule?e:{default:e}})(n(20)).default&&["","webkit","moz","o","ms"].some(function(e){var t=a(e,"request");if(t in window)return i=a(e,"cancel"),o=function(e){return window[t](e)}});var s=(new Date).getTime();(r=function(e){return o(e)}).cancel=function(e){window[i]&&"function"==typeof window[i]&&window[i](e)},t.default=r,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationEnd=t.animationDelay=t.animationTiming=t.animationDuration=t.animationName=t.transitionEnd=t.transitionDuration=t.transitionDelay=t.transitionTiming=t.transitionProperty=t.transform=void 0;var r="transform",i=void 0,o=void 0,a=void 0,s=void 0,u=void 0,c=void 0,l=void 0,h=void 0,f=void 0,p=void 0,d=void 0;if(function(e){return e&&e.__esModule?e:{default:e}}(n(20)).default){var m=function(){for(var e=document.createElement("div").style,t={O:function(e){return"o"+e.toLowerCase()},Moz:function(e){return e.toLowerCase()},Webkit:function(e){return"webkit"+e},ms:function(e){return"MS"+e}},n=Object.keys(t),r=void 0,i=void 0,o="",a=0;a<n.length;a++){var s=n[a];if(s+"TransitionProperty"in e){o="-"+s.toLowerCase(),r=t[s]("TransitionEnd"),i=t[s]("AnimationEnd");break}}!r&&"transitionProperty"in e&&(r="transitionend");!i&&"animationName"in e&&(i="animationend");return e=null,{animationEnd:i,transitionEnd:r,prefix:o}}();i=m.prefix,t.transitionEnd=o=m.transitionEnd,t.animationEnd=a=m.animationEnd,t.transform=r=i+"-"+r,t.transitionProperty=s=i+"-transition-property",t.transitionDuration=u=i+"-transition-duration",t.transitionDelay=l=i+"-transition-delay",t.transitionTiming=c=i+"-transition-timing-function",t.animationName=h=i+"-animation-name",t.animationDuration=f=i+"-animation-duration",t.animationTiming=p=i+"-animation-delay",t.animationDelay=d=i+"-animation-timing-function"}t.transform=r,t.transitionProperty=s,t.transitionTiming=c,t.transitionDelay=l,t.transitionDuration=u,t.transitionEnd=o,t.animationName=h,t.animationDuration=f,t.animationTiming=p,t.animationDelay=d,t.animationEnd=a,t.default={transform:r,end:o,property:s,timing:c,delay:l,duration:u}},function(e,t,n){e.exports=n.p+"3f8d4449c742b1e169555de7ff1389f4.jpg"},function(e,t,n){"use strict";n.r(t),function(e,t){n(53);var r=setTimeout;function i(){}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(e,this)}function a(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,o._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var r;try{r=n(e._value)}catch(e){return void u(t.promise,e)}s(t.promise,r)}else(1===e._state?s:u)(t.promise,e._value)})):e._deferreds.push(t)}function s(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof n)return void l(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,c(e)}catch(t){u(e,t)}}function u(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t){var n=!1;try{e(function(e){n||(n=!0,s(t,e))},function(e){n||(n=!0,u(t,e))})}catch(e){if(n)return;n=!0,u(t,e)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var n=new this.constructor(i);return a(this,new function(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}(e,t,n)),n},o.prototype.finally=function(e){var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){return t.reject(n)})})},o.all=function(e){return new o(function(t,n){if(!e||void 0===e.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(e);if(0===r.length)return t([]);var i=r.length;function o(e,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(t){o(e,t)},n)}r[e]=a,0==--i&&t(r)}catch(e){n(e)}}for(var a=0;a<r.length;a++)o(a,r[a])})},o.resolve=function(e){return e&&"object"==typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,n){n(e)})},o.race=function(e){return new o(function(t,n){for(var r=0,i=e.length;r<i;r++)e[r].then(t,n)})},o._immediateFn="function"==typeof e&&function(t){e(t)}||function(e){r(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var h=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();function f(e,t){return e(t={exports:{}},t.exports),t.exports}h.Promise||(h.Promise=o);var p=f(function(e){var t=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=t)}),d=f(function(e){var t=e.exports={version:"2.5.5"};"number"==typeof __e&&(__e=t)}),m=(d.version,function(e){return"object"==typeof e?null!==e:"function"==typeof e}),g=function(e){if(!m(e))throw TypeError(e+" is not an object!");return e},y=function(e){try{return!!e()}catch(e){return!0}},v=!y(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),b=p.document,w=m(b)&&m(b.createElement),_=function(e){return w?b.createElement(e):{}},E=!v&&!y(function(){return 7!=Object.defineProperty(_("div"),"a",{get:function(){return 7}}).a}),T=function(e,t){if(!m(e))return e;var n,r;if(t&&"function"==typeof(n=e.toString)&&!m(r=n.call(e)))return r;if("function"==typeof(n=e.valueOf)&&!m(r=n.call(e)))return r;if(!t&&"function"==typeof(n=e.toString)&&!m(r=n.call(e)))return r;throw TypeError("Can't convert object to primitive value")},S=Object.defineProperty,k={f:v?Object.defineProperty:function(e,t,n){if(g(e),t=T(t,!0),g(n),E)try{return S(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},C=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},x=v?function(e,t,n){return k.f(e,t,C(1,n))}:function(e,t,n){return e[t]=n,e},I={}.hasOwnProperty,N=function(e,t){return I.call(e,t)},A=0,D=Math.random(),O=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++A+D).toString(36))},P=f(function(e){var t=O("src"),n=Function.toString,r=(""+n).split("toString");d.inspectSource=function(e){return n.call(e)},(e.exports=function(e,n,i,o){var a="function"==typeof i;a&&(N(i,"name")||x(i,"name",n)),e[n]!==i&&(a&&(N(i,t)||x(i,t,e[n]?""+e[n]:r.join(String(n)))),e===p?e[n]=i:o?e[n]?e[n]=i:x(e,n,i):(delete e[n],x(e,n,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[t]||n.call(this)})}),R=function(e,t,n){if(function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!")}(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}},L=function(e,t,n){var r,i,o,a,s=e&L.F,u=e&L.G,c=e&L.S,l=e&L.P,h=e&L.B,f=u?p:c?p[t]||(p[t]={}):(p[t]||{}).prototype,m=u?d:d[t]||(d[t]={}),g=m.prototype||(m.prototype={});for(r in u&&(n=t),n)o=((i=!s&&f&&void 0!==f[r])?f:n)[r],a=h&&i?R(o,p):l&&"function"==typeof o?R(Function.call,o):o,f&&P(f,r,o,e&L.U),m[r]!=o&&x(m,r,a),l&&g[r]!=o&&(g[r]=o)};p.core=d,L.F=1,L.G=2,L.S=4,L.P=8,L.B=16,L.W=32,L.U=64,L.R=128;var M=L,F={}.toString,j=function(e){return F.call(e).slice(8,-1)},U=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==j(e)?e.split(""):Object(e)},q=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e},B=function(e){return Object(q(e))},V=Math.ceil,W=Math.floor,z=function(e){return isNaN(e=+e)?0:(e>0?W:V)(e)},K=Math.min,H=function(e){return e>0?K(z(e),9007199254740991):0},Q=Array.isArray||function(e){return"Array"==j(e)},G=p["__core-js_shared__"]||(p["__core-js_shared__"]={}),X=function(e){return G[e]||(G[e]={})},Y=f(function(e){var t=X("wks"),n=p.Symbol,r="function"==typeof n;(e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:O)("Symbol."+e))}).store=t}),$=Y("species"),J=function(e,t){return new(function(e){var t;return Q(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!Q(t.prototype)||(t=void 0),m(t)&&null===(t=t[$])&&(t=void 0)),void 0===t?Array:t}(e))(t)},Z=function(e,t){var n=1==e,r=2==e,i=3==e,o=4==e,a=6==e,s=5==e||a,u=t||J;return function(t,c,l){for(var h,f,p=B(t),d=U(p),m=R(c,l,3),g=H(d.length),y=0,v=n?u(t,g):r?u(t,0):void 0;g>y;y++)if((s||y in d)&&(f=m(h=d[y],y,p),e))if(n)v[y]=f;else if(f)switch(e){case 3:return!0;case 5:return h;case 6:return y;case 2:v.push(h)}else if(o)return!1;return a?-1:i||o?o:v}},ee=Y("unscopables"),te=Array.prototype;void 0==te[ee]&&x(te,ee,{});var ne=function(e){te[ee][e]=!0},re=Z(5),ie=!0;"find"in[]&&Array(1).find(function(){ie=!1}),M(M.P+M.F*ie,"Array",{find:function(e){return re(this,e,arguments.length>1?arguments[1]:void 0)}}),ne("find");d.Array.find;var oe=Z(6),ae=!0;"findIndex"in[]&&Array(1).findIndex(function(){ae=!1}),M(M.P+M.F*ae,"Array",{findIndex:function(e){return oe(this,e,arguments.length>1?arguments[1]:void 0)}}),ne("findIndex");d.Array.findIndex;var se=function(e){return U(q(e))},ue=Math.max,ce=Math.min,le=X("keys"),he=function(e){return le[e]||(le[e]=O(e))},fe=function(e){return function(t,n,r){var i,o=se(t),a=H(o.length),s=function(e,t){return(e=z(e))<0?ue(e+t,0):ce(e,t)}(r,a);if(e&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===n)return e||s||0;return!e&&-1}}(!1),pe=he("IE_PROTO"),de=function(e,t){var n,r=se(e),i=0,o=[];for(n in r)n!=pe&&N(r,n)&&o.push(n);for(;t.length>i;)N(r,n=t[i++])&&(~fe(o,n)||o.push(n));return o},me="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),ge=Object.keys||function(e){return de(e,me)},ye={f:Object.getOwnPropertySymbols},ve={f:{}.propertyIsEnumerable},be=Object.assign,we=!be||y(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=be({},e)[n]||Object.keys(be({},t)).join("")!=r})?function(e,t){for(var n=B(e),r=arguments.length,i=1,o=ye.f,a=ve.f;r>i;)for(var s,u=U(arguments[i++]),c=o?ge(u).concat(o(u)):ge(u),l=c.length,h=0;l>h;)a.call(u,s=c[h++])&&(n[s]=u[s]);return n}:be;M(M.S+M.F,"Object",{assign:we});d.Object.assign;var _e=Y("match"),Ee=function(e,t,n){if(function(e){var t;return m(e)&&(void 0!==(t=e[_e])?!!t:"RegExp"==j(e))}(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(q(e))},Te=Y("match"),Se="".startsWith;M(M.P+M.F*function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[Te]=!1,!"/./"[e](t)}catch(e){}}return!0}("startsWith"),"String",{startsWith:function(e){var t=Ee(this,e,"startsWith"),n=H(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return Se?Se.call(t,r,n):t.slice(n,n+r.length)===r}});d.String.startsWith;M(M.P,"String",{repeat:function(e){var t=String(q(this)),n="",r=z(e);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(t+=t))1&r&&(n+=t);return n}});d.String.repeat;var ke=f(function(e){var t=O("meta"),n=k.f,r=0,i=Object.isExtensible||function(){return!0},o=!y(function(){return i(Object.preventExtensions({}))}),a=function(e){n(e,t,{value:{i:"O"+ ++r,w:{}}})},s=e.exports={KEY:t,NEED:!1,fastKey:function(e,n){if(!m(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!N(e,t)){if(!i(e))return"F";if(!n)return"E";a(e)}return e[t].i},getWeak:function(e,n){if(!N(e,t)){if(!i(e))return!0;if(!n)return!1;a(e)}return e[t].w},onFreeze:function(e){return o&&s.NEED&&i(e)&&!N(e,t)&&a(e),e}}}),Ce=(ke.KEY,ke.NEED,ke.fastKey,ke.getWeak,ke.onFreeze,k.f),xe=Y("toStringTag"),Ie=function(e,t,n){e&&!N(e=n?e:e.prototype,xe)&&Ce(e,xe,{configurable:!0,value:t})},Ne={f:Y},Ae=k.f,De=function(e){var t=d.Symbol||(d.Symbol=p.Symbol||{});"_"==e.charAt(0)||e in t||Ae(t,e,{value:Ne.f(e)})},Oe=v?Object.defineProperties:function(e,t){g(e);for(var n,r=ge(t),i=r.length,o=0;i>o;)k.f(e,n=r[o++],t[n]);return e},Pe=p.document,Re=Pe&&Pe.documentElement,Le=he("IE_PROTO"),Me=function(){},Fe=function(){var e,t=_("iframe"),n=me.length;for(t.style.display="none",Re.appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),Fe=e.F;n--;)delete Fe.prototype[me[n]];return Fe()},je=Object.create||function(e,t){var n;return null!==e?(Me.prototype=g(e),n=new Me,Me.prototype=null,n[Le]=e):n=Fe(),void 0===t?n:Oe(n,t)},Ue=me.concat("length","prototype"),qe={f:Object.getOwnPropertyNames||function(e){return de(e,Ue)}},Be=qe.f,Ve={}.toString,We="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ze={f:function(e){return We&&"[object Window]"==Ve.call(e)?function(e){try{return Be(e)}catch(e){return We.slice()}}(e):Be(se(e))}},Ke=Object.getOwnPropertyDescriptor,He={f:v?Ke:function(e,t){if(e=se(e),t=T(t,!0),E)try{return Ke(e,t)}catch(e){}if(N(e,t))return C(!ve.f.call(e,t),e[t])}},Qe=ke.KEY,Ge=He.f,Xe=k.f,Ye=ze.f,$e=p.Symbol,Je=p.JSON,Ze=Je&&Je.stringify,et=Y("_hidden"),tt=Y("toPrimitive"),nt={}.propertyIsEnumerable,rt=X("symbol-registry"),it=X("symbols"),ot=X("op-symbols"),at=Object.prototype,st="function"==typeof $e,ut=p.QObject,ct=!ut||!ut.prototype||!ut.prototype.findChild,lt=v&&y(function(){return 7!=je(Xe({},"a",{get:function(){return Xe(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=Ge(at,t);r&&delete at[t],Xe(e,t,n),r&&e!==at&&Xe(at,t,r)}:Xe,ht=function(e){var t=it[e]=je($e.prototype);return t._k=e,t},ft=st&&"symbol"==typeof $e.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof $e},pt=function(e,t,n){return e===at&&pt(ot,t,n),g(e),t=T(t,!0),g(n),N(it,t)?(n.enumerable?(N(e,et)&&e[et][t]&&(e[et][t]=!1),n=je(n,{enumerable:C(0,!1)})):(N(e,et)||Xe(e,et,C(1,{})),e[et][t]=!0),lt(e,t,n)):Xe(e,t,n)},dt=function(e,t){g(e);for(var n,r=function(e){var t=ge(e),n=ye.f;if(n)for(var r,i=n(e),o=ve.f,a=0;i.length>a;)o.call(e,r=i[a++])&&t.push(r);return t}(t=se(t)),i=0,o=r.length;o>i;)pt(e,n=r[i++],t[n]);return e},mt=function(e){var t=nt.call(this,e=T(e,!0));return!(this===at&&N(it,e)&&!N(ot,e))&&(!(t||!N(this,e)||!N(it,e)||N(this,et)&&this[et][e])||t)},gt=function(e,t){if(e=se(e),t=T(t,!0),e!==at||!N(it,t)||N(ot,t)){var n=Ge(e,t);return!n||!N(it,t)||N(e,et)&&e[et][t]||(n.enumerable=!0),n}},yt=function(e){for(var t,n=Ye(se(e)),r=[],i=0;n.length>i;)N(it,t=n[i++])||t==et||t==Qe||r.push(t);return r},vt=function(e){for(var t,n=e===at,r=Ye(n?ot:se(e)),i=[],o=0;r.length>o;)!N(it,t=r[o++])||n&&!N(at,t)||i.push(it[t]);return i};st||(P(($e=function(){if(this instanceof $e)throw TypeError("Symbol is not a constructor!");var e=O(arguments.length>0?arguments[0]:void 0),t=function(n){this===at&&t.call(ot,n),N(this,et)&&N(this[et],e)&&(this[et][e]=!1),lt(this,e,C(1,n))};return v&&ct&&lt(at,e,{configurable:!0,set:t}),ht(e)}).prototype,"toString",function(){return this._k}),He.f=gt,k.f=pt,qe.f=ze.f=yt,ve.f=mt,ye.f=vt,v&&P(at,"propertyIsEnumerable",mt,!0),Ne.f=function(e){return ht(Y(e))}),M(M.G+M.W+M.F*!st,{Symbol:$e});for(var bt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),wt=0;bt.length>wt;)Y(bt[wt++]);for(var _t=ge(Y.store),Et=0;_t.length>Et;)De(_t[Et++]);M(M.S+M.F*!st,"Symbol",{for:function(e){return N(rt,e+="")?rt[e]:rt[e]=$e(e)},keyFor:function(e){if(!ft(e))throw TypeError(e+" is not a symbol!");for(var t in rt)if(rt[t]===e)return t},useSetter:function(){ct=!0},useSimple:function(){ct=!1}}),M(M.S+M.F*!st,"Object",{create:function(e,t){return void 0===t?je(e):dt(je(e),t)},defineProperty:pt,defineProperties:dt,getOwnPropertyDescriptor:gt,getOwnPropertyNames:yt,getOwnPropertySymbols:vt}),Je&&M(M.S+M.F*(!st||y(function(){var e=$e();return"[null]"!=Ze([e])||"{}"!=Ze({a:e})||"{}"!=Ze(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(m(t)||void 0!==e)&&!ft(e))return Q(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!ft(t))return t}),r[1]=t,Ze.apply(Je,r)}}),$e.prototype[tt]||x($e.prototype,tt,$e.prototype.valueOf),Ie($e,"Symbol"),Ie(Math,"Math",!0),Ie(p.JSON,"JSON",!0);var Tt=Y("toStringTag"),St="Arguments"==j(function(){return arguments}()),kt={};kt[Y("toStringTag")]="z",kt+""!="[object z]"&&P(Object.prototype,"toString",function(){return"[object "+function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),Tt))?n:St?j(t):"Object"==(r=j(t))&&"function"==typeof t.callee?"Arguments":r}(this)+"]"},!0),De("asyncIterator"),De("observable");d.Symbol;var Ct={},xt={};x(xt,Y("iterator"),function(){return this});var It=function(e,t,n){e.prototype=je(xt,{next:C(1,n)}),Ie(e,t+" Iterator")},Nt=he("IE_PROTO"),At=Object.prototype,Dt=Object.getPrototypeOf||function(e){return e=B(e),N(e,Nt)?e[Nt]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?At:null},Ot=Y("iterator"),Pt=!([].keys&&"next"in[].keys()),Rt=function(){return this},Lt=function(e,t,n,r,i,o,a){It(n,t,r);var s,u,c,l=function(e){if(!Pt&&e in d)return d[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},h=t+" Iterator",f="values"==i,p=!1,d=e.prototype,m=d[Ot]||d["@@iterator"]||i&&d[i],g=m||l(i),y=i?f?l("entries"):g:void 0,v="Array"==t&&d.entries||m;if(v&&(c=Dt(v.call(new e)))!==Object.prototype&&c.next&&(Ie(c,h,!0),"function"!=typeof c[Ot]&&x(c,Ot,Rt)),f&&m&&"values"!==m.name&&(p=!0,g=function(){return m.call(this)}),(Pt||p||!d[Ot])&&x(d,Ot,g),Ct[t]=g,Ct[h]=Rt,i)if(s={values:f?g:l("values"),keys:o?g:l("keys"),entries:y},a)for(u in s)u in d||P(d,u,s[u]);else M(M.P+M.F*(Pt||p),t,s);return s},Mt=function(e){return function(t,n){var r,i,o=String(q(t)),a=z(n),s=o.length;return a<0||a>=s?e?"":void 0:(r=o.charCodeAt(a))<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):r:e?o.slice(a,a+2):i-56320+(r-55296<<10)+65536}}(!0);Lt(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=Mt(t,n),this._i+=e.length,{value:e,done:!1})});var Ft=function(e,t){return{value:t,done:!!e}},jt=Lt(Array,"Array",function(e,t){this._t=se(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,Ft(1)):Ft(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values");Ct.Arguments=Ct.Array,ne("keys"),ne("values"),ne("entries");for(var Ut=Y("iterator"),qt=Y("toStringTag"),Bt=Ct.Array,Vt={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Wt=ge(Vt),zt=0;zt<Wt.length;zt++){var Kt,Ht=Wt[zt],Qt=Vt[Ht],Gt=p[Ht],Xt=Gt&&Gt.prototype;if(Xt&&(Xt[Ut]||x(Xt,Ut,Bt),Xt[qt]||x(Xt,qt,Ht),Ct[Ht]=Bt,Qt))for(Kt in jt)Xt[Kt]||P(Xt,Kt,jt[Kt],!0)}Ne.f("iterator")}.call(this,n(51).setImmediate,n(9))},function(e,t,n){(function(e){var r=void 0!==e&&e||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new o(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(52),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(9))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,o={},a=!1,s=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&l(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},r=function(t){e.port2.postMessage(t)}}():s&&"onreadystatechange"in s.createElement("script")?function(){var e=s.documentElement;r=function(t){var n=s.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(l,0,e)},u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var a={callback:e,args:t};return o[i]=a,r(i),i++},u.clearImmediate=c}function c(e){delete o[e]}function l(e){if(a)setTimeout(l,0,e);else{var t=o[e];if(t){a=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{c(e),a=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,n(9),n(11))},function(e,t){!function(e){"use strict";if(!e.fetch){var t={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};if(t.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],r=function(e){return e&&DataView.prototype.isPrototypeOf(e)},i=ArrayBuffer.isView||function(e){return e&&n.indexOf(Object.prototype.toString.call(e))>-1};l.prototype.append=function(e,t){e=s(e),t=u(t);var n=this.map[e];this.map[e]=n?n+","+t:t},l.prototype.delete=function(e){delete this.map[s(e)]},l.prototype.get=function(e){return e=s(e),this.has(e)?this.map[e]:null},l.prototype.has=function(e){return this.map.hasOwnProperty(s(e))},l.prototype.set=function(e,t){this.map[s(e)]=u(t)},l.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},l.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n)}),c(e)},l.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),c(e)},l.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t])}),c(e)},t.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},m.call(g.prototype),m.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},v.error=function(){var e=new v(null,{status:0,statusText:""});return e.type="error",e};var a=[301,302,303,307,308];v.redirect=function(e,t){if(-1===a.indexOf(t))throw new RangeError("Invalid status code");return new v(null,{status:t,headers:{location:e}})},e.Headers=l,e.Request=g,e.Response=v,e.fetch=function(e,n){return new Promise(function(r,i){var o=new g(e,n),a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:function(e){var t=new l;return e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}}),t}(a.getAllResponseHeaders()||"")};e.url="responseURL"in a?a.responseURL:e.headers.get("X-Request-URL");var t="response"in a?a.response:a.responseText;r(new v(t,e))},a.onerror=function(){i(new TypeError("Network request failed"))},a.ontimeout=function(){i(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&t.blob&&(a.responseType="blob"),o.headers.forEach(function(e,t){a.setRequestHeader(t,e)}),a.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}function s(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function u(e){return"string"!=typeof e&&(e=String(e)),e}function c(e){var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(e){this.map={},e instanceof l?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function h(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function f(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function p(e){var t=new FileReader,n=f(t);return t.readAsArrayBuffer(e),n}function d(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function m(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,e)if("string"==typeof e)this._bodyText=e;else if(t.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(t.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(t.arrayBuffer&&t.blob&&r(e))this._bodyArrayBuffer=d(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!t.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e)&&!i(e))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=d(e)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):t.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},t.blob&&(this.blob=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(p)}),this.text=function(){var e=h(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,n=f(t);return t.readAsText(e),n}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},t.formData&&(this.formData=function(){return this.text().then(y)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(e,t){var n=(t=t||{}).body;if(e instanceof g){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new l(e.headers)),this.method=e.method,this.mode=e.mode,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new l(t.headers)),this.method=function(e){var t=e.toUpperCase();return o.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function y(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}}),t}function v(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new l(t.headers),this.url=t.url||"",this._initBody(e)}}("undefined"!=typeof self?self:this)},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return i}),n.d(t,"__assign",function(){return o}),n.d(t,"__rest",function(){return a}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return u}),n.d(t,"__metadata",function(){return c}),n.d(t,"__awaiter",function(){return l}),n.d(t,"__generator",function(){return h}),n.d(t,"__exportStar",function(){return f}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return d}),n.d(t,"__spread",function(){return m}),n.d(t,"__await",function(){return g}),n.d(t,"__asyncGenerator",function(){return y}),n.d(t,"__asyncDelegator",function(){return v}),n.d(t,"__asyncValues",function(){return b}),n.d(t,"__makeTemplateObject",function(){return w}),n.d(t,"__importStar",function(){return _}),n.d(t,"__importDefault",function(){return E});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{!function(e){e.value instanceof g?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(e){l(o[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){e[r]&&(t[r]=function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:i?i(t):t})}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):p(e)}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";n.r(t),function(e){var t=n(1),r=n.n(t);(function(){var e,t=t||{},n=this;function i(e){return"string"==typeof e}function o(e){return"boolean"==typeof e}function a(){}function s(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function u(e){return null===e}function c(e){return"array"==s(e)}function l(e){var t=s(e);return"array"==t||"object"==t&&"number"==typeof e.length}function h(e){return"function"==s(e)}function f(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var p="closure_uid_"+(1e9*Math.random()>>>0),d=0;function m(e,t,n){return e.call.apply(e.bind,arguments)}function g(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function y(e,t,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?m:g).apply(null,arguments)}function v(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var b=Date.now||function(){return+new Date};function w(e,t){function n(){}n.prototype=t.prototype,e.nb=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.dd=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function _(e){e.prototype.then=e.prototype.then,e.prototype.$goog_Thenable=!0}function E(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(e){return!1}}function T(e){if(Error.captureStackTrace)Error.captureStackTrace(this,T);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function S(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");T.call(this,n+e[r])}function k(e,t){throw new S("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function C(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function x(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function I(){this.b=this.a=null}w(T,Error),T.prototype.name="CustomError",w(S,T),S.prototype.name="AssertionError",C.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var N=new C(function(){return new D},function(e){e.reset()});function A(){var e=pe,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function D(){this.next=this.b=this.a=null}I.prototype.add=function(e,t){var n=N.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},D.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},D.prototype.reset=function(){this.next=this.b=this.a=null};var O=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(i(e))return i(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},P=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=i(e)?e.split(""):e,a=0;a<r;a++)a in o&&t.call(n,o[a],a,e)};var R=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),o=i(e)?e.split(""):e,a=0;a<n;a++)a in o&&(r[a]=t.call(void 0,o[a],a,e));return r},L=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=i(e)?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e))return!0;return!1};function M(e,t){return 0<=O(e,t)}function F(e,t){var n;return(n=0<=(t=O(e,t)))&&Array.prototype.splice.call(e,t,1),n}function j(e,t){!function(e,t){var n=e.length,r=i(e)?e.split(""):e;for(--n;0<=n;--n)n in r&&t.call(void 0,r[n],n,e)}(e,function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0})}function U(e){return Array.prototype.concat.apply([],arguments)}function q(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function B(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}var V=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function W(e){return $.test(e)?(-1!=e.indexOf("&")&&(e=e.replace(K,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(H,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(Q,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(G,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(X,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(Y,"&#0;")),e):e}var z,K=/&/g,H=/</g,Q=/>/g,G=/"/g,X=/'/g,Y=/\x00/g,$=/[\x00&<>"']/;function J(e,t){return-1!=e.indexOf(t)}function Z(e,t){return e<t?-1:e>t?1:0}e:{var ee=n.navigator;if(ee){var te=ee.userAgent;if(te){z=te;break e}}z=""}function ne(e){return J(z,e)}function re(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ie(e){for(var t in e)return!1;return!0}function oe(e){var t,n={};for(t in e)n[t]=e[t];return n}var ae,se,ue="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ue.length;o++)n=ue[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function le(e){n.setTimeout(function(){throw e},0)}function he(e,t){se||function(){if(n.Promise&&n.Promise.resolve){var e=n.Promise.resolve(void 0);se=function(){e.then(de)}}else se=function(){var e=de;!h(n.setImmediate)||n.Window&&n.Window.prototype&&!ne("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(ae||(ae=function(){var e=n.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ne("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=y(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!ne("Trident")&&!ne("MSIE")){var t=new e,r={},i=r;return t.port1.onmessage=function(){if(void 0!==r.next){var e=(r=r.next).vb;r.vb=null,e()}},function(e){i.next={vb:e},i=i.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){n.setTimeout(e,0)}}()),ae(e)):n.setImmediate(e)}}(),fe||(se(),fe=!0),pe.add(e,t)}var fe=!1,pe=new I;function de(){for(var e;e=A();){try{e.a.call(e.b)}catch(e){le(e)}x(N,e)}fe=!1}function me(e,t){if(this.a=ge,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=a)try{var n=this;e.call(t,function(e){Ie(n,ye,e)},function(e){if(!(e instanceof Le))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(e){}Ie(n,ve,e)})}catch(e){Ie(this,ve,e)}}var ge=0,ye=2,ve=3;function be(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}be.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var we=new C(function(){return new be},function(e){e.reset()});function _e(e,t,n){var r=we.get();return r.g=e,r.b=t,r.f=n,r}function Ee(e){if(e instanceof me)return e;var t=new me(a);return Ie(t,ye,e),t}function Te(e){return new me(function(t,n){n(e)})}function Se(e,t,n){Ne(e,t,n,null)||he(v(t,e))}function ke(e){return new me(function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Cb:!0,value:o}:{Cb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Se(e[o],v(i,o,!0),v(i,o,!1));else t(r)})}function Ce(e,t){e.b||e.a!=ye&&e.a!=ve||Ae(e),e.f?e.f.next=t:e.b=t,e.f=t}function xe(e,t,n,r){var i=_e(null,null,null);return i.a=new me(function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(e){o(e)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Le?o(t):e(i)}catch(e){o(e)}}:o}),i.a.c=e,Ce(e,i),i.a}function Ie(e,t,n){e.a==ge&&(e===n&&(t=ve,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ne(n,e.Mc,e.Nc,e)||(e.i=n,e.a=t,e.c=null,Ae(e),t!=ve||n instanceof Le||function(e,t){e.g=!0,he(function(){e.g&&Re.call(null,t)})}(e,n)))}function Ne(e,t,n,r){if(e instanceof me)return Ce(e,_e(t||a,n||null,r)),!0;if(E(e))return e.then(t,n,r),!0;if(f(e))try{var i=e.then;if(h(i))return function(e,t,n,r,i){function o(e){a||(a=!0,r.call(i,e))}var a=!1;try{t.call(e,function(e){a||(a=!0,n.call(i,e))},o)}catch(e){o(e)}}(e,i,t,n,r),!0}catch(e){return n.call(r,e),!0}return!1}function Ae(e){e.h||(e.h=!0,he(e.Xb,e))}function De(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Oe(e,t,n,r){if(n==ve&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Pe(t,n,r);else try{t.c?t.g.call(t.f):Pe(t,n,r)}catch(e){Re.call(null,e)}x(we,t)}function Pe(e,t,n){t==ye?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}me.prototype.then=function(e,t,n){return xe(this,h(e)?e:null,h(t)?t:null,n)},_(me),(e=me.prototype).ia=function(e,t){return(e=_e(e,e,t)).c=!0,Ce(this,e),this},e.s=function(e,t){return xe(this,null,e,t)},e.cancel=function(e){this.a==ge&&he(function(){!function e(t,n){if(t.a==ge)if(t.c){var r=t.c;if(r.b){for(var i=0,o=null,a=null,s=r.b;s&&(s.c||(i++,s.a==t&&(o=s),!(o&&1<i)));s=s.next)o||(a=s);o&&(r.a==ge&&1==i?e(r,n):(a?((i=a).next==r.f&&(r.f=i),i.next=i.next.next):De(r),Oe(r,o,ve,n)))}t.c=null}else Ie(t,ve,n)}(this,new Le(e))},this)},e.Mc=function(e){this.a=ge,Ie(this,ye,e)},e.Nc=function(e){this.a=ge,Ie(this,ve,e)},e.Xb=function(){for(var e;e=De(this);)Oe(this,e,this.a,this.i);this.h=!1};var Re=le;function Le(e){T.call(this,e)}function Me(){0!=Fe&&(je[this[p]||(this[p]=++d)]=this),this.pa=this.pa,this.ja=this.ja}w(Le,T),Le.prototype.name="cancel";var Fe=0,je={};function Ue(e){if(!e.pa&&(e.pa=!0,e.ua(),0!=Fe)){var t=e[p]||(e[p]=++d);if(0!=Fe&&e.ja&&0<e.ja.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete je[t]}}function qe(e){return qe[" "](e),e}Me.prototype.pa=!1,Me.prototype.ua=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},qe[" "]=a;var Be,Ve=ne("Opera"),We=ne("Trident")||ne("MSIE"),ze=ne("Edge"),Ke=ze||We,He=ne("Gecko")&&!(J(z.toLowerCase(),"webkit")&&!ne("Edge"))&&!(ne("Trident")||ne("MSIE"))&&!ne("Edge"),Qe=J(z.toLowerCase(),"webkit")&&!ne("Edge");function Ge(){var e=n.document;return e?e.documentMode:void 0}e:{var Xe="",Ye=function(){var e=z;return He?/rv:([^\);]+)(\)|;)/.exec(e):ze?/Edge\/([\d\.]+)/.exec(e):We?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Qe?/WebKit\/(\S+)/.exec(e):Ve?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Ye&&(Xe=Ye?Ye[1]:""),We){var $e=Ge();if(null!=$e&&$e>parseFloat(Xe)){Be=String($e);break e}}Be=Xe}var Je,Ze={};function et(e){return function(e,t){var n=Ze;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(){for(var t=0,n=V(String(Be)).split("."),r=V(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=Z(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||Z(0==a[2].length,0==s[2].length)||Z(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}var tt=n.document;Je=tt&&We?Ge()||("CSS1Compat"==tt.compatMode?parseInt(Be,10):5):void 0;var nt=Object.freeze||function(e){return e},rt=!We||9<=Number(Je),it=We&&!et("9"),ot=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});return n.addEventListener("test",a,t),n.removeEventListener("test",a,t),e}();function at(e,t){this.type=e,this.b=this.target=t,this.Jb=!0}function st(e,t){if(at.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(He){e:{try{qe(t.nodeName);var o=!0;break e}catch(e){}o=!1}o||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,null===r?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=i(e.pointerType)?e.pointerType:ut[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}at.prototype.preventDefault=function(){this.Jb=!1},w(st,at);var ut=nt({2:"touch",3:"pen",4:"mouse"});st.prototype.preventDefault=function(){st.nb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,it)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}},st.prototype.f=function(){return this.a};var ct="closure_listenable_"+(1e6*Math.random()|0),lt=0;function ht(e){e.na=!0,e.listener=null,e.proxy=null,e.src=null,e.La=null}function ft(e){this.src=e,this.a={},this.b=0}function pt(e,t){var n=t.type;n in e.a&&F(e.a[n],t)&&(ht(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function dt(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.na&&o.listener==t&&o.capture==!!n&&o.La==r)return i}return-1}ft.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=dt(e,t,r,i);return-1<a?(t=e[a],n||(t.Ia=!1)):((t=new function(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.La=i,this.key=++lt,this.na=this.Ia=!1}(t,this.src,o,!!r,i)).Ia=n,e.push(t)),t};var mt="closure_lm_"+(1e6*Math.random()|0),gt={};function yt(e,t,n,r,i){if(r&&r.once)bt(e,t,n,r,i);else if(c(t))for(var o=0;o<t.length;o++)yt(e,t[o],n,r,i);else n=It(n),e&&e[ct]?At(e,t,n,f(r)?!!r.capture:!!r,i):vt(e,t,n,!1,r,i)}function vt(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=f(i)?!!i.capture:!!i,s=Ct(e);if(s||(e[mt]=s=new ft(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=kt,t=rt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ot||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Et(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function bt(e,t,n,r,i){if(c(t))for(var o=0;o<t.length;o++)bt(e,t[o],n,r,i);else n=It(n),e&&e[ct]?Dt(e,t,n,f(r)?!!r.capture:!!r,i):vt(e,t,n,!0,r,i)}function wt(e,t,n,r,i){if(c(t))for(var o=0;o<t.length;o++)wt(e,t[o],n,r,i);else r=f(r)?!!r.capture:!!r,n=It(n),e&&e[ct]?(e=e.l,(t=String(t).toString())in e.a&&(-1<(n=dt(o=e.a[t],n,r,i))&&(ht(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=Ct(e))&&(t=e.a[t.toString()],e=-1,t&&(e=dt(t,n,r,i)),(n=-1<e?t[e]:null)&&_t(n))}function _t(e){if("number"!=typeof e&&e&&!e.na){var t=e.src;if(t&&t[ct])pt(t.l,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Et(n),r):t.addListener&&t.removeListener&&t.removeListener(r),0,(n=Ct(t))?(pt(n,e),0==n.b&&(n.src=null,t[mt]=null)):ht(e)}}}function Et(e){return e in gt?gt[e]:gt[e]="on"+e}function Tt(e,t,n,r){var i=!0;if((e=Ct(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.na&&(o=St(o,r),i=i&&!1!==o)}return i}function St(e,t){var n=e.listener,r=e.La||e.src;return e.Ia&&_t(e),n.call(r,t)}function kt(e,t){if(e.na)return!0;if(!rt){if(!t)e:{t=["window","event"];for(var r=n,i=0;i<t.length;i++)if(null==(r=r[t[i]])){t=null;break e}t=r}if(t=new st(i=t,this),r=!0,!(0>i.keyCode||void 0!=i.returnValue)){e:{var o=!1;if(0==i.keyCode)try{i.keyCode=-1;break e}catch(e){o=!0}(o||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],o=t.b;o;o=o.parentNode)i.push(o);for(e=e.type,o=i.length-1;0<=o;o--){t.b=i[o];var a=Tt(i[o],e,!0,t);r=r&&a}for(o=0;o<i.length;o++)t.b=i[o],a=Tt(i[o],e,!1,t),r=r&&a}return r}return St(e,new st(t,this))}function Ct(e){return(e=e[mt])instanceof ft?e:null}var xt="__closure_events_fn_"+(1e9*Math.random()>>>0);function It(e){return h(e)?e:(e[xt]||(e[xt]=function(t){return e.handleEvent(t)}),e[xt])}function Nt(){Me.call(this),this.l=new ft(this),this.Qb=this,this.Ua=null}function At(e,t,n,r,i){e.l.add(String(t),n,!1,r,i)}function Dt(e,t,n,r,i){e.l.add(String(t),n,!0,r,i)}function Ot(e,t,n,r){if(!(t=e.l.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.na&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&pt(e.l,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Jb}function Pt(e,t,r){if(h(e))r&&(e=y(e,r));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=y(e.handleEvent,e)}return 2147483647<Number(t)?-1:n.setTimeout(e,t||0)}function Rt(e){var t=null;return new me(function(n,r){-1==(t=Pt(function(){n(void 0)},e))&&r(Error("Failed to schedule timer."))}).s(function(e){throw n.clearTimeout(t),e})}function Lt(e){if(e.S&&"function"==typeof e.S)return e.S();if(i(e))return e.split("");if(l(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function Mt(e){if(e.U&&"function"==typeof e.U)return e.U();if(!e.S||"function"!=typeof e.S){if(l(e)||i(e)){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Ft(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Ft)for(n=e.U(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function jt(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Ut(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Ut(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Ut(e,t){return Object.prototype.hasOwnProperty.call(e,t)}w(Nt,Me),Nt.prototype[ct]=!0,Nt.prototype.addEventListener=function(e,t,n,r){yt(this,e,t,n,r)},Nt.prototype.removeEventListener=function(e,t,n,r){wt(this,e,t,n,r)},Nt.prototype.dispatchEvent=function(e){var t,n=this.Ua;if(n)for(t=[];n;n=n.Ua)t.push(n);n=this.Qb;var r=e.type||e;if(i(e))e=new at(e,n);else if(e instanceof at)e.target=e.target||n;else{var o=e;ce(e=new at(r,n),o)}if(o=!0,t)for(var a=t.length-1;0<=a;a--){var s=e.b=t[a];o=Ot(s,r,!0,e)&&o}if(o=Ot(s=e.b=n,r,!0,e)&&o,o=Ot(s,r,!1,e)&&o,t)for(a=0;a<t.length;a++)o=Ot(s=e.b=t[a],r,!1,e)&&o;return o},Nt.prototype.ua=function(){if(Nt.nb.ua.call(this),this.l){var e,t=this.l;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)0,ht(n[r]);delete t.a[e],t.b--}}this.Ua=null},(e=Ft.prototype).S=function(){jt(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.U=function(){return jt(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Ut(this.b,e)?this.b[e]:t},e.set=function(e,t){Ut(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var qt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Bt(e,t){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,e instanceof Bt){this.f=void 0!==t?t:e.f,Vt(this,e.c),this.l=e.l,this.b=e.b,Wt(this,e.i),this.g=e.g,t=e.a;var n=new rn;n.c=t.c,t.a&&(n.a=new Ft(t.a),n.b=t.b),zt(this,n),this.h=e.h}else e&&(n=String(e).match(qt))?(this.f=!!t,Vt(this,n[1]||"",!0),this.l=Xt(n[2]||""),this.b=Xt(n[3]||"",!0),Wt(this,n[4]),this.g=Xt(n[5]||"",!0),zt(this,n[6]||"",!0),this.h=Xt(n[7]||"")):(this.f=!!t,this.a=new rn(null,this.f))}function Vt(e,t,n){e.c=n?Xt(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Wt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.i=t}else e.i=null}function zt(e,t,n){t instanceof rn?(e.a=t,function(e,t){t&&!e.f&&(on(e),e.c=null,e.a.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(sn(this,t),cn(this,n,e))},e)),e.f=t}(e.a,e.f)):(n||(t=Yt(t,tn)),e.a=new rn(t,e.f))}function Kt(e,t,n){e.a.set(t,n)}function Ht(e,t){return e.a.get(t)}function Qt(e){return e instanceof Bt?new Bt(e):new Bt(e,void 0)}function Gt(e,t){var n=new Bt(null,void 0);return Vt(n,"https"),e&&(n.b=e),t&&(n.g=t),n}function Xt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Yt(e,t,n){return i(e)?(e=encodeURI(e).replace(t,$t),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $t(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Bt.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Yt(t,Jt,!0),":");var n=this.b;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Yt(t,Jt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&e.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&e.push("/"),e.push(Yt(n,"/"==n.charAt(0)?en:Zt,!0))),(n=this.a.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Yt(n,nn)),e.join("")};var Jt=/[#\/\?@]/g,Zt=/[#\?:]/g,en=/[#\?]/g,tn=/[#\?@]/g,nn=/#/g;function rn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function on(e){e.a||(e.a=new Ft,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function an(e){var t=Mt(e);if(void 0===t)throw Error("Keys are undefined");var n=new rn(null,void 0);e=Lt(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];c(o)?cn(n,i,o):n.add(i,o)}return n}function sn(e,t){on(e),t=ln(e,t),Ut(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Ut((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&jt(e)))}function un(e,t){return on(e),t=ln(e,t),Ut(e.a.b,t)}function cn(e,t,n){sn(e,t),0<n.length&&(e.c=null,e.a.set(ln(e,t),q(n)),e.b+=n.length)}function ln(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}(e=rn.prototype).add=function(e,t){on(this),this.c=null,e=ln(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){on(this),this.a.forEach(function(n,r){P(n,function(n){e.call(t,n,r,this)},this)},this)},e.U=function(){on(this);for(var e=this.a.S(),t=this.a.U(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.S=function(e){on(this);var t=[];if(i(e))un(this,e)&&(t=U(t,this.a.get(ln(this,e))));else{e=this.a.S();for(var n=0;n<e.length;n++)t=U(t,e[n])}return t},e.set=function(e,t){return on(this),this.c=null,un(this,e=ln(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return 0<(e=e?this.S(e):[]).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.U(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var hn=!We||9<=Number(Je);function fn(){this.a="",this.b=dn}function pn(e){return e instanceof fn&&e.constructor===fn&&e.b===dn?e.a:(k("expected object of type Const, got '"+e+"'"),"type_error:Const")}fn.prototype.ma=!0,fn.prototype.la=function(){return this.a},fn.prototype.toString=function(){return"Const{"+this.a+"}"};var dn={};function mn(e){var t=new fn;return t.a=e,t}function gn(){this.a="",this.b=_n}function yn(e){return e instanceof gn&&e.constructor===gn&&e.b===_n?e.a:(k("expected object of type TrustedResourceUrl, got '"+e+"' of type "+s(e)),"type_error:TrustedResourceUrl")}function vn(e,t){var n=pn(e);if(!wn.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=new gn;return t.a=e,t}(e=n.replace(bn,function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof fn?pn(e):encodeURIComponent(String(e))}))}mn(""),gn.prototype.ma=!0,gn.prototype.la=function(){return this.a},gn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var bn=/%{(\w+)}/g,wn=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,_n={};function En(){this.a="",this.b=Cn}function Tn(e){return e instanceof En&&e.constructor===En&&e.b===Cn?e.a:(k("expected object of type SafeUrl, got '"+e+"' of type "+s(e)),"type_error:SafeUrl")}En.prototype.ma=!0,En.prototype.la=function(){return this.a},En.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Sn=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function kn(e){return e instanceof En?e:(e=e.ma?e.la():String(e),Sn.test(e)||(e="about:invalid#zClosurez"),xn(e))}var Cn={};function xn(e){var t=new En;return t.a=e,t}function In(){this.a="",this.b=Nn}xn("about:blank"),In.prototype.ma=!0,In.prototype.la=function(){return this.a},In.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Nn={};function An(e){var t=new In;return t.a=e,t}function Dn(e){var t=document;return i(e)?t.getElementById(e):e}function On(e,t){re(t,function(t,n){t&&t.ma&&(t=t.la()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:Pn.hasOwnProperty(n)?e.setAttribute(Pn[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t})}An("<!DOCTYPE html>"),An(""),An("<br>");var Pn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Rn(e,t,n){var r=arguments,o=document,a=String(r[0]),s=r[1];if(!hn&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',W(s.name),'"'),s.type){a.push(' type="',W(s.type),'"');var u={};ce(u,s),delete u.type,s=u}a.push(">"),a=a.join("")}return a=o.createElement(a),s&&(i(s)?a.className=s:c(s)?a.className=s.join(" "):On(a,s)),2<r.length&&function(e,t,n){function r(n){n&&t.appendChild(i(n)?e.createTextNode(n):n)}for(var o=2;o<n.length;o++){var a=n[o];!l(a)||f(a)&&0<a.nodeType?r(a):P(Ln(a)?q(a):a,r)}}(o,a,r),a}function Ln(e){if(e&&"number"==typeof e.length){if(f(e))return"function"==typeof e.item||"string"==typeof e.item;if(h(e))return"function"==typeof e.item}return!1}function Mn(e){var t=[];return function e(t,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(c(n)){var i=n;n=i.length,r.push("[");for(var o="",a=0;a<n;a++)r.push(o),e(t,i[a],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(a=n[i])&&(r.push(o),Un(i,r),r.push(":"),e(t,a,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":Un(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new function(){},e,t),t.join("")}var Fn={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},jn=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function Un(e,t){t.push('"',e.replace(jn,function(e){var t=Fn[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),Fn[e]=t),t}),'"')}function qn(){var e=ir();return We&&!!Je&&11==Je||/Edge\/\d+/.test(e)}function Bn(){return n.window&&n.window.location.href||self&&self.location&&self.location.href||""}function Vn(e,t){t=t||n.window;var r="about:blank";e&&(r=Tn(kn(e))),t.location.href=r}function Wn(e){return!!((e=(e||ir()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function zn(e){e=e||n.window;try{e.close()}catch(e){}}function Kn(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=ir().toLowerCase(),r&&(t.target=r,J(n,"crios/")&&(t.target="_blank")),tr(ir())==Zn&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof En?n:kn(void 0!==n.href?n.href:String(n)),n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((ne("iPhone")&&!ne("iPod")&&!ne("iPad")||ne("iPad")||ne("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),t instanceof En||t instanceof En||(t=t.ma?t.la():String(t),Sn.test(t)||(t="about:invalid#zClosurez"),t=xn(t)),a.href=Tn(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=r.open("",n,a),e=Tn(t),a&&(Ke&&J(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,mn("b/12014412, meta tag with sanitized URL"),e=An(e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+W(e)+'">'),a.document.write(function(e){return e instanceof In&&e.constructor===In&&e.b===Nn?e.a:(k("expected object of type SafeHtml, got '"+e+"' of type "+s(e)),"type_error:SafeHtml")}(e)),a.document.close())):(a=r.open(Tn(t),n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(e){}return a}var Hn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/;function Qn(){var e=null;return new me(function(t){"complete"==n.document.readyState?t():(e=function(){t()},bt(window,"load",e))}).s(function(t){throw wt(window,"load",e),t})}function Gn(e){return e=e||ir(),!("file:"!==cr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xn(){var e=n.window;try{return!(!e||e==e.top)}catch(e){return!1}}function Yn(){return"object"!=typeof n.window&&"function"==typeof n.importScripts}function $n(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":Yn()?"Worker":"Browser"}function Jn(){var e=$n();return"ReactNative"===e||"Node"===e}var Zn="Firefox",er="Chrome";function tr(e){var t=e.toLowerCase();return J(t,"opera/")||J(t,"opr/")||J(t,"opios/")?"Opera":J(t,"iemobile")?"IEMobile":J(t,"msie")||J(t,"trident/")?"IE":J(t,"edge/")?"Edge":J(t,"firefox/")?Zn:J(t,"silk/")?"Silk":J(t,"blackberry")?"Blackberry":J(t,"webos")?"Webos":!J(t,"safari/")||J(t,"chrome/")||J(t,"crios/")||J(t,"android")?!J(t,"chrome/")&&!J(t,"crios/")||J(t,"edge/")?J(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":er:"Safari"}var nr={Tc:"FirebaseCore-web",Vc:"FirebaseUI-web"};function rr(e,t){t=t||[];var n,r=[],i={};for(n in nr)i[nr[n]]=!0;for(n=0;n<t.length;n++)void 0!==i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=$n())?r=tr(i=ir()):"Worker"===r&&(r=tr(i=ir())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function ir(){return n.navigator&&n.navigator.userAgent||""}function or(e,t){e=e.split("."),t=t||n;for(var r=0;r<e.length&&"object"==typeof t&&null!=t;r++)t=t[e[r]];return r!=e.length&&(t=void 0),t}function ar(){try{var e=n.localStorage,t=dr();if(e)return e.setItem(t,"1"),e.removeItem(t),!qn()||!!n.indexedDB}catch(e){return Yn()&&!!n.indexedDB}return!1}function sr(){return(ur()||"chrome-extension:"===cr()||Gn())&&!Jn()&&ar()&&!Yn()}function ur(){return"http:"===cr()||"https:"===cr()}function cr(){return n.location&&n.location.protocol||null}function lr(e){return!Wn(e=e||ir())&&tr(e)!=Zn}function hr(e){return void 0===e?null:Mn(e)}function fr(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function pr(e){if(null!==e)return JSON.parse(e)}function dr(e){return e||Math.floor(1e9*Math.random()).toString()}function mr(e){return"Safari"!=tr(e=e||ir())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function gr(){var e=n.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var r=0;r<e.CP.length;r++)e.CP[r]=null}function yr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=ir(),t=$n(),this.b=Wn(e)||"ReactNative"===t}function vr(){var e=n.document;return!e||void 0===e.visibilityState||"visible"==e.visibilityState}function br(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(e){}return null}function wr(){return!(!or("fireauth.oauthhelper",n)&&!or("fireauth.iframe",n))}yr.prototype.get=function(){var e=n.navigator;return!e||"boolean"!=typeof e.onLine||!ur()&&"chrome-extension:"!==cr()&&void 0===e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var _r,Er={};function Tr(e){Er[e]||(Er[e]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(e))}try{var Sr={};Object.defineProperty(Sr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Sr,"abcd",{configurable:!0,enumerable:!0,value:2}),_r=2==Sr.abcd}catch(e){_r=!1}function kr(e,t,n){_r?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function Cr(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&kr(e,n,t[n])}function xr(e){var t={};return Cr(t,e),t}function Ir(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)kr(t,n,Ir(e[n]));return t}var Nr="EMAIL_SIGNIN",Ar="email",Dr="newEmail",Or="requestType",Pr="email",Rr="fromEmail",Lr="data",Mr="operation";function Fr(e,t){this.code=Ur+e,this.message=t||qr[e]||""}function jr(e){var t=e&&e.code;return t?new Fr(t.substring(Ur.length),e.message):null}w(Fr,Error),Fr.prototype.D=function(){return{code:this.code,message:this.message}},Fr.prototype.toJSON=function(){return this.D()};var Ur="auth/",qr={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function Br(e){var t=e[Kr];if(void 0===t)throw new Fr("missing-continue-uri");if("string"!=typeof t||"string"==typeof t&&!t.length)throw new Fr("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Vr];if(n&&"object"==typeof n){t=n[Gr];var r=n[Hr];if(n=n[Qr],"string"==typeof t&&t.length){if(this.a=t,void 0!==r&&"boolean"!=typeof r)throw new Fr("argument-error",Hr+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new Fr("argument-error",Qr+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==t)throw new Fr("argument-error",Gr+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new Fr("missing-android-pkg-name")}}else if(void 0!==n)throw new Fr("argument-error",Vr+" property must be a non null object when specified.");if(this.f=null,(t=e[zr])&&"object"==typeof t){if("string"==typeof(t=t[Xr])&&t.length)this.f=t;else if(void 0!==t)throw new Fr("argument-error",Xr+" property must be a non empty string when specified.")}else if(void 0!==t)throw new Fr("argument-error",zr+" property must be a non null object when specified.");if(void 0!==(e=e[Wr])&&"boolean"!=typeof e)throw new Fr("argument-error",Wr+" property must be a boolean when specified.");this.c=!!e}var Vr="android",Wr="handleCodeInApp",zr="iOS",Kr="url",Hr="installApp",Qr="minimumVersion",Gr="packageName",Xr="bundleId";function Yr(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t)null===t[n]&&delete t[n];return t}var $r=null,Jr=null;function Zr(e){var t="";return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Jr[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!$r){$r={},Jr={};for(var e=0;65>e;e++)$r[e]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(e),Jr[$r[e]]=e,62<=e&&(Jr["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(e)]=e)}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,function(e){t+=String.fromCharCode(e)}),t}function ei(e){this.c=e.sub,b(),this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function ti(e){return(e=ni(e))&&e.sub&&e.iss&&e.aud&&e.exp?new ei(e):null}function ni(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{return JSON.parse(Zr(e))}catch(e){}return null}ei.prototype.f=function(){return this.b};var ri="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),ii=["client_id","response_type","scope","redirect_uri","state"],oi={Uc:{Ma:"locale",Ba:500,Aa:600,Na:"facebook.com",gb:ii},Wc:{Ma:null,Ba:500,Aa:620,Na:"github.com",gb:ii},Xc:{Ma:"hl",Ba:515,Aa:680,Na:"google.com",gb:ii},cd:{Ma:"lang",Ba:485,Aa:705,Na:"twitter.com",gb:ri}};function ai(e){for(var t in oi)if(oi[t].Na==e)return oi[t];return null}function si(e){var t={};t["facebook.com"]=fi,t["google.com"]=di,t["github.com"]=pi,t["twitter.com"]=mi;var n=e&&e[ci];try{if(n)return t[n]?new t[n](e):new hi(e);if(void 0!==e[ui])return new li(e)}catch(e){}return null}var ui="idToken",ci="providerId";function li(e){var t=e[ci];if(!t&&e[ui]){var n=ti(e[ui]);n&&n.a&&(t=n.a)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,void 0!==e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),kr(this,"providerId",t),kr(this,"isNewUser",n)}function hi(e){li.call(this,e),kr(this,"profile",Ir((e=pr(e.rawUserInfo||"{}"))||{}))}function fi(e){if(hi.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function pi(e){if(hi.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");kr(this,"username",this.profile&&this.profile.login||null)}function di(e){if(hi.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function mi(e){if(hi.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");kr(this,"username",e.screenName||null)}function gi(e){var t=Qt(e),n=Ht(t,"link"),r=Ht(Qt(n),"link");return Ht(Qt(t=Ht(t,"deep_link_id")),"link")||t||r||n||e}function yi(e,t){return e.then(function(e){if(e[$o]){var n=ti(e[$o]);if(!n||t!=n.c)throw new Fr("user-mismatch");return e}throw new Fr("user-mismatch")}).s(function(e){throw e&&e.code&&e.code==Ur+"user-not-found"?new Fr("user-mismatch"):e})}function vi(e,t,n){if(t.idToken||t.accessToken)t.idToken&&kr(this,"idToken",t.idToken),t.accessToken&&kr(this,"accessToken",t.accessToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new Fr("internal-error","failed to construct a credential");kr(this,"accessToken",t.oauthToken),kr(this,"secret",t.oauthTokenSecret)}kr(this,"providerId",e),kr(this,"signInMethod",n)}function bi(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,{postBody:an(t).toString(),requestUri:"http://localhost"}}function wi(e,t){this.Cc=t||[],Cr(this,{providerId:e,isOAuthProvider:!0}),this.xb={},this.bb=(ai(e)||{}).Ma||null,this.Za=null}function _i(e){wi.call(this,e,ii),this.a=[]}function Ei(){_i.call(this,"facebook.com")}function Ti(e){if(!e)throw new Fr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return f(e)&&(t=e.accessToken),(new Ei).credential(null,t)}function Si(){_i.call(this,"github.com")}function ki(e){if(!e)throw new Fr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return f(e)&&(t=e.accessToken),(new Si).credential(null,t)}function Ci(){_i.call(this,"google.com"),this.ta("profile")}function xi(e,t){var n=e;return f(e)&&(n=e.idToken,t=e.accessToken),(new Ci).credential(n,t)}function Ii(){wi.call(this,"twitter.com",ri)}function Ni(e,t){var n=e;if(f(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new Fr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new vi("twitter.com",n,"twitter.com")}function Ai(e,t,n){this.a=e,this.b=t,kr(this,"providerId","password"),kr(this,"signInMethod",n===Di.EMAIL_LINK_SIGN_IN_METHOD?Di.EMAIL_LINK_SIGN_IN_METHOD:Di.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Di(){Cr(this,{providerId:"password",isOAuthProvider:!1})}function Oi(e,t){if(!(t=Pi(t)))throw new Fr("argument-error","Invalid email link!");return new Ai(e,t,Di.EMAIL_LINK_SIGN_IN_METHOD)}function Pi(e){var t=Ht((e=new function(e){this.a=Qt(e)}(e=gi(e))).a,"oobCode")||null;return"signIn"===(Ht(e.a,"mode")||null)&&t?t:null}function Ri(e){if(!(e.Sa&&e.Ra||e.Fa&&e.$))throw new Fr("internal-error");this.a=e,kr(this,"providerId","phone"),kr(this,"signInMethod","phone")}function Li(e){return e.a.Fa&&e.a.$?{temporaryProof:e.a.Fa,phoneNumber:e.a.$}:{sessionInfo:e.a.Sa,code:e.a.Ra}}function Mi(e){try{this.a=e||r.a.auth()}catch(e){throw new Fr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Cr(this,{providerId:"phone",isOAuthProvider:!1})}function Fi(e,t){if(!e)throw new Fr("missing-verification-id");if(!t)throw new Fr("missing-verification-code");return new Ri({Sa:e,Ra:t})}function ji(e){if(e.temporaryProof&&e.phoneNumber)return new Ri({Fa:e.temporaryProof,$:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret;e=e&&e.oauthIdToken;try{switch(t){case"google.com":return xi(e,n);case"facebook.com":return Ti(n);case"github.com":return ki(n);case"twitter.com":return Ni(n,r);default:return new _i(t).credential(e,n)}}catch(e){return null}}function Ui(e){if(!e.isOAuthProvider)throw new Fr("invalid-oauth-provider")}function qi(e,t,n,r,i){if(this.b=e,this.c=t||null,this.f=n||null,this.g=r||null,this.a=i||null,!this.f&&!this.a)throw new Fr("invalid-auth-event");if(this.f&&this.a)throw new Fr("invalid-auth-event");if(this.f&&!this.g)throw new Fr("invalid-auth-event")}function Bi(e){return(e=e||{}).type?new qi(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&jr(e.error)):null}function Vi(){this.b=null,this.a=[]}w(hi,li),w(fi,hi),w(pi,hi),w(di,hi),w(mi,hi),vi.prototype.ya=function(e){return da(e,bi(this))},vi.prototype.c=function(e,t){var n=bi(this);return n.idToken=t,ma(e,n)},vi.prototype.f=function(e,t){return yi(ga(e,bi(this)),t)},vi.prototype.D=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),e},wi.prototype.Da=function(e){return this.xb=oe(e),this},w(_i,wi),_i.prototype.ta=function(e){return M(this.a,e)||this.a.push(e),this},_i.prototype.Db=function(){return q(this.a)},_i.prototype.credential=function(e,t){if(!e&&!t)throw new Fr("argument-error","credential failed: must provide the ID token and/or the access token.");return new vi(this.providerId,{idToken:e||null,accessToken:t||null},this.providerId)},w(Ei,_i),kr(Ei,"PROVIDER_ID","facebook.com"),kr(Ei,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),w(Si,_i),kr(Si,"PROVIDER_ID","github.com"),kr(Si,"GITHUB_SIGN_IN_METHOD","github.com"),w(Ci,_i),kr(Ci,"PROVIDER_ID","google.com"),kr(Ci,"GOOGLE_SIGN_IN_METHOD","google.com"),w(Ii,wi),kr(Ii,"PROVIDER_ID","twitter.com"),kr(Ii,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ai.prototype.ya=function(e){return this.signInMethod==Di.EMAIL_LINK_SIGN_IN_METHOD?Ka(e,Sa,{email:this.a,oobCode:this.b}):Ka(e,Ba,{email:this.a,password:this.b})},Ai.prototype.c=function(e,t){return this.signInMethod==Di.EMAIL_LINK_SIGN_IN_METHOD?Ka(e,ka,{idToken:t,email:this.a,oobCode:this.b}):Ka(e,La,{idToken:t,email:this.a,password:this.b})},Ai.prototype.f=function(e,t){return yi(this.ya(e),t)},Ai.prototype.D=function(){return{email:this.a,password:this.b,signInMethod:this.signInMethod}},Cr(Di,{PROVIDER_ID:"password"}),Cr(Di,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Cr(Di,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Ri.prototype.ya=function(e){return e.Ta(Li(this))},Ri.prototype.c=function(e,t){var n=Li(this);return n.idToken=t,Ka(e,Wa,n)},Ri.prototype.f=function(e,t){var n=Li(this);return n.operation="REAUTH",yi(e=Ka(e,za,n),t)},Ri.prototype.D=function(){var e={providerId:"phone"};return this.a.Sa&&(e.verificationId=this.a.Sa),this.a.Ra&&(e.verificationCode=this.a.Ra),this.a.Fa&&(e.temporaryProof=this.a.Fa),this.a.$&&(e.phoneNumber=this.a.$),e},Mi.prototype.Ta=function(e,t){var n=this.a.b;return Ee(t.verify()).then(function(r){if(!i(r))throw new Fr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(t.type){case"recaptcha":return function(e,t){return Ka(e,Pa,t)}(n,{phoneNumber:e,recaptchaToken:r}).then(function(e){return"function"==typeof t.reset&&t.reset(),e},function(e){throw"function"==typeof t.reset&&t.reset(),e});default:throw new Fr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},Cr(Mi,{PROVIDER_ID:"phone"}),Cr(Mi,{PHONE_SIGN_IN_METHOD:"phone"}),qi.prototype.D=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.D()}};var Wi=null;function zi(e){var t="unauthorized-domain",n=void 0,r=Qt(e);e=r.b,"chrome-extension"==(r=r.c)?n=B("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=B("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",Fr.call(this,t,n)}function Ki(e,t,n){Fr.call(this,e,n),(e=t||{}).yb&&kr(this,"email",e.yb),e.$&&kr(this,"phoneNumber",e.$),e.credential&&kr(this,"credential",e.credential)}function Hi(e){if(e.code){var t=e.code||"";0==t.indexOf(Ur)&&(t=t.substring(Ur.length));var n={credential:ji(e)};if(e.email)n.yb=e.email;else if(e.phoneNumber)n.$=e.phoneNumber;else if(!n.credential)return new Fr(t,e.message||void 0);return new Ki(t,n,e.message)}return null}Vi.prototype.subscribe=function(e){var t=this;this.a.push(e),this.b||(this.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"==typeof(e=or("universalLinks.subscribe",n))&&e(null,this.b))},Vi.prototype.unsubscribe=function(e){j(this.a,function(t){return t==e})},w(zi,Fr),w(Ki,Fr),Ki.prototype.D=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber);var t=this.credential&&this.credential.D();return t&&ce(e,t),e},Ki.prototype.toJSON=function(){return this.D()};var Qi,Gi=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;function Xi(){}function Yi(e){return e.c||(e.c=e.b())}function $i(){}function Ji(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function Zi(){}function eo(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=y(this.dc,this),this.a.onerror=y(this.Eb,this),this.a.onprogress=y(this.ec,this),this.a.ontimeout=y(this.hc,this)}function to(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function no(e,t,n){this.reset(e,t,n,void 0,void 0)}Xi.prototype.c=null,w($i,Xi),$i.prototype.a=function(){var e=Ji(this);return e?new ActiveXObject(e):new XMLHttpRequest},$i.prototype.b=function(){var e={};return Ji(this)&&(e[0]=!0,e[1]=!0),e},Qi=new $i,w(Zi,Xi),Zi.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new eo;throw Error("Unsupported browser")},Zi.prototype.b=function(){return{}},(e=eo.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.dc=function(){this.status=200,this.responseText=this.a.responseText,to(this,4)},e.Eb=function(){this.status=500,this.responseText="",to(this,4)},e.hc=function(){this.Eb()},e.ec=function(){this.status=200,to(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},no.prototype.a=null;function ro(e){this.f=e,this.b=this.c=this.a=null}function io(e,t){this.name=e,this.value=t}no.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||b(),delete this.a},io.prototype.toString=function(){return this.name};var oo=new io("SEVERE",1e3),ao=new io("WARNING",900),so=new io("CONFIG",700),uo=new io("FINE",500);ro.prototype.log=function(e,t,n){if(e.value>=function e(t){return t.c?t.c:t.a?e(t.a):(k("Root logger has no level set."),null)}(this).value)for(h(t)&&(t=t()),e=new no(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var co={},lo=null;function ho(e){var t;if(lo||(lo=new ro(""),co[""]=lo,lo.c=so),!(t=co[e])){t=new ro(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ho(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,co[e]=t}return t}function fo(e,t){e&&e.log(uo,t,void 0)}function po(e){this.f=e}function mo(e){Nt.call(this),this.i=e,this.readyState=go,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=ho("goog.net.FetchXmlHttp")}w(po,Xi),po.prototype.a=function(){return new mo(this.f)},po.prototype.b=function(e){return function(){return e}}({}),w(mo,Nt);var go=0;function yo(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function vo(e){Nt.call(this),this.headers=new Ft,this.C=e||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.m="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=bo,this.v=this.O=!1}(e=mo.prototype).open=function(e,t){if(this.readyState!=go)throw this.abort(),Error("Error reopening a connection");this.h=e,this.c=t,this.readyState=1,yo(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.g,method:this.h,credentials:void 0,cache:void 0};e&&(t.body=e),this.i.fetch(new Request(this.c,t)).then(this.gc.bind(this),this.Fb.bind(this))},e.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,yo(this)),this.readyState=go},e.gc=function(e){this.a&&(this.b||(this.b=e.headers,this.readyState=2,yo(this)),this.a&&(this.readyState=3,yo(this),this.a&&e.text().then(this.fc.bind(this,e),this.Fb.bind(this))))},e.fc=function(e,t){this.a&&(this.status=e.status,this.statusText=e.statusText,this.responseText=t,this.readyState=4,yo(this))},e.Fb=function(e){var t=this.f;t&&t.log(ao,"Failed to fetch url "+this.c,e instanceof Error?e:Error(e)),this.a&&(this.readyState=4,yo(this))},e.setRequestHeader=function(e,t){this.g.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.f)&&e.log(ao,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.f;return e&&e.log(ao,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},w(vo,Nt);var bo="";vo.prototype.b=ho("goog.net.XhrIo");var wo=/^https?$/i,_o=["POST","PUT"];function Eo(e,t,r,o,a){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.m+"; newUri="+t);r=r?r.toUpperCase():"GET",e.m=t,e.h="",e.N=r,e.G=!1,e.c=!0,e.a=e.C?e.C.a():Qi.a(),e.w=e.C?Yi(e.C):Yi(Qi),e.a.onreadystatechange=y(e.Ib,e);try{fo(e.b,Do(e,"Opening Xhr")),e.I=!0,e.a.open(r,String(t),!0),e.I=!1}catch(t){return fo(e.b,Do(e,"Error opening Xhr: "+t.message)),void So(e,t)}t=o||"";var s=new Ft(e.headers);a&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(l(e)||i(e))P(e,t,void 0);else for(var n=Mt(e),r=Lt(e),o=r.length,a=0;a<o;a++)t.call(void 0,r[a],n&&n[a],e)}(a,function(e,t){s.set(t,e)}),a=function(e){e:{for(var t=To,n=e.length,r=i(e)?e.split(""):e,o=0;o<n;o++)if(o in r&&t.call(void 0,r[o],o,e)){t=o;break e}t=-1}return 0>t?null:i(e)?e.charAt(t):e[t]}(s.U()),o=n.FormData&&t instanceof n.FormData,!M(_o,r)||a||o||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(e,t){this.a.setRequestHeader(t,e)},e),e.o&&(e.a.responseType=e.o),"withCredentials"in e.a&&e.a.withCredentials!==e.O&&(e.a.withCredentials=e.O);try{Io(e),0<e.g&&(e.v=function(e){return We&&et(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(e.a),fo(e.b,Do(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.v)),e.v?(e.a.timeout=e.g,e.a.ontimeout=y(e.Ga,e)):e.u=Pt(e.Ga,e.g,e)),fo(e.b,Do(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(t){fo(e.b,Do(e,"Send error: "+t.message)),So(e,t)}}function To(e){return"content-type"==e.toLowerCase()}function So(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,ko(e),xo(e)}function ko(e){e.G||(e.G=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Co(e){if(e.c&&void 0!==t)if(e.w[1]&&4==No(e)&&2==Ao(e))fo(e.b,Do(e,"Local request error detected and ignored"));else if(e.i&&4==No(e))Pt(e.Ib,0,e);else if(e.dispatchEvent("readystatechange"),4==No(e)){fo(e.b,Do(e,"Request complete")),e.c=!1;try{var r,i=Ao(e);e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break e;default:o=!1}if(!(r=o)){var a;if(a=0===i){var s=String(e.m).match(qt)[1]||null;if(!s&&n.self&&n.self.location){var u=n.self.location.protocol;s=u.substr(0,u.length-1)}a=!wo.test(s?s.toLowerCase():"")}r=a}if(r)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<No(e)?e.a.statusText:""}catch(t){fo(e.b,"Can not get status: "+t.message),c=""}e.h=c+" ["+Ao(e)+"]",ko(e)}}finally{xo(e)}}}function xo(e,t){if(e.a){Io(e);var n=e.a,r=e.w[0]?a:null;e.a=null,e.w=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){(e=e.b)&&e.log(oo,"Problem encountered resetting onreadystatechange: "+t.message,void 0)}}}function Io(e){e.a&&e.v&&(e.a.ontimeout=null),e.u&&(n.clearTimeout(e.u),e.u=null)}function No(e){return e.a?e.a.readyState:0}function Ao(e){try{return 2<No(e)?e.a.status:-1}catch(e){return-1}}function Do(e,t){return t+" ["+e.N+" "+e.m+" "+Ao(e)+"]"}function Oo(e,t){this.g=[],this.v=e,this.u=t||null,this.f=this.a=!1,this.c=void 0,this.m=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function Po(e,t,n){e.a=!0,e.c=n,e.f=!t,Fo(e)}function Ro(e){if(e.a){if(!e.m)throw new jo(e);e.m=!1}}function Lo(e,t,n,r){e.g.push([t,n,r]),e.a&&Fo(e)}function Mo(e){return L(e.g,function(e){return h(e[1])})}function Fo(e){if(e.h&&e.a&&Mo(e)){var t=e.h,r=Bo[t];r&&(n.clearTimeout(r.a),delete Bo[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var i=r=!1;e.g.length&&!e.i;){var o=e.g.shift(),a=o[0],s=o[1];if(o=o[2],a=e.f?s:a)try{var u=a.call(o||e.u,t);void 0!==u&&(e.f=e.f&&(u==t||u instanceof Error),e.c=t=u),(E(t)||"function"==typeof n.Promise&&t instanceof n.Promise)&&(i=!0,e.i=!0)}catch(n){t=n,e.f=!0,Mo(e)||(r=!0)}}e.c=t,i&&(u=y(e.o,e,!0),i=y(e.o,e,!1),t instanceof Oo?(Lo(t,u,i),t.w=!0):t.then(u,i)),r&&(t=new qo(t),Bo[t.a]=t,e.h=t.a)}function jo(){T.call(this)}function Uo(){T.call(this)}function qo(e){this.a=n.setTimeout(y(this.c,this),0),this.b=e}(e=vo.prototype).Ga=function(){void 0!==t&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",fo(this.b,Do(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(fo(this.b,Do(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),xo(this))},e.ua=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),xo(this,!0)),vo.nb.ua.call(this)},e.Ib=function(){this.pa||(this.I||this.i||this.f?Co(this):this.vc())},e.vc=function(){Co(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case bo:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(oo,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(e){return fo(this.b,"Can not get response: "+e.message),null}},Oo.prototype.cancel=function(e){if(this.a)this.c instanceof Oo&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.v?this.v.call(this.u,this):this.m=!0,this.a||(e=new Uo(this),Ro(this),Po(this,!1,e))}},Oo.prototype.o=function(e,t){this.i=!1,Po(this,e,t)},Oo.prototype.C=function(){Ro(this),Po(this,!0,null)},Oo.prototype.then=function(e,t,n){var r,i,o=new me(function(e,t){r=e,i=t});return Lo(this,r,function(e){e instanceof Uo?o.cancel():i(e)}),o.then(e,t,n)},_(Oo),w(jo,T),jo.prototype.message="Deferred has already fired",jo.prototype.name="AlreadyCalledError",w(Uo,T),Uo.prototype.message="Deferred was canceled",Uo.prototype.name="CanceledError",qo.prototype.c=function(){throw delete Bo[this.a],this.b};var Bo={};function Vo(e){var t={},n=t.document||document,r=yn(e),i=document.createElement("SCRIPT"),o={Kb:i,Ga:void 0},a=new Oo(Wo,o),s=null,u=null!=t.timeout?t.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){zo(i,!0);var e=new Qo(Ho,"Timeout reached for loading script "+r);Ro(a),Po(a,!1,e)},u),o.Ga=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(zo(i,t.ed||!1,s),a.C())},i.onerror=function(){zo(i,!0,s);var e=new Qo(Ko,"Error while loading script "+r);Ro(a),Po(a,!1,e)},ce(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),On(i,o),i.src=yn(e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Wo(){if(this&&this.Kb){var e=this.Kb;e&&"SCRIPT"==e.tagName&&zo(e,!0,this.Ga)}}function zo(e,t,r){null!=r&&n.clearTimeout(r),e.onload=a,e.onerror=a,e.onreadystatechange=a,t&&window.setTimeout(function(){e&&e.parentNode&&e.parentNode.removeChild(e)},0)}var Ko=0,Ho=1;function Qo(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),T.call(this,n),this.code=e}function Go(e){this.f=e}function Xo(e,t,i){if(this.b=e,e=t||{},this.i=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=e.secureTokenTimeout||Jo,this.f=oe(e.secureTokenHeaders||Zo),this.g=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=e.firebaseTimeout||ea,this.a=oe(e.firebaseHeaders||ta),i&&(this.a["X-Client-Version"]=i,this.f["X-Client-Version"]=i),i="Node"==$n(),!(i=n.XMLHttpRequest||i&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!Yn())throw new Fr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,Yn()?this.c=new po(self):Jn()?this.c=new Go(i):this.c=new Zi}w(Qo,T),w(Go,Xi),Go.prototype.a=function(){return new this.f},Go.prototype.b=function(){return{}};var Yo,$o="idToken",Jo=new yr(3e4,6e4),Zo={"Content-Type":"application/x-www-form-urlencoded"},ea=new yr(3e4,6e4),ta={"Content-Type":"application/json"};function na(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ra(e,t){t?(e.a["X-Client-Version"]=t,e.f["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.f["X-Client-Version"])}function ia(e,t,r,i,o,a,s){(function(){var e=ir();return!((e=tr(e)!=er?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e||We&&Je&&!(9<Je))})()||Yn()?e=y(e.o,e):(Yo||(Yo=new me(function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{n[aa]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))};var r=vn(oa,{onload:aa});!function(e,t){Lo(e,null,t,void 0)}(Vo(r),function(){t(Error("CORS_UNSUPPORTED"))})}}(e,t)})),e=y(e.m,e)),e(t,r,i,o,a,s)}Xo.prototype.o=function(e,t,r,i,o,a){if(Yn()&&(void 0===n.fetch||void 0===n.Headers||void 0===n.Request))throw new Fr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new vo(this.c);if(a){s.g=Math.max(0,a);var u=setTimeout(function(){s.dispatchEvent("timeout")},a)}At(s,"complete",function(){u&&clearTimeout(u);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return fo(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(t){e=null}t&&t(e)}),Dt(s,"ready",function(){u&&clearTimeout(u),Ue(this)}),Dt(s,"timeout",function(){u&&clearTimeout(u),Ue(this),t&&t(null)}),Eo(s,e,r,i,o)};var oa=mn("https://apis.google.com/js/client.js?onload=%{onload}"),aa="__fcb"+Math.floor(1e6*Math.random()).toString();function sa(e){if(!Gi.test(e.email))throw new Fr("invalid-email")}function ua(e){"email"in e&&sa(e)}function ca(e){if(!e[$o])throw new Fr("internal-error")}function la(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new Fr("internal-error")}else{if(!e.sessionInfo)throw new Fr("missing-verification-id");if(!e.code)throw new Fr("missing-verification-code")}}Xo.prototype.m=function(e,t,n,r,i){var o=this;Yo.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})}).s(function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})})},Xo.prototype.Pa=function(){return Ka(this,Ma,{})},Xo.prototype.ob=function(e,t){return Ka(this,Ra,{idToken:e,email:t})},Xo.prototype.pb=function(e,t){return Ka(this,La,{idToken:e,password:t})};var ha={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function fa(e){if(!e.requestUri||!e.sessionId&&!e.postBody)throw new Fr("internal-error")}function pa(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Hi(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Hi(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Hi(e)):e.errorMessage&&(t=Ha(e.errorMessage)),t)throw t;if(!e[$o])throw new Fr("internal-error")}function da(e,t){return t.returnIdpCredential=!0,Ka(e,Fa,t)}function ma(e,t){return t.returnIdpCredential=!0,Ka(e,Ua,t)}function ga(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,Ka(e,ja,t)}function ya(e){if(!e.oobCode)throw new Fr("invalid-action-code")}(e=Xo.prototype).qb=function(e,t){var n={idToken:e},r=[];return re(ha,function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),Ka(this,Ra,n)},e.jb=function(e,t){return ce(e={requestType:"PASSWORD_RESET",email:e},t),Ka(this,Na,e)},e.kb=function(e,t){return ce(e={requestType:"EMAIL_SIGNIN",email:e},t),Ka(this,xa,e)},e.ib=function(e,t){return ce(e={requestType:"VERIFY_EMAIL",idToken:e},t),Ka(this,Ia,e)},e.Ta=function(e){return Ka(this,Va,e)},e.Ya=function(e,t){return Ka(this,Oa,{oobCode:e,newPassword:t})},e.Ja=function(e){return Ka(this,ba,{oobCode:e})},e.Va=function(e){return Ka(this,va,{oobCode:e})};var va={endpoint:"setAccountInfo",B:ya,da:"email"},ba={endpoint:"resetPassword",B:ya,J:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t)throw new Fr("internal-error")}},wa={endpoint:"signupNewUser",B:function(e){if(sa(e),!e.password)throw new Fr("weak-password")},J:ca,R:!0},_a={endpoint:"createAuthUri"},Ea={endpoint:"deleteAccount",T:["idToken"]},Ta={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(e){if(!c(e.deleteProvider))throw new Fr("internal-error")}},Sa={endpoint:"emailLinkSignin",T:["email","oobCode"],B:sa,J:ca,R:!0},ka={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:sa,J:ca,R:!0},Ca={endpoint:"getAccountInfo"},xa={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new Fr("internal-error");sa(e)},da:"email"},Ia={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new Fr("internal-error")},da:"email"},Na={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(e){if("PASSWORD_RESET"!=e.requestType)throw new Fr("internal-error");sa(e)},da:"email"},Aa={tb:!0,endpoint:"getProjectConfig",Hb:"GET"},Da={tb:!0,endpoint:"getRecaptchaParam",Hb:"GET",J:function(e){if(!e.recaptchaSiteKey)throw new Fr("internal-error")}},Oa={endpoint:"resetPassword",B:ya,da:"email"},Pa={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Ra={endpoint:"setAccountInfo",T:["idToken"],B:ua,R:!0},La={endpoint:"setAccountInfo",T:["idToken"],B:function(e){if(ua(e),!e.password)throw new Fr("weak-password")},J:ca,R:!0},Ma={endpoint:"signupNewUser",J:ca,R:!0},Fa={endpoint:"verifyAssertion",B:fa,J:pa,R:!0},ja={endpoint:"verifyAssertion",B:fa,J:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new Fr("user-not-found");if(e.errorMessage)throw Ha(e.errorMessage);if(!e[$o])throw new Fr("internal-error")},R:!0},Ua={endpoint:"verifyAssertion",B:function(e){if(fa(e),!e.idToken)throw new Fr("internal-error")},J:pa,R:!0},qa={endpoint:"verifyCustomToken",B:function(e){if(!e.token)throw new Fr("invalid-custom-token")},J:ca,R:!0},Ba={endpoint:"verifyPassword",B:function(e){if(sa(e),!e.password)throw new Fr("wrong-password")},J:ca,R:!0},Va={endpoint:"verifyPhoneNumber",B:la,J:ca},Wa={endpoint:"verifyPhoneNumber",B:function(e){if(!e.idToken)throw new Fr("internal-error");la(e)},J:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Hi(e);ca(e)}},za={Wb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:la,J:ca};function Ka(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.T))return Te(new Fr("internal-error"));var r,i=t.Hb||"POST";return Ee(n).then(t.B).then(function(){return t.R&&(n.returnSecureToken=!0),function(e,t,n,r,i,o){var a=Qt(e.g+t);Kt(a,"key",e.b),o&&Kt(a,"cb",b().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&Kt(a,u,r[u]);return new me(function(t,o){ia(e,a.toString(),function(e){e?e.error?o(Qa(e,i||{})):t(e):o(new Fr("network-request-failed"))},n,s?void 0:Mn(fr(r)),e.a,e.h.get())})}(e,t.endpoint,i,n,t.Wb,t.tb||!1)}).then(function(e){return r=e}).then(t.J).then(function(){if(!t.da)return r;if(!(t.da in r))throw new Fr("internal-error");return r[t.da]})}function Ha(e){return Qa({error:{errors:[{message:e}],code:400,message:e}})}function Qa(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new Fr(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",ce(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new Fr(r[i],t);return!t&&e&&(t=hr(e)),new Fr("internal-error",t)}var Ga,Xa={Zc:{$a:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",hb:"https://securetoken.googleapis.com/v1/token",id:"p"},ad:{$a:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",hb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},bd:{$a:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",hb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function Ya(e){for(var t in Xa)if(Xa[t].id===e)return{firebaseEndpoint:(e=Xa[t]).$a,secureTokenEndpoint:e.hb};return null}function $a(e){this.b=e,this.a=null,this.eb=function(e){return(ts||(ts=new me(function(e,t){function r(){gr(),or("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){gr(),t(Error("Network Error"))},timeout:Za.get()})}if(or("gapi.iframes.Iframe"))e();else if(or("gapi.load"))r();else{var i="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[i]=function(){or("gapi.load")?r():t(Error("Network Error"))},Ee(Vo(i=vn(Ja,{onload:i}))).s(function(){t(Error("Network Error"))})}}).s(function(e){throw ts=null,e}))).then(function(){return new me(function(t,n){or("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},es.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}(this)}Ga=Ya("__EID__")?"__EID__":void 0;var Ja=mn("https://apis.google.com/js/api.js?onload=%{onload}"),Za=new yr(3e4,6e4),es=new yr(5e3,15e3),ts=null;function ns(e,t,n){this.i=e,this.g=t,this.h=n,this.f=null,this.a=Gt(this.i,"/__/auth/iframe"),Kt(this.a,"apiKey",this.g),Kt(this.a,"appName",this.h),this.b=null,this.c=[]}function rs(e,t,n,r,i){this.o=e,this.m=t,this.c=n,this.l=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function is(e){try{return r.a.app(e).auth().xa()}catch(e){return[]}}function os(e,t,n,r,i){this.m=e,this.f=t,this.b=n,this.c=r||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.l=this.a=null}function as(e){var t=Bn();return function(e){return Ka(e,Aa,{}).then(function(e){return e.authorizedDomains||[]})}(e).then(function(e){e:{var n=Qt(t),r=n.c;n=n.b;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Qt(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:Hn.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new zi(Bn())})}function ss(e){return e.l?e.l:(e.l=Qn().then(function(){if(!e.u){var t=e.c,n=e.h,r=is(e.b),i=new ns(e.m,e.f,e.b);i.f=t,i.b=n,i.c=q(r||[]),e.u=i.toString()}e.i=new $a(e.u),function(e){if(!e.i)throw Error("IfcHandler must be initialized!");!function(e,t){e.eb.then(function(){e.a.register("authEvent",t,or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}(e.i,function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Bi(t.authEvent),n=0;n<e.g.length;n++)r=e.g[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Ee(n)}return n.status="ERROR",Ee(n)})}(e)}),e.l)}function us(e){return e.o||(e.v=e.c?rr(e.c,is(e.b)):null,e.o=new Xo(e.f,Ya(e.h),e.v)),e.o}function cs(e,t,n,r,i,o,a,s,u,c){return(e=new rs(e,t,n,r,i)).i=o,e.g=a,e.h=s,e.b=oe(u||null),e.f=c,e.toString()}function ls(e){if(this.a=e||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new Fr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function hs(e){this.b=e,this.a={},this.c=y(this.f,this)}ns.prototype.toString=function(){return this.f?Kt(this.a,"v",this.f):sn(this.a.a,"v"),this.b?Kt(this.a,"eid",this.b):sn(this.a.a,"eid"),this.c.length?Kt(this.a,"fw",this.c.join(",")):sn(this.a.a,"fw"),this.a.toString()},rs.prototype.toString=function(){var e=Gt(this.o,"/__/auth/handler");if(Kt(e,"apiKey",this.m),Kt(e,"appName",this.c),Kt(e,"authType",this.l),this.a.isOAuthProvider){var t=this.a;try{var n=r.a.app(this.c).auth().ea()}catch(e){n=null}for(var i in t.Za=n,Kt(e,"providerId",this.a.providerId),n=fr((t=this.a).xb))n[i]=n[i].toString();i=t.Cc,n=oe(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}t.bb&&t.Za&&!n[t.bb]&&(n[t.bb]=t.Za),ie(n)||Kt(e,"customParameters",hr(n))}if("function"==typeof this.a.Db&&((t=this.a.Db()).length&&Kt(e,"scopes",t.join(","))),this.i?Kt(e,"redirectUrl",this.i):sn(e.a,"redirectUrl"),this.g?Kt(e,"eventId",this.g):sn(e.a,"eventId"),this.h?Kt(e,"v",this.h):sn(e.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Ht(e,s)&&Kt(e,s,this.b[s]);return this.f?Kt(e,"eid",this.f):sn(e.a,"eid"),(s=is(this.c)).length&&Kt(e,"fw",s.join(",")),e.toString()},(e=os.prototype).Ea=function(e,t,n){var r=new Fr("popup-closed-by-user"),i=new Fr("web-storage-unsupported"),o=this,a=!1;return this.ga().then(function(){(function(e){var t={type:"webStorageSupport"};return ss(e).then(function(){return function(e,t){return e.eb.then(function(){return new me(function(n){e.a.send(t.type,t,n,or("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}(e.i,t)}).then(function(e){if(e&&e.length&&void 0!==e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()})})(o).then(function(n){n||(e&&zn(e),t(i),a=!0)})}).s(function(){}).then(function(){if(!a)return function(e){return new me(function(t){return function n(){Rt(2e3).then(function(){if(e&&!e.closed)return n();t()})}()})}(e)}).then(function(){if(!a)return Rt(n).then(function(){t(r)})})},e.Lb=function(){var e=ir();return!lr(e)&&!mr(e)},e.Gb=function(){return!1},e.Bb=function(e,t,n,r,i,o,a){if(!e)return Te(new Fr("popup-blocked"));if(a&&!lr())return this.ga().s(function(t){zn(e),i(t)}),r(),Ee();this.a||(this.a=as(us(this)));var s=this;return this.a.then(function(){var t=s.ga().s(function(t){throw zn(e),i(t),t});return r(),t}).then(function(){(Ui(n),a)||Vn(cs(s.m,s.f,s.b,t,n,null,o,s.c,void 0,s.h),e)}).s(function(e){throw"auth/network-request-failed"==e.code&&(s.a=null),e})},e.Ca=function(e,t,n){this.a||(this.a=as(us(this)));var r=this;return this.a.then(function(){Ui(t),Vn(cs(r.m,r.f,r.b,e,t,Bn(),n,r.c,void 0,r.h))}).s(function(e){throw"auth/network-request-failed"==e.code&&(r.a=null),e})},e.ga=function(){var e=this;return ss(this).then(function(){return e.i.eb}).s(function(){throw e.a=null,new Fr("network-request-failed")})},e.Pb=function(){return!0},e.va=function(e){this.g.push(e)},e.Ka=function(e){j(this.g,function(t){return t==e})},(e=ls.prototype).get=function(e){return Ee(this.a.getItem(e)).then(function(e){return e&&pr(e)})},e.set=function(e,t){return Ee(this.a.setItem(e,hr(t)))},e.P=function(e){return Ee(this.a.removeItem(e))},e.Y=function(){},e.ca=function(){};var fs,ps=[];function ds(e){this.a=e}function ms(e){this.c=e,this.b=!1,this.a=[]}function gs(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Te(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new me(function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},l),c={messageChannel:h,onMessage:o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===e.data.status?(clearTimeout(s),void 0!==e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},e.a.push(c),h.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))}).then(function(t){return ys(e,c),t}).s(function(t){throw ys(e,c),t})}function ys(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),j(e.a,function(e){return e==t})}}function vs(){if(!_s())throw new Fr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=n.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.u=!1,this.h=null;var e=this;Yn()&&self?(this.l=function(){var e=Yn()?self:null;if(P(ps,function(n){n.b==e&&(t=n)}),!t){var t=new hs(e);ps.push(t)}return t}(),this.l.subscribe("keyChanged",function(t,n){return Cs(e).then(function(t){return 0<t.length&&P(e.a,function(e){e(t)}),{keyProcessed:M(t,n.key)}})}),this.l.subscribe("ping",function(){return Ee(["keyChanged"])})):function(){var e=n.navigator;return e&&e.serviceWorker?Ee().then(function(){return e.serviceWorker.ready}).then(function(e){return e.active||null}).s(function(){return null}):Ee(null)}().then(function(t){(e.h=t)&&(e.g=new ms(new ds(t)),gs(e.g,"ping",null,!0).then(function(t){t[0].fulfilled&&M(t[0].value,"keyChanged")&&(e.u=!0)}).s(function(){}))})}function bs(e){return new me(function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(e){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new me(function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}})}(e).then(function(){return bs(e)}).then(function(e){t(e)}).s(function(e){n(e)})}})}function ws(e){return e.o||(e.o=bs(e)),e.o}function _s(){try{return!!n.indexedDB}catch(e){return!1}}function Es(e){return e.objectStore("firebaseLocalStorage")}function Ts(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Ss(e){return new me(function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(Error(e.target.errorCode))}})}function ks(e,t){return e.g&&e.h&&function(){var e=n.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?gs(e.g,"keyChanged",{key:t},e.u).then(function(){}).s(function(){}):Ee()}function Cs(e){return ws(e).then(function(e){var t=Es(Ts(e,!1));return t.getAll?Ss(t.getAll()):new me(function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(Error(e.target.errorCode))}})}).then(function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=function e(t,n){var r,i=[];for(r in t)r in n?typeof t[r]!=typeof n[r]?i.push(r):"object"==typeof t[r]&&null!=t[r]&&null!=n[r]?0<e(t[r],n[r]).length&&i.push(r):t[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in t||i.push(r);return i}(e.c,n),e.c=n}return r})}function xs(e){e.i&&e.i.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Is(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Ee().then(function(){if(_s()){var e=dr(),r="__sak"+e;return fs||(fs=new vs),(n=fs).set(r,e).then(function(){return n.get(r)}).then(function(t){if(t!==e)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return t.c})}return t.c}).then(function(e){return t.type=e.type,e.Y(function(e){P(t.a,function(t){t(e)})}),e})}function Ns(){this.a={},this.type="inMemory"}function As(){if(!function(){var e="Node"==$n();if(!(e=Ds()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==$n())throw new Fr("internal-error","The LocalStorage compatibility library was not found.");throw new Fr("web-storage-unsupported")}this.a=Ds()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function Ds(){try{var e=n.localStorage,t=dr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}function Os(){this.type="nullStorage"}function Ps(){if(!function(){var e="Node"==$n();if(!(e=Rs()||e&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==$n())throw new Fr("internal-error","The SessionStorage compatibility library was not found.");throw new Fr("web-storage-unsupported")}this.a=Rs()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Rs(){try{var e=n.sessionStorage,t=dr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(e){return null}}hs.prototype.f=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];P(r,function(t){i.push(Ee().then(function(){return t(e.origin,e.data.data)}))}),ke(i).then(function(r){var i=[];P(r,function(e){i.push({fulfilled:e.Cb,value:e.value,reason:e.reason?e.reason.message:void 0})}),P(i,function(e){for(var t in e)void 0===e[t]&&delete e[t]}),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})})}},hs.prototype.subscribe=function(e,t){ie(this.a)&&this.b.addEventListener("message",this.c),void 0===this.a[e]&&(this.a[e]=[]),this.a[e].push(t)},hs.prototype.unsubscribe=function(e,t){void 0!==this.a[e]&&t?(j(this.a[e],function(e){return e==t}),0==this.a[e].length&&delete this.a[e]):t||delete this.a[e],ie(this.a)&&this.b.removeEventListener("message",this.c)},ds.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},ms.prototype.close=function(){for(;0<this.a.length;)ys(this,this.a[0]);this.b=!0},(e=vs.prototype).set=function(e,t){var n,r=!1,i=this;return ws(this).then(function(t){return Ss((t=Es(Ts(n=t,!0))).get(e))}).then(function(o){var a=Es(Ts(n,!0));return o?(o.value=t,Ss(a.put(o))):(i.b++,r=!0,(o={}).fbase_key=e,o.value=t,Ss(a.add(o)))}).then(function(){return i.c[e]=t,ks(i,e)}).ia(function(){r&&i.b--})},e.get=function(e){return ws(this).then(function(t){return Ss(Es(Ts(t,!1)).get(e))}).then(function(e){return e&&e.value})},e.P=function(e){var t=!1,n=this;return ws(this).then(function(r){return t=!0,n.b++,Ss(Es(Ts(r,!0)).delete(e))}).then(function(){return delete n.c[e],ks(n,e)}).ia(function(){t&&n.b--})},e.Y=function(e){0==this.a.length&&function(e){xs(e),function t(){e.f=setTimeout(function(){e.i=Cs(e).then(function(t){0<t.length&&P(e.a,function(e){e(t)})}).then(function(){t()}).s(function(e){"STOP_EVENT"!=e.message&&t()})},800)}()}(this),this.a.push(e)},e.ca=function(e){j(this.a,function(t){return t==e}),0==this.a.length&&xs(this)},(e=Is.prototype).get=function(e){return this.b.then(function(t){return t.get(e)})},e.set=function(e,t){return this.b.then(function(n){return n.set(e,t)})},e.P=function(e){return this.b.then(function(t){return t.P(e)})},e.Y=function(e){this.a.push(e)},e.ca=function(e){j(this.a,function(t){return t==e})},(e=Ns.prototype).get=function(e){return Ee(this.a[e])},e.set=function(e,t){return this.a[e]=t,Ee()},e.P=function(e){return delete this.a[e],Ee()},e.Y=function(){},e.ca=function(){},(e=As.prototype).get=function(e){var t=this;return Ee().then(function(){return pr(t.a.getItem(e))})},e.set=function(e,t){var n=this;return Ee().then(function(){var r=hr(t);null===r?n.P(e):n.a.setItem(e,r)})},e.P=function(e){var t=this;return Ee().then(function(){t.a.removeItem(e)})},e.Y=function(e){n.window&&yt(n.window,"storage",e)},e.ca=function(e){n.window&&wt(n.window,"storage",e)},(e=Os.prototype).get=function(){return Ee(null)},e.set=function(){return Ee()},e.P=function(){return Ee()},e.Y=function(){},e.ca=function(){},(e=Ps.prototype).get=function(e){var t=this;return Ee().then(function(){return pr(t.a.getItem(e))})},e.set=function(e,t){var n=this;return Ee().then(function(){var r=hr(t);null===r?n.P(e):n.a.setItem(e,r)})},e.P=function(e){var t=this;return Ee().then(function(){t.a.removeItem(e)})},e.Y=function(){},e.ca=function(){};var Ls,Ms,Fs={A:As,Qa:Ps},js={A:As,Qa:Ps},Us={A:ls,Qa:Os},qs={A:As,Qa:Os},Bs={Yc:"local",NONE:"none",$c:"session"};function Vs(){var e=!(mr(ir())||!Xn()),t=lr(),r=ar();this.o=e,this.h=t,this.l=r,this.a={},Ls||(Ls=new function(){var e={};e.Browser=Fs,e.Node=js,e.ReactNative=Us,e.Worker=qs,this.a=e[$n()]}),e=Ls;try{this.g=!qn()&&wr()||!n.indexedDB?new e.a.A:new Is(Yn()?new Ns:new e.a.A)}catch(e){this.g=new Ns,this.h=!0}try{this.i=new e.a.Qa}catch(e){this.i=new Ns}this.m=new Ns,this.f=y(this.Ob,this),this.b={}}function Ws(){return Ms||(Ms=new Vs),Ms}function zs(e,t){switch(t){case"session":return e.i;case"none":return e.m;default:return e.g}}function Ks(e,t){return"firebase:"+e.name+(t?":"+t:"")}function Hs(e,t,n){return n=Ks(t,n),"local"==t.A&&(e.b[n]=null),zs(e,t.A).P(n)}function Qs(e){e.c&&(clearInterval(e.c),e.c=null)}(e=Vs.prototype).get=function(e,t){return zs(this,e.A).get(Ks(e,t))},e.set=function(e,t,n){var r=Ks(e,n),i=this,o=zs(this,e.A);return o.set(r,t).then(function(){return o.get(r)}).then(function(t){"local"==e.A&&(i.b[r]=t)})},e.addListener=function(e,t,r){e=Ks(e,t),this.l&&(this.b[e]=n.localStorage.getItem(e)),ie(this.a)&&(zs(this,"local").Y(this.f),this.h||(qn()||!wr())&&n.indexedDB||!this.l||function(e){Qs(e),e.c=setInterval(function(){for(var t in e.a){var r=n.localStorage.getItem(t),i=e.b[t];r!=i&&(e.b[t]=r,r=new st({type:"storage",key:t,target:window,oldValue:i,newValue:r,a:!0}),e.Ob(r))}},1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(r)},e.removeListener=function(e,t,n){e=Ks(e,t),this.a[e]&&(j(this.a[e],function(e){return e==n}),0==this.a[e].length&&delete this.a[e]),ie(this.a)&&(zs(this,"local").ca(this.f),Qs(this))},e.Ob=function(e){if(e&&e.f){var t=e.a.key;if(null==t)for(var r in this.a){var i=this.b[r];void 0===i&&(i=null);var o=n.localStorage.getItem(r);o!==i&&(this.b[r]=o,this.Wa(r))}else if(0==t.indexOf("firebase:")&&this.a[t]){if(void 0!==e.a.a?zs(this,"local").ca(this.f):Qs(this),this.o)if(r=n.localStorage.getItem(t),(i=e.a.newValue)!==r)null!==i?n.localStorage.setItem(t,i):n.localStorage.removeItem(t);else if(this.b[t]===i&&void 0===e.a.a)return;var a=this;r=function(){void 0===e.a.a&&a.b[t]===n.localStorage.getItem(t)||(a.b[t]=n.localStorage.getItem(t),a.Wa(t))},We&&Je&&10==Je&&n.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(r,10):r()}}else P(e,y(this.Wa,this))},e.Wa=function(e){this.a[e]&&P(this.a[e],function(e){e()})};var Gs,Xs={name:"authEvent",A:"local"};function Ys(e,t){this.b=$s,this.f=n.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=n.Int32Array?new Int32Array(64):Array(64),void 0!==Gs||(Gs=n.Int32Array?new Int32Array(iu):iu),this.reset()}w(Ys,function(){this.b=-1});for(var $s=64,Js=$s-1,Zs=[],eu=0;eu<Js;eu++)Zs[eu]=0;var tu=U(128,Zs);function nu(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],h=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|Gs[t])|0)+(0|n[t])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+h|0,e.a[7]=e.a[7]+o|0}function ru(e,t,n){void 0===n&&(n=t.length);var r=0,o=e.c;if(i(t))for(;r<n;)e.f[o++]=t.charCodeAt(r++),o==e.b&&(nu(e),o=0);else{if(!l(t))throw Error("message must be string or array");for(;r<n;){var a=t[r++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");e.f[o++]=a,o==e.b&&(nu(e),o=0)}}e.c=o,e.g+=n}Ys.prototype.reset=function(){this.g=this.c=0,this.a=n.Int32Array?new Int32Array(this.h):q(this.h)};var iu=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function ou(){Ys.call(this,8,au)}w(ou,Ys);var au=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function su(e,t,n,r,i){this.m=e,this.i=t,this.l=n,this.o=r||null,this.u=i||null,this.h=t+":"+n,this.v=new function(){this.a=Ws()},this.g=new function(e){this.a=e,this.b=Ws()}(this.h),this.f=null,this.b=[],this.a=this.c=null}function uu(e){return new Fr("invalid-cordova-configuration",e)}function cu(e){var t=new ou;ru(t,e),e=[];var n=8*t.g;56>t.c?ru(t,tu,56-t.c):ru(t,tu,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(nu(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return R(e,function(e){return 1<(e=e.toString(16)).length?e:"0"+e}).join("")}(e)}function lu(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(e){}}function hu(e){return e.f||(e.f=e.ga().then(function(){return new me(function(t){e.va(function n(r){return t(r),e.Ka(n),!1}),function(e){function t(t){i=!0,o&&o.cancel(),fu(e).then(function(n){var i=r;if(n&&t&&t.url){var o=null;-1!=(i=gi(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=pr(Ht(o=Qt(i),"firebaseError")||null))?jr(o):null)?new qi(n.b,n.c,null,null,o):new qi(n.b,n.c,i,n.g)),i=o||r}lu(e,i)})}var r=new qi("unknown",null,null,null,new Fr("no-auth-event")),i=!1,o=Rt(500).then(function(){return fu(e).then(function(){i||lu(e,r)})}),a=n.handleOpenURL;n.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(or("BuildInfo.packageName",n).toLowerCase()+"://")&&t({url:e}),"function"==typeof a)try{a(e)}catch(e){console.error(e)}},Wi||(Wi=new Vi),Wi.subscribe(t)}(e)})})),e.f}function fu(e){var t=null;return function(e){return e.b.get(Xs,e.a).then(function(e){return Bi(e)})}(e.g).then(function(n){return t=n,Hs((n=e.g).b,Xs,n.a)}).then(function(){return t})}(e=su.prototype).ga=function(){return this.za?this.za:this.za=(Gn(void 0)?Qn().then(function(){return new me(function(e,t){var r=n.document,i=setTimeout(function(){t(Error("Cordova framework is not ready."))},1e3);r.addEventListener("deviceready",function(){clearTimeout(i),e()},!1)})}):Te(Error("Cordova must run in an Android or iOS file scheme."))).then(function(){if("function"!=typeof or("universalLinks.subscribe",n))throw uu("cordova-universal-links-plugin-fix is not installed");if(void 0===or("BuildInfo.packageName",n))throw uu("cordova-plugin-buildinfo is not installed");if("function"!=typeof or("cordova.plugins.browsertab.openUrl",n))throw uu("cordova-plugin-browsertab is not installed");if("function"!=typeof or("cordova.InAppBrowser.open",n))throw uu("cordova-plugin-inappbrowser is not installed")},function(){throw new Fr("cordova-not-ready")})},e.Ea=function(e,t){return t(new Fr("operation-not-supported-in-this-environment")),Ee()},e.Bb=function(){return Te(new Fr("operation-not-supported-in-this-environment"))},e.Pb=function(){return!1},e.Lb=function(){return!0},e.Gb=function(){return!0},e.Ca=function(e,t,r){if(this.c)return Te(new Fr("redirect-operation-pending"));var i=this,o=n.document,a=null,s=null,u=null,c=null;return this.c=Ee().then(function(){return Ui(t),hu(i)}).then(function(){return function(e,t,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new qi(t,i,null,o,new Fr("no-auth-event")),s=or("BuildInfo.packageName",n);if("string"!=typeof s)throw new Fr("invalid-cordova-configuration");var u=or("BuildInfo.displayName",n),c={};if(ir().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!ir().toLowerCase().match(/android/))return Te(new Fr("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=cu(o),c.sessionId=o;var l=cs(e.m,e.i,e.l,t,r,null,i,e.o,c,e.u);return e.ga().then(function(){var t=e.h;return e.v.a.set(Xs,a.D(),t)}).then(function(){var t=or("cordova.plugins.browsertab.isAvailable",n);if("function"!=typeof t)throw new Fr("invalid-cordova-configuration");var r=null;t(function(t){if(t){if("function"!=typeof(r=or("cordova.plugins.browsertab.openUrl",n)))throw new Fr("invalid-cordova-configuration");r(l)}else{if("function"!=typeof(r=or("cordova.InAppBrowser.open",n)))throw new Fr("invalid-cordova-configuration");t=!(!(t=ir()).match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),e.a=r(l,t?"_blank":"_system","location=yes")}})})}(i,e,t,r)}).then(function(){return new me(function(e,t){s=function(){var t=or("cordova.plugins.browsertab.close",n);return e(),"function"==typeof t&&t(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.va(s),u=function(){a||(a=Rt(2e3).then(function(){t(new Fr("redirect-cancelled-by-user"))}))},c=function(){vr()&&u()},o.addEventListener("resume",u,!1),ir().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).s(function(e){return fu(i).then(function(){throw e})})}).ia(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&i.Ka(s),i.c=null})},e.va=function(e){this.b.push(e),hu(this).s(function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new qi("unknown",null,null,null,new Fr("no-auth-event")),e(t))})},e.Ka=function(e){j(this.b,function(t){return t==e})};var pu={name:"pendingRedirect",A:"session"};function du(e){return Hs(e.b,pu,e.a)}function mu(e,t,n){this.u=e,this.l=t,this.m=n,this.h=[],this.f=!1,this.i=y(this.ab,this),this.b=new ku,this.o=new Nu,this.g=new function(e){this.a=e,this.b=Ws()}(this.l+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.o,this.c.linkViaPopup=this.o,this.c.reauthViaPopup=this.o,this.a=gu(this.u,this.l,this.m,Ga)}function gu(e,t,n,i){var o=r.a.SDK_VERSION||null;return Gn()?new su(e,t,n,o,i):new os(e,t,n,o,i)}function yu(e){e.f||(e.f=!0,e.a.va(e.i));var t=e.a;return e.a.ga().s(function(n){throw e.a==t&&e.reset(),n})}function vu(e){e.a.Lb()&&yu(e).s(function(t){var n=new qi("unknown",null,null,null,new Fr("operation-not-supported-in-this-environment"));Eu(t)&&e.ab(n)}),e.a.Gb()||Cu(e.b)}(e=mu.prototype).reset=function(){this.f=!1,this.a.Ka(this.i),this.a=gu(this.u,this.l,this.m)},e.Xa=function(){this.b.Xa()},e.subscribe=function(e){if(M(this.h,e)||this.h.push(e),!this.f){var t=this;(function(e){return e.b.get(pu,e.a).then(function(e){return"pending"==e})})(this.g).then(function(e){e?du(t.g).then(function(){yu(t).s(function(e){var n=new qi("unknown",null,null,null,new Fr("operation-not-supported-in-this-environment"));Eu(e)&&t.ab(n)})}):vu(t)}).s(function(){vu(t)})}},e.unsubscribe=function(e){j(this.h,function(t){return t==e})},e.ab=function(e){if(!e)throw new Fr("invalid-auth-event");for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.ub(e.b,e.c)){(t=this.c[e.b])&&t.h(e,r),t=!0;break}}return Cu(this.b),t};var bu=new yr(2e3,1e4),wu=new yr(3e4,6e4);function _u(e,t,n,r,i,o){return e.a.Bb(t,n,r,function(){e.f||(e.f=!0,e.a.va(e.i))},function(){e.reset()},i,o)}function Eu(e){return!(!e||"auth/cordova-not-ready"!=e.code)}mu.prototype.fa=function(){return this.b.fa()},mu.prototype.Ca=function(e,t,n){var r,i=this;return function(e){return e.b.set(pu,"pending",e.a)}(this.g).then(function(){return i.a.Ca(e,t,n).s(function(e){if(Eu(e))throw new Fr("operation-not-supported-in-this-environment");return r=e,du(i.g).then(function(){throw r})}).then(function(){return i.a.Pb()?new me(function(){}):du(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},mu.prototype.Ea=function(e,t,n,r){return this.a.Ea(n,function(n){e.ha(t,null,n,r)},bu.get())};var Tu={};function Su(e,t,n){var r=t+":"+n;return Tu[r]||(Tu[r]=new mu(e,t,n)),Tu[r]}function ku(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Cu(e){e.g||(e.g=!0,Iu(e,!1,null,null))}function xu(e,t){if(e.b=function(){return Ee(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function Iu(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Te(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):xu(e,n):xu(e,{user:null}),e.f=[],e.c=[]}function Nu(){}function Au(){this.rb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.rb},set:function(e){this.rb=e},enumerable:!1})}function Du(e,t){this.a=t,kr(this,"verificationId",e)}function Ou(e,t,n,r){return new Mi(e).Ta(t,n).then(function(e){return new Du(e,r)})}function Pu(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Ru(e){this.f=e,this.b=this.a=null,this.c=0}function Lu(e,t){var n=t[$o],r=t.refreshToken;t=Mu(t.expiresIn),e.b=n,e.c=t,e.a=r}function Mu(e){return b()+1e3*parseInt(e,10)}function Fu(e,t){return function(e,t){return new me(function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ia(e,e.i+"?key="+encodeURIComponent(e.b),function(e){e?e.error?r(Qa(e)):e.access_token&&e.refresh_token?n(e):r(new Fr("internal-error")):r(new Fr("network-request-failed"))},"POST",an(t).toString(),e.f,e.l.get()):r(new Fr("internal-error"))})}(e.f,t).then(function(t){return e.b=t.access_token,e.c=Mu(t.expires_in),e.a=t.refresh_token,{accessToken:e.b,expirationTime:e.c,refreshToken:e.a}}).s(function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t})}function ju(e,t){this.a=e||null,this.b=t||null,Cr(this,{lastSignInTime:br(t||null),creationTime:br(e||null)})}function Uu(e,t){for(var n in at.call(this,e),t)this[n]=t[n]}function qu(e,t,n){this.G=[],this.m=e.apiKey,this.o=e.appName,this.u=e.authDomain||null,e=r.a.SDK_VERSION?rr(r.a.SDK_VERSION):null,this.b=new Xo(this.m,Ya(Ga),e),this.h=new Ru(this.b),Qu(this,t[$o]),Lu(this.h,t),kr(this,"refreshToken",this.h.a),Yu(this,n||{}),Nt.call(this),this.I=!1,this.u&&sr()&&(this.a=Su(this.u,this.m,this.o)),this.N=[],this.i=null,this.w=function(e){return new Pu(function(){return e.F(!0)},function(e){return!(!e||"auth/network-request-failed"!=e.code)},function(){var t=e.h.c-b()-3e5;return 0<t?t:0})}(this),this.V=y(this.Ha,this);var i=this;this.ka=null,this.sa=function(e){i.oa(e.g)},this.X=null,this.O=[],this.ra=function(e){Vu(i,e.c)},this.W=null}function Bu(e,t){e.X&&wt(e.X,"languageCodeChanged",e.sa),(e.X=t)&&yt(t,"languageCodeChanged",e.sa)}function Vu(e,t){e.O=t,ra(e.b,r.a.SDK_VERSION?rr(r.a.SDK_VERSION,e.O):null)}function Wu(e,t){e.W&&wt(e.W,"frameworkChanged",e.ra),(e.W=t)&&yt(t,"frameworkChanged",e.ra)}function zu(e){try{return r.a.app(e.o).auth()}catch(t){throw new Fr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.o+"'!")}}function Ku(e){e.C||e.w.b||(e.w.start(),wt(e,"tokenChanged",e.V),yt(e,"tokenChanged",e.V))}function Hu(e){wt(e,"tokenChanged",e.V),e.w.stop()}function Qu(e,t){e.qa=t,kr(e,"_lat",t)}function Gu(e){for(var t=[],n=0;n<e.N.length;n++)t.push(e.N[n](e));return ke(t).then(function(){return e})}function Xu(e){e.a&&!e.I&&(e.I=!0,e.a.subscribe(e))}function Yu(e,t){Cr(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,metadata:new ju(t.createdAt,t.lastLoginAt),providerData:[]})}function $u(){}function Ju(e){return Ee().then(function(){if(e.C)throw new Fr("app-deleted")})}function Zu(e){return R(e.providerData,function(e){return e.providerId})}function ec(e,t){t&&(tc(e,t.providerId),e.providerData.push(t))}function tc(e,t){j(e.providerData,function(e){return e.providerId==t})}function nc(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&kr(e,t,n)}function rc(e,t){e!=t&&(Cr(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,providerData:[]}),t.metadata?kr(e,"metadata",function(e){return new ju(e.a,e.b)}(t.metadata)):kr(e,"metadata",new ju),P(t.providerData,function(t){ec(e,t)}),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),kr(e,"refreshToken",e.h.a))}function ic(e){return e.F().then(function(t){var n=e.isAnonymous;return function(e,t){return Ka(e.b,Ca,{idToken:t}).then(y(e.wc,e))}(e,t).then(function(){return n||nc(e,"isAnonymous",!1),t})})}function oc(e,t){t[$o]&&e.qa!=t[$o]&&(Lu(e.h,t),e.dispatchEvent(new Uu("tokenChanged")),Qu(e,t[$o]),nc(e,"refreshToken",e.h.a))}function ac(e,t){return ic(e).then(function(){if(M(Zu(e),t))return Gu(e).then(function(){throw new Fr("provider-already-linked")})})}function sc(e,t,n){return xr({user:e,credential:ji(t),additionalUserInfo:t=si(t),operationType:n})}function uc(e,t){return oc(e,t),e.reload().then(function(){return e})}function cc(e,t,n,i,o){if(!sr())return Te(new Fr("operation-not-supported-in-this-environment"));if(e.i&&!o)return Te(e.i);var a=ai(n.providerId),s=dr(e.uid+":::"),u=null;(!lr()||Xn())&&e.u&&n.isOAuthProvider&&(u=cs(e.u,e.m,e.o,t,n,null,s,r.a.SDK_VERSION||null));var c=Kn(u,a&&a.Ba,a&&a.Aa);return i=i().then(function(){if(hc(e),!o)return e.F().then(function(){})}).then(function(){return _u(e.a,c,t,n,s,!!u)}).then(function(){return new me(function(n,r){e.ha(t,null,new Fr("cancelled-popup-request"),e.g||null),e.f=n,e.v=r,e.g=s,e.c=e.a.Ea(e,t,c,s)})}).then(function(e){return c&&zn(c),e?xr(e):null}).s(function(e){throw c&&zn(c),e}),fc(e,i,o)}function lc(e,t,n,r,i){if(!sr())return Te(new Fr("operation-not-supported-in-this-environment"));if(e.i&&!i)return Te(e.i);var o=null,a=dr(e.uid+":::");return r=r().then(function(){if(hc(e),!i)return e.F().then(function(){})}).then(function(){return e.aa=a,Gu(e)}).then(function(t){return e.ba&&(t=(t=e.ba).b.set(dc,e.D(),t.a)),t}).then(function(){return e.a.Ca(t,n,a)}).s(function(t){if(o=t,e.ba)return mc(e.ba);throw o}).then(function(){if(o)throw o}),fc(e,r,i)}function hc(e){if(!e.a||!e.I){if(e.a&&!e.I)throw new Fr("internal-error");throw new Fr("auth-domain-config-required")}}function fc(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Te(e.i)):t.s(function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new Uu("userInvalidated")),e.i=t),t})}(e,t,n);return e.G.push(r),r.ia(function(){F(e.G,r)}),r}function pc(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName},n={};if(!(e.stsTokenManager&&e.stsTokenManager.accessToken&&e.stsTokenManager.expirationTime))return null;n[$o]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null,n.expiresIn=(e.stsTokenManager.expirationTime-b())/1e3;var r=new qu(t,n,e);return e.providerData&&P(e.providerData,function(e){e&&ec(r,xr(e))}),e.redirectEventId&&(r.aa=e.redirectEventId),r}ku.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ku.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.b,r=e.c,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(Iu(this,!0,null,e.a),Ee()):t.wa(n,r)?function(e,t,n){n=n.wa(t.b,t.c);var r=t.f,i=t.g,o=!!t.b.match(/Redirect$/);n(r,i).then(function(t){Iu(e,o,t,null)}).s(function(t){Iu(e,o,null,t)})}(this,e,t):Te(new Fr("invalid-auth-event")):(Iu(this,!1,null,null),Ee())}else Te(new Fr("invalid-auth-event"))},ku.prototype.Xa=function(){this.g&&!this.i&&Iu(this,!1,null,null)},ku.prototype.fa=function(){var e=this;return new me(function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new Fr("timeout");e.a&&e.a.cancel(),e.a=Rt(wu.get()).then(function(){e.b||(e.g=!0,Iu(e,!0,null,t))})}(e))})},Nu.prototype.h=function(e,t){if(e){var n=e.b,r=e.c;e.a?(t.ha(e.b,null,e.a,e.c),Ee()):t.wa(n,r)?function(e,t){var n=e.c,r=e.b;t.wa(r,n)(e.f,e.g).then(function(e){t.ha(r,e,null,n)}).s(function(e){t.ha(r,null,e,n)})}(e,t):Te(new Fr("invalid-auth-event"))}else Te(new Fr("invalid-auth-event"))},Du.prototype.confirm=function(e){return e=Fi(this.verificationId,e),this.a(e)},Pu.prototype.start=function(){this.a=this.c,function e(t,r){t.stop();t.b=Rt(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(t,r)).then(function(){return function(){var e=n.document,t=null;return vr()||!e?Ee():new me(function(n){t=function(){vr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)}).s(function(n){throw e.removeEventListener("visibilitychange",t,!1),n})}()}).then(function(){return t.h()}).then(function(){e(t,!0)}).s(function(n){t.i(n)&&e(t,!1)})}(this,!0)},Pu.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Ru.prototype.D=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Ru.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Te(new Fr("user-token-expired")):e||!this.b||b()>this.c-3e4?this.a?Fu(this,{grant_type:"refresh_token",refresh_token:this.a}):Ee(null):Ee({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},ju.prototype.D=function(){return{lastLoginAt:this.b,createdAt:this.a}},w(Uu,at),w(qu,Nt),qu.prototype.oa=function(e){this.ka=e,na(this.b,e)},qu.prototype.ea=function(){return this.ka},qu.prototype.xa=function(){return q(this.O)},qu.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},kr(qu.prototype,"providerId","firebase"),(e=qu.prototype).reload=function(){var e=this;return fc(this,Ju(this).then(function(){return ic(e).then(function(){return Gu(e)}).then($u)}))},e.cc=function(e){return this.F(e).then(function(e){return new function(e){var t=ni(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new Fr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Cr(this,{token:e,expirationTime:br(1e3*t.exp),authTime:br(1e3*t.auth_time),issuedAtTime:br(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,claims:t})}(e)})},e.F=function(e){var t=this;return fc(this,Ju(this).then(function(){return t.h.getToken(e)}).then(function(e){if(!e)throw new Fr("internal-error");return e.accessToken!=t.qa&&(Qu(t,e.accessToken),t.dispatchEvent(new Uu("tokenChanged"))),nc(t,"refreshToken",e.refreshToken),e.accessToken}))},e.wc=function(e){if(!(e=e.users)||!e.length)throw new Fr("internal-error");Yu(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?R(e,function(e){return new function(e,t,n,r,i,o){Cr(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)}):[]}(e),n=0;n<t.length;n++)ec(this,t[n]);nc(this,"isAnonymous",!(this.email&&e.passwordHash||this.providerData&&this.providerData.length))},e.fb=function(e){var t=this,n=null;return fc(this,e.f(this.b,this.uid).then(function(e){return oc(t,e),n=sc(t,e,"reauthenticate"),t.i=null,t.reload()}).then(function(){return n}),!0)},e.xc=function(e){return Tr("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.fb(e).then(function(){})},e.cb=function(e){var t=this,n=null;return fc(this,ac(this,e.providerId).then(function(){return t.F()}).then(function(n){return e.c(t.b,n)}).then(function(e){return n=sc(t,e,"link"),uc(t,e)}).then(function(){return n}))},e.oc=function(e){return Tr("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.cb(e).then(function(e){return e.user})},e.pc=function(e,t){var n=this;return fc(this,ac(this,"phone").then(function(){return Ou(zu(n),e,t,y(n.cb,n))}))},e.yc=function(e,t){var n=this;return fc(this,Ee().then(function(){return Ou(zu(n),e,t,y(n.fb,n))}),!0)},e.ob=function(e){var t=this;return fc(this,this.F().then(function(n){return t.b.ob(n,e)}).then(function(e){return oc(t,e),t.reload()}))},e.Qc=function(e){var t=this;return fc(this,this.F().then(function(n){return e.c(t.b,n)}).then(function(e){return oc(t,e),t.reload()}))},e.pb=function(e){var t=this;return fc(this,this.F().then(function(n){return t.b.pb(n,e)}).then(function(e){return oc(t,e),t.reload()}))},e.qb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return Ju(this);var t=this;return fc(this,this.F().then(function(n){return t.b.qb(n,{displayName:e.displayName,photoUrl:e.photoURL})}).then(function(e){return oc(t,e),nc(t,"displayName",e.displayName||null),nc(t,"photoURL",e.photoUrl||null),P(t.providerData,function(e){"password"===e.providerId&&(kr(e,"displayName",t.displayName),kr(e,"photoURL",t.photoURL))}),Gu(t)}).then($u))},e.Oc=function(e){var t=this;return fc(this,ic(this).then(function(n){return M(Zu(t),e)?function(e,t,n){return Ka(e,Ta,{idToken:t,deleteProvider:n})}(t.b,n,[e]).then(function(e){var n={};return P(e.providerUserInfo||[],function(e){n[e.providerId]=!0}),P(Zu(t),function(e){n[e]||tc(t,e)}),n[Mi.PROVIDER_ID]||kr(t,"phoneNumber",null),Gu(t)}):Gu(t).then(function(){throw new Fr("no-such-provider")})}))},e.delete=function(){var e=this;return fc(this,this.F().then(function(t){return Ka(e.b,Ea,{idToken:t})}).then(function(){e.dispatchEvent(new Uu("userDeleted"))})).then(function(){for(var t=0;t<e.G.length;t++)e.G[t].cancel("app-deleted");Bu(e,null),Wu(e,null),e.G=[],e.C=!0,Hu(e),kr(e,"refreshToken",null),e.a&&e.a.unsubscribe(e)})},e.ub=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.aa||null)==t||"reauthViaRedirect"==e&&(this.aa||null)==t)},e.ha=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.wa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?y(this.zb,this):"reauthViaPopup"==e&&t==(this.g||null)?y(this.Ab,this):"linkViaRedirect"==e&&(this.aa||null)==t?y(this.zb,this):"reauthViaRedirect"==e&&(this.aa||null)==t?y(this.Ab,this):null},e.qc=function(e){var t=this;return cc(this,"linkViaPopup",e,function(){return ac(t,e.providerId).then(function(){return Gu(t)})},!1)},e.zc=function(e){return cc(this,"reauthViaPopup",e,function(){return Ee()},!0)},e.rc=function(e){var t=this;return lc(this,"linkViaRedirect",e,function(){return ac(t,e.providerId)},!1)},e.Ac=function(e){return lc(this,"reauthViaRedirect",e,function(){return Ee()},!0)},e.zb=function(e,t){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return fc(this,this.F().then(function(r){return ma(n.b,{requestUri:e,sessionId:t,idToken:r})}).then(function(e){return r=sc(n,e,"link"),uc(n,e)}).then(function(){return r}))},e.Ab=function(e,t){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return fc(this,Ee().then(function(){return yi(ga(n.b,{requestUri:e,sessionId:t}),n.uid)}).then(function(e){return r=sc(n,e,"reauthenticate"),oc(n,e),n.i=null,n.reload()}).then(function(){return r}),!0)},e.ib=function(e){var t=this,n=null;return fc(this,this.F().then(function(t){return n=t,void 0===e||ie(e)?{}:Yr(new Br(e))}).then(function(e){return t.b.ib(n,e)}).then(function(e){if(t.email!=e)return t.reload()}).then(function(){}))},e.toJSON=function(){return this.D()},e.D=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.m,appName:this.o,authDomain:this.u,stsTokenManager:this.h.D(),redirectEventId:this.aa||null};return this.metadata&&ce(e,this.metadata.D()),P(this.providerData,function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))}),e};var dc={name:"redirectUser",A:"session"};function mc(e){return Hs(e.b,dc,e.a)}function gc(e){this.a=e,this.b=Ws(),this.c=null,this.f=function(e){var t=bc("local"),r=bc("session"),i=bc("none");return function(e,t,r){var i=Ks(t,r),o=zs(e,t.A);return e.get(t,r).then(function(a){var s=null;try{s=pr(n.localStorage.getItem(i))}catch(e){}if(s&&!a)return n.localStorage.removeItem(i),e.set(t,s,r);s&&a&&"localStorage"!=o.type&&n.localStorage.removeItem(i)})}(e.b,t,e.a).then(function(){return e.b.get(r,e.a)}).then(function(n){return n?r:e.b.get(i,e.a).then(function(n){return n?i:e.b.get(t,e.a).then(function(n){return n?t:e.b.get(vc,e.a).then(function(e){return e?bc(e):t})})})}).then(function(t){return e.c=t,yc(e,t.A)}).s(function(){e.c||(e.c=t)})}(this),this.b.addListener(bc("local"),this.a,y(this.g,this))}function yc(e,t){var n,r=[];for(n in Bs)Bs[n]!==t&&r.push(Hs(e.b,bc(Bs[n]),e.a));return r.push(Hs(e.b,vc,e.a)),function(e){return new me(function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Se(e[s],v(o,s),a);else t(i)})}(r)}gc.prototype.g=function(){var e=this,t=bc("local");Tc(this,function(){return Ee().then(function(){return e.c&&"local"!=e.c.A?e.b.get(t,e.a):null}).then(function(n){if(n)return yc(e,"local").then(function(){e.c=t})})})};var vc={name:"persistence",A:"session"};function bc(e){return{name:"authUser",A:e}}function wc(e,t){return Tc(e,function(){return e.b.set(e.c,t.D(),e.a)})}function _c(e){return Tc(e,function(){return Hs(e.b,e.c,e.a)})}function Ec(e,t){return Tc(e,function(){return e.b.get(e.c,e.a).then(function(e){return e&&t&&(e.authDomain=t),pc(e||{})})})}function Tc(e,t){return e.f=e.f.then(t,t),e.f}function Sc(e){if(this.m=!1,kr(this,"settings",new Au),kr(this,"app",e),!Dc(this).options||!Dc(this).options.apiKey)throw new Fr("invalid-api-key");e=r.a.SDK_VERSION?rr(r.a.SDK_VERSION):null,this.b=new Xo(Dc(this).options&&Dc(this).options.apiKey,Ya(Ga),e),this.N=[],this.o=[],this.I=[],this.Sb=r.a.INTERNAL.createSubscribe(y(this.kc,this)),this.O=void 0,this.Tb=r.a.INTERNAL.createSubscribe(y(this.mc,this)),Nc(this,null),this.h=new gc(Dc(this).options.apiKey+":"+Dc(this).name),this.w=new function(e){this.a=e,this.b=Ws()}(Dc(this).options.apiKey+":"+Dc(this).name),this.V=Lc(this,function(e){var t=Dc(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(dc,e.a).then(function(e){return e&&t&&(e.authDomain=t),pc(e||{})})}(e.w,Dc(e).options.authDomain).then(function(t){return(e.C=t)&&(t.ba=e.w),mc(e.w)});return Lc(e,t)}(e).then(function(){return Ec(e.h,t)}).then(function(t){return t?(t.ba=e.w,e.C&&(e.C.aa||null)==(t.aa||null)?t:t.reload().then(function(){return wc(e.h,t).then(function(){return t})}).s(function(n){return"auth/network-request-failed"==n.code?t:_c(e.h)})):null}).then(function(t){Nc(e,t||null)});return Lc(e,n)}(this)),this.i=Lc(this,function(e){return e.V.then(function(){return e.fa()}).s(function(){}).then(function(){if(!e.m)return e.ka()}).s(function(){}).then(function(){if(!e.m){e.X=!0;var t=e.h;t.b.addListener(bc("local"),t.a,e.ka)}})}(this)),this.X=!1,this.ka=y(this.Lc,this),this.Ha=y(this.Z,this),this.qa=y(this.ac,this),this.ra=y(this.ic,this),this.sa=y(this.jc,this),function(e){var t=Dc(e).options.authDomain,n=Dc(e).options.apiKey;t&&sr()&&(e.Rb=e.V.then(function(){if(!e.m){if(e.a=Su(t,n,Dc(e).name),e.a.subscribe(e),Oc(e)&&Xu(Oc(e)),e.C){Xu(e.C);var r=e.C;r.oa(e.ea()),Bu(r,e),Vu(r=e.C,e.G),Wu(r,e),e.C=null}return e.a}}))}(this),this.INTERNAL={},this.INTERNAL.delete=y(this.delete,this),this.INTERNAL.logFramework=y(this.sc,this),this.u=0,Nt.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.ea()},set:function(e){this.oa(e)},enumerable:!1}),e.W=null}(this),this.G=[]}function kc(e){at.call(this,"languageCodeChanged"),this.g=e}function Cc(e){at.call(this,"frameworkChanged"),this.c=e}function xc(e){return e.Rb||Te(new Fr("auth-domain-config-required"))}function Ic(e,t){var n={};return n.apiKey=Dc(e).options.apiKey,n.authDomain=Dc(e).options.authDomain,n.appName=Dc(e).name,e.V.then(function(){return function(e,t,n,r){var i=new qu(e,t);return n&&(i.ba=n),r&&Vu(i,r),i.reload().then(function(){return i})}(n,t,e.w,e.xa())}).then(function(t){return Oc(e)&&t.uid==Oc(e).uid?(rc(Oc(e),t),e.Z(t)):(Nc(e,t),Xu(t),e.Z(t))}).then(function(){Rc(e)})}function Nc(e,t){Oc(e)&&(function(e,t){j(e.N,function(e){return e==t})}(Oc(e),e.Ha),wt(Oc(e),"tokenChanged",e.qa),wt(Oc(e),"userDeleted",e.ra),wt(Oc(e),"userInvalidated",e.sa),Hu(Oc(e))),t&&(t.N.push(e.Ha),yt(t,"tokenChanged",e.qa),yt(t,"userDeleted",e.ra),yt(t,"userInvalidated",e.sa),0<e.u&&Ku(t)),kr(e,"currentUser",t),t&&(t.oa(e.ea()),Bu(t,e),Vu(t,e.G),Wu(t,e))}function Ac(e,t){var n=null,r=null;return Lc(e,t.then(function(t){return n=ji(t),r=si(t),Ic(e,t)}).then(function(){return xr({user:Oc(e),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Dc(e){return e.app}function Oc(e){return e.currentUser}function Pc(e){return Oc(e)&&Oc(e)._lat||null}function Rc(e){if(e.X){for(var t=0;t<e.o.length;t++)e.o[t]&&e.o[t](Pc(e));if(e.O!==e.getUid()&&e.I.length)for(e.O=e.getUid(),t=0;t<e.I.length;t++)e.I[t]&&e.I[t](Pc(e))}}function Lc(e,t){return e.N.push(t),t.ia(function(){F(e.N,t)}),t}function Mc(){}function Fc(){this.a={},this.b=1e12}gc.prototype.lb=function(e){var t=null,n=this;return function(e){var t=new Fr("invalid-persistence-type"),n=new Fr("unsupported-persistence-type");e:{for(r in Bs)if(Bs[r]==e){var r=!0;break e}r=!1}if(!r||"string"!=typeof e)throw t;switch($n()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;default:if(!ar()&&"none"!==e)throw n}}(e),Tc(this,function(){return e!=n.c.A?n.b.get(n.c,n.a).then(function(r){return t=r,yc(n,e)}).then(function(){if(n.c=bc(e),t)return n.b.set(n.c,t,n.a)}):Ee()})},w(Sc,Nt),w(kc,at),w(Cc,at),(e=Sc.prototype).lb=function(e){return Lc(this,e=this.h.lb(e))},e.oa=function(e){this.W===e||this.m||(this.W=e,na(this.b,this.W),this.dispatchEvent(new kc(this.ea())))},e.ea=function(){return this.W},e.Rc=function(){var e=n.navigator;this.oa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.sc=function(e){this.G.push(e),ra(this.b,r.a.SDK_VERSION?rr(r.a.SDK_VERSION,this.G):null),this.dispatchEvent(new Cc(this.G))},e.xa=function(){return q(this.G)},e.toJSON=function(){return{apiKey:Dc(this).options.apiKey,authDomain:Dc(this).options.authDomain,appName:Dc(this).name,currentUser:Oc(this)&&Oc(this).D()}},e.ub=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.ha=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.v?this.v(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},e.wa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?y(this.$b,this):null},e.$b=function(e,t){var n=this;e={requestUri:e,sessionId:t},this.c&&(this.c.cancel(),this.c=null);var r=null,i=null,o=da(n.b,e).then(function(e){return r=ji(e),i=si(e),e});return Lc(this,e=n.V.then(function(){return o}).then(function(e){return Ic(n,e)}).then(function(){return xr({user:Oc(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}))},e.Jc=function(e){if(!sr())return Te(new Fr("operation-not-supported-in-this-environment"));var t=this,n=ai(e.providerId),i=dr(),o=null;(!lr()||Xn())&&Dc(this).options.authDomain&&e.isOAuthProvider&&(o=cs(Dc(this).options.authDomain,Dc(this).options.apiKey,Dc(this).name,"signInViaPopup",e,null,i,r.a.SDK_VERSION||null));var a=Kn(o,n&&n.Ba,n&&n.Aa);return Lc(this,n=xc(this).then(function(t){return _u(t,a,"signInViaPopup",e,i,!!o)}).then(function(){return new me(function(e,n){t.ha("signInViaPopup",null,new Fr("cancelled-popup-request"),t.g),t.f=e,t.v=n,t.g=i,t.c=t.a.Ea(t,"signInViaPopup",a,i)})}).then(function(e){return a&&zn(a),e?xr(e):null}).s(function(e){throw a&&zn(a),e}))},e.Kc=function(e){if(!sr())return Te(new Fr("operation-not-supported-in-this-environment"));var t=this;return Lc(this,xc(this).then(function(){return function(e){return Tc(e,function(){return e.b.set(vc,e.c.A,e.a)})}(t.h)}).then(function(){return t.a.Ca("signInViaRedirect",e)}))},e.fa=function(){if(!sr())return Te(new Fr("operation-not-supported-in-this-environment"));var e=this;return Lc(this,xc(this).then(function(){return e.a.fa()}).then(function(e){return e?xr(e):null}))},e.Pc=function(e){if(!e)return Te(new Fr("null-user"));var t=this,n={};n.apiKey=Dc(this).options.apiKey,n.authDomain=Dc(this).options.authDomain,n.appName=Dc(this).name;var r=function(e,t,n,r){t=t||{apiKey:e.m,authDomain:e.u,appName:e.o};var i=e.h,o={};return o[$o]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-b())/1e3,t=new qu(t,o),n&&(t.ba=n),r&&Vu(t,r),rc(t,e),t}(e,n,t.w,t.xa());return Lc(this,this.i.then(function(){if(Dc(t).options.apiKey!=e.m)return r.reload()}).then(function(){return Oc(t)&&e.uid==Oc(t).uid?(rc(Oc(t),e),t.Z(e)):(Nc(t,r),Xu(r),t.Z(r))}).then(function(){Rc(t)}))},e.mb=function(){var e=this;return Lc(this,this.i.then(function(){return Oc(e)?(Nc(e,null),_c(e.h).then(function(){Rc(e)})):Ee()}))},e.Lc=function(){var e=this;return Ec(this.h,Dc(this).options.authDomain).then(function(t){if(!e.m){var n;if(n=Oc(e)&&t){n=Oc(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return rc(Oc(e),t),Oc(e).F();(Oc(e)||t)&&(Nc(e,t),t&&(Xu(t),t.ba=e.w),e.a&&e.a.subscribe(e),Rc(e))}})},e.Z=function(e){return wc(this.h,e)},e.ac=function(){Rc(this),this.Z(Oc(this))},e.ic=function(){this.mb()},e.jc=function(){this.mb()},e.kc=function(e){var t=this;this.addAuthTokenListener(function(){e.next(Oc(t))})},e.mc=function(e){var t=this;!function(e,t){e.I.push(t),Lc(e,e.i.then(function(){!e.m&&M(e.I,t)&&e.O!==e.getUid()&&(e.O=e.getUid(),t(Pc(e)))}))}(this,function(){e.next(Oc(t))})},e.uc=function(e,t,n){var i=this;return this.X&&r.a.Promise.resolve().then(function(){h(e)?e(Oc(i)):h(e.next)&&e.next(Oc(i))}),this.Sb(e,t,n)},e.tc=function(e,t,n){var i=this;return this.X&&r.a.Promise.resolve().then(function(){i.O=i.getUid(),h(e)?e(Oc(i)):h(e.next)&&e.next(Oc(i))}),this.Tb(e,t,n)},e.bc=function(e){var t=this;return Lc(this,this.i.then(function(){return Oc(t)?Oc(t).F(e).then(function(e){return{accessToken:e}}):null}))},e.Mb=function(e){var t=this;return this.i.then(function(){return Ac(t,Ka(t.b,qa,{token:e}))}).then(function(e){var n=e.user;return nc(n,"isAnonymous",!1),t.Z(n),e})},e.Dc=function(e){return Tr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Mb(e)},e.Ec=function(e,t){return Tr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Nb(e,t)},e.Nb=function(e,t){var n=this;return this.i.then(function(){return Ac(n,Ka(n.b,Ba,{email:e,password:t}))})},e.wb=function(e,t){var n=this;return this.i.then(function(){return Ac(n,Ka(n.b,wa,{email:e,password:t}))})},e.Vb=function(e,t){return Tr("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.wb(e,t)},e.Gc=function(e){return Tr("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Oa(e).then(function(e){return e.user})},e.Oa=function(e){var t=this;return this.i.then(function(){return Ac(t,e.ya(t.b))})},e.Pa=function(){var e=this;return this.i.then(function(){var t=Oc(e);return t&&t.isAnonymous?xr({user:t,credential:null,additionalUserInfo:xr({providerId:null,isNewUser:!1}),operationType:"signIn"}):Ac(e,e.b.Pa()).then(function(t){var n=t.user;return nc(n,"isAnonymous",!0),e.Z(n),t})})},e.Fc=function(){return Tr("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Pa()},e.getUid=function(){return Oc(this)&&Oc(this).uid||null},e.Ub=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&Oc(this)&&Ku(Oc(this))},e.Bc=function(e){var t=this;P(this.o,function(n){n==e&&t.u--}),0>this.u&&(this.u=0),0==this.u&&Oc(this)&&Hu(Oc(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.o.push(e),Lc(this,this.i.then(function(){t.m||M(t.o,e)&&e(Pc(t))}))},e.removeAuthTokenListener=function(e){j(this.o,function(t){return t==e})},e.delete=function(){this.m=!0;for(var e=0;e<this.N.length;e++)this.N[e].cancel("app-deleted");return this.N=[],this.h&&(e=this.h).b.removeListener(bc("local"),e.a,this.ka),this.a&&(this.a.unsubscribe(this),this.a.Xa()),r.a.Promise.resolve()},e.Yb=function(e){return Tr("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),Lc(this,function(e,t){return Ka(e,_a,{identifier:t,continueUri:ur()?Bn():"http://localhost"}).then(function(e){return e.allProviders||[]})}(this.b,e))},e.Zb=function(e){return Lc(this,function(e,t){return Ka(e,_a,{identifier:t,continueUri:ur()?Bn():"http://localhost"}).then(function(e){return e.signinMethods||[]})}(this.b,e))},e.nc=function(e){return!!Pi(e)},e.kb=function(e,t){var n=this;return Lc(this,Ee().then(function(){var e=new Br(t);if(!e.c)throw new Fr("argument-error",Wr+" must be true when sending sign in link to email");return Yr(e)}).then(function(t){return n.b.kb(e,t)}).then(function(){}))},e.Sc=function(e){return this.Ja(e).then(function(e){return e.data.email})},e.Ya=function(e,t){return Lc(this,this.b.Ya(e,t).then(function(){}))},e.Ja=function(e){return Lc(this,this.b.Ja(e).then(function(e){return new function(e){var t={},n=e[Ar],r=e[Dr];if(!(e=e[Or])||e!=Nr&&!n)throw Error("Invalid provider user info!");t[Rr]=r||null,t[Pr]=n||null,kr(this,Mr,e),kr(this,Lr,Ir(t))}(e)}))},e.Va=function(e){return Lc(this,this.b.Va(e).then(function(){}))},e.jb=function(e,t){var n=this;return Lc(this,Ee().then(function(){return void 0===t||ie(t)?{}:Yr(new Br(t))}).then(function(t){return n.b.jb(e,t)}).then(function(){}))},e.Ic=function(e,t){return Lc(this,Ou(this,e,t,y(this.Oa,this)))},e.Hc=function(e,t){var n=this;return Lc(this,Ee().then(function(){var r=Oi(e,t||Bn());return n.Oa(r)}))},Mc.prototype.render=function(){},Mc.prototype.reset=function(){},Mc.prototype.getResponse=function(){},Mc.prototype.execute=function(){};var jc=null;function Uc(e,t){return(t=qc(t))&&e.a[t]||null}function qc(e){return(e=void 0===e?1e12:e)?e.toString():null}function Bc(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Dn(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():yt(this.f,"click",this.i)}function Vc(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Wc(){}Fc.prototype.render=function(e,t){return this.a[this.b.toString()]=new Bc(e,t),this.b++},Fc.prototype.reset=function(e){var t=Uc(this,e);e=qc(e),t&&e&&(t.delete(),delete this.a[e])},Fc.prototype.getResponse=function(e){return(e=Uc(this,e))?e.getResponse():null},Fc.prototype.execute=function(e){(e=Uc(this,e))&&e.execute()},Bc.prototype.getResponse=function(){return Vc(this),this.b},Bc.prototype.execute=function(){Vc(this);var e=this;this.a||(this.a=setTimeout(function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(e){}e.a=setTimeout(function(){if(e.a=null,e.b=null,n)try{n()}catch(e){}e.h&&e.execute()},6e4)},500))},Bc.prototype.delete=function(){Vc(this),this.g=!0,clearTimeout(this.a),this.a=null,wt(this.f,"click",this.i)},Wc.prototype.g=function(){return jc||(jc=new Fc),Ee(jc)},Wc.prototype.c=function(){};var zc=null;function Kc(){this.b=n.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Hc=mn("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Qc=new yr(3e4,6e4);Kc.prototype.g=function(e){var t=this;return new me(function(r,i){var o=setTimeout(function(){i(new Fr("network-request-failed"))},Qc.get());!n.grecaptcha||e!==t.f&&!t.b?(n[t.a]=function(){if(n.grecaptcha){t.f=e;var a=n.grecaptcha.render;n.grecaptcha.render=function(e,n){return e=a(e,n),t.b++,e},clearTimeout(o),r(n.grecaptcha)}else clearTimeout(o),i(new Fr("internal-error"));delete n[t.a]},Ee(Vo(vn(Hc,{onload:t.a,hl:e||""}))).s(function(){clearTimeout(o),i(new Fr("internal-error","Unable to load external reCAPTCHA dependencies!"))})):(clearTimeout(o),r(n.grecaptcha))})},Kc.prototype.c=function(){this.b--};var Gc=null;function Xc(e,t,r,i,o,a,s){if(kr(this,"type","recaptcha"),this.c=this.f=null,this.C=!1,this.m=t,this.g=null,s?(zc||(zc=new Wc),s=zc):(Gc||(Gc=new Kc),s=Gc),this.o=s,this.a=r||{theme:"light",type:"image"},this.h=[],this.a[Jc])throw new Fr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Zc],!n.document)throw new Fr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Dn(t)||!this.i&&Dn(t).hasChildNodes())throw new Fr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new Xo(e,a||null,o||null),this.v=i||function(){return null};var u=this;this.l=[];var c=this.a[Yc];this.a[Yc]=function(e){if(el(u,e),"function"==typeof c)c(e);else if("string"==typeof c){var t=or(c,n);"function"==typeof t&&t(e)}};var l=this.a[$c];this.a[$c]=function(){if(el(u,null),"function"==typeof l)l();else if("string"==typeof l){var e=or(l,n);"function"==typeof e&&e()}}}var Yc="callback",$c="expired-callback",Jc="sitekey",Zc="size";function el(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(e){}}function tl(e,t){return e.h.push(t),t.ia(function(){F(e.h,t)}),t}function nl(e){if(e.C)throw new Fr("internal-error","RecaptchaVerifier instance has been destroyed.")}function rl(e,t,n){var i=!1;try{this.b=n||r.a.app()}catch(e){throw new Fr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new Fr("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().xa()}catch(e){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(e){}a=r.a.SDK_VERSION?rr(r.a.SDK_VERSION,a):null,Xc.call(this,n,e,t,function(){try{var e=o.b.auth().ea()}catch(t){e=null}return e},a,Ya(Ga),i)}function il(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new Fr("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=ol.length)throw new Fr("internal-error","Argument validator received an unsupported number of arguments.");n=ol[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new Fr("argument-error",e+" failed: "+r)}(e=Xc.prototype).za=function(){var e=this;return this.f?this.f:this.f=tl(this,Ee().then(function(){if(ur()&&!Yn())return Qn();throw new Fr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return e.o.g(e.v())}).then(function(t){return e.g=t,Ka(e.u,Da,{})}).then(function(t){e.a[Jc]=t.recaptchaSiteKey}).s(function(t){throw e.f=null,t}))},e.render=function(){nl(this);var e=this;return tl(this,this.za().then(function(){if(null===e.c){var t=e.m;if(!e.i){var n=Dn(t);t=Rn("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c}))},e.verify=function(){nl(this);var e=this;return tl(this,this.render().then(function(t){return new me(function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){j(e.l,function(e){return e==t})}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}})}))},e.reset=function(){nl(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){nl(this),this.C=!0,this.o.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=Dn(this.m);for(var t;t=e.firstChild;)e.removeChild(t)}},w(rl,Xc);var ol="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function al(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:i}}function sl(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:o}}function ul(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:f}}function cl(e,t){return{name:e||"",K:"a function",optional:!!t,M:h}}function ll(e,t){return{name:e||"",K:"null",optional:!!t,M:u}}function hl(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ya||!n)}}}function fl(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&i(e.type)&&h(e.verify))}}}function pl(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function dl(e,t){for(var n in t){var r=t[n].name;e[r]=yl(r,e[n],t[n].j)}}function ml(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:v(function(e){return this[e]},n),set:v(function(e,t,n,r){il(e,[n],[r],!0),this[t]=r},r,n,t[n].sb),enumerable:!0})}}function gl(e,t,n,r){e[t]=yl(t,n,r)}function yl(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return il(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}dl(Sc.prototype,{Va:{name:"applyActionCode",j:[al("code")]},Ja:{name:"checkActionCode",j:[al("code")]},Ya:{name:"confirmPasswordReset",j:[al("code"),al("newPassword")]},wb:{name:"createUserWithEmailAndPassword",j:[al("email"),al("password")]},Vb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[al("email"),al("password")]},Yb:{name:"fetchProvidersForEmail",j:[al("email")]},Zb:{name:"fetchSignInMethodsForEmail",j:[al("email")]},fa:{name:"getRedirectResult",j:[]},nc:{name:"isSignInWithEmailLink",j:[al("emailLink")]},tc:{name:"onAuthStateChanged",j:[pl(ul(),cl(),"nextOrObserver"),cl("opt_error",!0),cl("opt_completed",!0)]},uc:{name:"onIdTokenChanged",j:[pl(ul(),cl(),"nextOrObserver"),cl("opt_error",!0),cl("opt_completed",!0)]},jb:{name:"sendPasswordResetEmail",j:[al("email"),pl(ul("opt_actionCodeSettings",!0),ll(null,!0),"opt_actionCodeSettings",!0)]},kb:{name:"sendSignInLinkToEmail",j:[al("email"),ul("actionCodeSettings")]},lb:{name:"setPersistence",j:[al("persistence")]},Oa:{name:"signInAndRetrieveDataWithCredential",j:[hl()]},Pa:{name:"signInAnonymously",j:[]},Fc:{name:"signInAnonymouslyAndRetrieveData",j:[]},Gc:{name:"signInWithCredential",j:[hl()]},Mb:{name:"signInWithCustomToken",j:[al("token")]},Dc:{name:"signInAndRetrieveDataWithCustomToken",j:[al("token")]},Nb:{name:"signInWithEmailAndPassword",j:[al("email"),al("password")]},Hc:{name:"signInWithEmailLink",j:[al("email"),al("emailLink",!0)]},Ec:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[al("email"),al("password")]},Ic:{name:"signInWithPhoneNumber",j:[al("phoneNumber"),fl()]},Jc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Kc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Pc:{name:"updateCurrentUser",j:[pl({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof qu)}},ll(),"user")]},mb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[al(null,!0)]},Rc:{name:"useDeviceLanguage",j:[]},Sc:{name:"verifyPasswordResetCode",j:[al("code")]}}),ml(Sc.prototype,{lc:{name:"languageCode",sb:pl(al(),ll(),"languageCode")}}),Sc.Persistence=Bs,Sc.Persistence.LOCAL="local",Sc.Persistence.SESSION="session",Sc.Persistence.NONE="none",dl(qu.prototype,{delete:{name:"delete",j:[]},cc:{name:"getIdTokenResult",j:[sl("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[sl("opt_forceRefresh",!0)]},cb:{name:"linkAndRetrieveDataWithCredential",j:[hl()]},oc:{name:"linkWithCredential",j:[hl()]},pc:{name:"linkWithPhoneNumber",j:[al("phoneNumber"),fl()]},qc:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},rc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},fb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[hl()]},xc:{name:"reauthenticateWithCredential",j:[hl()]},yc:{name:"reauthenticateWithPhoneNumber",j:[al("phoneNumber"),fl()]},zc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Ac:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ib:{name:"sendEmailVerification",j:[pl(ul("opt_actionCodeSettings",!0),ll(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[al(null,!0)]},Oc:{name:"unlink",j:[al("provider")]},ob:{name:"updateEmail",j:[al("email")]},pb:{name:"updatePassword",j:[al("password")]},Qc:{name:"updatePhoneNumber",j:[hl("phone")]},qb:{name:"updateProfile",j:[ul("profile")]}}),dl(Fc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),dl(Mc.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),dl(me.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),ml(Au.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",sb:sl("appVerificationDisabledForTesting")}}),dl(Du.prototype,{confirm:{name:"confirm",j:[al("verificationCode")]}}),gl(Di,"credential",function(e,t){return new Ai(e,t)},[al("email"),al("password")]),dl(Ei.prototype,{ta:{name:"addScope",j:[al("scope")]},Da:{name:"setCustomParameters",j:[ul("customOAuthParameters")]}}),gl(Ei,"credential",Ti,[pl(al(),ul(),"token")]),gl(Di,"credentialWithLink",Oi,[al("email"),al("emailLink")]),dl(Si.prototype,{ta:{name:"addScope",j:[al("scope")]},Da:{name:"setCustomParameters",j:[ul("customOAuthParameters")]}}),gl(Si,"credential",ki,[pl(al(),ul(),"token")]),dl(Ci.prototype,{ta:{name:"addScope",j:[al("scope")]},Da:{name:"setCustomParameters",j:[ul("customOAuthParameters")]}}),gl(Ci,"credential",xi,[pl(al(),pl(ul(),ll()),"idToken"),pl(al(),ll(),"accessToken",!0)]),dl(Ii.prototype,{Da:{name:"setCustomParameters",j:[ul("customOAuthParameters")]}}),gl(Ii,"credential",Ni,[pl(al(),ul(),"token"),al("secret",!0)]),dl(_i.prototype,{ta:{name:"addScope",j:[al("scope")]},credential:{name:"credential",j:[pl(al(),ll(),"idToken",!0),pl(al(),ll(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[ul("customOAuthParameters")]}}),gl(Mi,"credential",Fi,[al("verificationId"),al("verificationCode")]),dl(Mi.prototype,{Ta:{name:"verifyPhoneNumber",j:[al("phoneNumber"),fl()]}}),dl(Fr.prototype,{toJSON:{name:"toJSON",j:[al(null,!0)]}}),dl(Ki.prototype,{toJSON:{name:"toJSON",j:[al(null,!0)]}}),dl(zi.prototype,{toJSON:{name:"toJSON",j:[al(null,!0)]}}),dl(rl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if(void 0===r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={Auth:Sc,Error:Fr};gl(e,"EmailAuthProvider",Di,[]),gl(e,"FacebookAuthProvider",Ei,[]),gl(e,"GithubAuthProvider",Si,[]),gl(e,"GoogleAuthProvider",Ci,[]),gl(e,"TwitterAuthProvider",Ii,[]),gl(e,"OAuthProvider",_i,[al("providerId")]),gl(e,"PhoneAuthProvider",Mi,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof Sc)}}]),gl(e,"RecaptchaVerifier",rl,[pl(al(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),ul("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof r.a.app.App)}}]),r.a.INTERNAL.registerService("auth",function(e,t){return t({INTERNAL:{getUid:y((e=new Sc(e)).getUid,e),getToken:y(e.bc,e),addAuthTokenListener:y(e.Ub,e),removeAuthTokenListener:y(e.Bc,e)}}),e},e,function(e,t){if("create"===e)try{t.auth()}catch(e){}}),r.a.INTERNAL.extendNamespace({User:qu})}()}).apply(void 0!==e?e:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})}.call(this,n(9))},function(e,t,n){"use strict";(function(r){Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),o=n(22),a=n(57),s=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(1)),u=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),i.stringify(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:i.jsonEval(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),c=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return i.contains(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),l=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new u(t)}}catch(e){}return new c},h=l("localStorage"),f=l("sessionStorage"),p=new o.Logger("@firebase/database"),d=function(){var e=1;return function(){return e++}}(),m=function(e){var t=i.stringToByteArray(e),n=new i.Sha1;n.update(t);var r=n.digest();return i.base64.encodeByteArray(r)},g=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++)Array.isArray(e[r])||e[r]&&"object"==typeof e[r]&&"number"==typeof e[r].length?n+=g.apply(null,e[r]):"object"==typeof e[r]?n+=i.stringify(e[r]):n+=e[r],n+=" ";return n},y=null,v=!0,b=function(e,t){i.assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(p.logLevel=o.LogLevel.VERBOSE,y=p.log.bind(p),t&&f.set("logging_enabled",!0)):"function"==typeof e?y=e:(y=null,f.remove("logging_enabled"))},w=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===v&&(v=!1,null===y&&!0===f.get("logging_enabled")&&b(!0)),y){var n=g.apply(null,e);y(n)}},_=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];w.apply(void 0,[e].concat(t))}},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+g.apply(void 0,e);p.error(n)},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+g.apply(void 0,e);throw p.error(n),new Error(n)},S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+g.apply(void 0,e);p.warn(n)},k=function(e){return"number"==typeof e&&(e!=e||e==Number.POSITIVE_INFINITY||e==Number.NEGATIVE_INFINITY)},C="[MIN_NAME]",x="[MAX_NAME]",I=function(e,t){if(e===t)return 0;if(e===C||t===x)return-1;if(t===C||e===x)return 1;var n=M(e),r=M(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},N=function(e,t){return e===t?0:e<t?-1:1},A=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+i.stringify(t))},D=function(e){if("object"!=typeof e||null===e)return i.stringify(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",o=0;o<t.length;o++)0!==o&&(r+=","),r+=i.stringify(t[o]),r+=":",r+=D(e[t[o]]);return r+="}"},O=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r},P=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;++n)t(n,e[n]);else i.forEach(e,function(e,n){return t(n,e)})},R=function(e){i.assert(!k(e),"Invalid JSON number");var t,n,r,o,a,s,u;for(0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(o=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-o)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074)))),s=[],a=52;a;a-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse(),u=s.join("");var c="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},L=new RegExp("^-?\\d{1,10}$"),M=function(e){if(L.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},F=function(e){try{e()}catch(e){setTimeout(function(){var t=e.stack||"";throw S("Exception was thrown by user callback.",t),e},Math.floor(0))}},j=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},U=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},q=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return Object.defineProperty(e,"Empty",{get:function(){return new e("")},enumerable:!0,configurable:!0}),e.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},e.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},e.prototype.popFront=function(){var t=this.pieceNum_;return t<this.pieces_.length&&t++,new e(this.pieces_,t)},e.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e.prototype.toUrlEncodedString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+encodeURIComponent(String(this.pieces_[t])));return e||"/"},e.prototype.slice=function(e){return void 0===e&&(e=0),this.pieces_.slice(this.pieceNum_+e)},e.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var t=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)t.push(this.pieces_[n]);return new e(t,0)},e.prototype.child=function(t){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(t instanceof e)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new e(n,0)},e.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},e.relativePath=function(t,n){var r=t.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return e.relativePath(t.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+t+")")},e.comparePaths=function(e,t){for(var n=e.slice(),r=t.slice(),i=0;i<n.length&&i<r.length;i++){var o=I(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},e.prototype.equals=function(e){if(this.getLength()!==e.getLength())return!1;for(var t=this.pieceNum_,n=e.pieceNum_;t<=this.pieces_.length;t++,n++)if(this.pieces_[t]!==e.pieces_[n])return!1;return!0},e.prototype.contains=function(e){var t=this.pieceNum_,n=e.pieceNum_;if(this.getLength()>e.getLength())return!1;for(;t<this.pieces_.length;){if(this.pieces_[t]!==e.pieces_[n])return!1;++t,++n}return!0},e}(),B=function(){function e(e,t){this.errorPrefix_=t,this.parts_=e.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=i.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(e,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),e.prototype.push=function(e){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(e),this.byteLength_+=i.stringLength(e),this.checkValid_()},e.prototype.pop=function(){var e=this.parts_.pop();this.byteLength_-=i.stringLength(e),this.parts_.length>0&&(this.byteLength_-=1)},e.prototype.checkValid_=function(){if(this.byteLength_>e.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+e.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>e.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+e.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},e.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},e}(),V="long_polling",W=function(){function e(e,t,n,r,i){void 0===i&&(i=""),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=e.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=h.get("host:"+e)||this.host}return e.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},e.prototype.updateHost=function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&h.set("host:"+this.host,this.internalHost))},e.prototype.connectionURL=function(e,t){var n;if(i.assert("string"==typeof e,"typeof type must == string"),i.assert("object"==typeof t,"typeof params must == object"),"websocket"===e)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(e!==V)throw new Error("Unknown connection type: "+e);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(t.ns=this.namespace);var r=[];return i.forEach(t,function(e,t){r.push(e+"="+t)}),n+r.join("&")},e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},e}();var z,K,H=function(e){var t=Q(e),n=t.subdomain;"firebase"===t.domain&&T(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===t.domain||T("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var r="ws"===t.scheme||"wss"===t.scheme;return{repoInfo:new W(t.host,t.secure,n,r),path:new q(t.pathString)}},Q=function(e){var t="",n="",r="",i="",o=!0,a="https",s=443;if("string"==typeof e){var u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));var c=e.indexOf("/");-1===c&&(c=e.length);var l=e.indexOf("?");-1===l&&(l=e.length),t=e.substring(0,Math.min(c,l)),c<l&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(e){}t+="/"+i}return t}(e.substring(c,l)));var h=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));for(var n=0,r=e.split("&");n<r.length;n++){var i=r[n];if(0!==i.length){var o=i.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):S("Invalid query segment '"+i+"' in query '"+e+"'")}}return t}(e.substring(Math.min(e.length,l)));(u=t.indexOf(":"))>=0?(o="https"===a||"wss"===a,s=parseInt(t.substring(u+1),10)):u=e.length;var f=t.split(".");3===f.length?(n=f[1],r=f[0].toLowerCase()):2===f.length?n=f[0]:"localhost"===f[0].slice(0,u).toLowerCase()&&(n="localhost"),""===r&&"ns"in h&&(r=h.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:a,pathString:i}},G=/[\[\].#$\/\u0000-\u001F\u007F]/,X=/[\[\].#$\u0000-\u001F\u007F]/,Y=function(e){return"string"==typeof e&&0!==e.length&&!G.test(e)},$=function(e){return"string"==typeof e&&0!==e.length&&!X.test(e)},J=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!k(e)||e&&"object"==typeof e&&i.contains(e,".sv")},Z=function(e,t,n,r,o){o&&void 0===n||ee(i.errorPrefix(e,t,o),n,r)},ee=function(e,t,n){var r=n instanceof q?new B(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+r.toErrorString());if("function"==typeof t)throw new Error(e+"contains a function "+r.toErrorString()+" with contents = "+t.toString());if(k(t))throw new Error(e+"contains "+t.toString()+" "+r.toErrorString());if("string"==typeof t&&t.length>10485760/3&&i.stringLength(t)>10485760)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){var o=!1,a=!1;if(i.forEach(t,function(t,n){if(".value"===t)o=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!Y(t)))throw new Error(e+" contains an invalid key ("+t+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(t),ee(e,n,r),r.pop()}),o&&a)throw new Error(e+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},te=function(e,t,n,r,o){if(!o||void 0!==n){var a=i.errorPrefix(e,t,o);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];i.forEach(n,function(e,t){var n=new q(e);if(ee(a,t,r.child(n)),".priority"===n.getBack()&&!J(t))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)}),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=(r=t[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Y(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(q.comparePaths);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&a.contains(r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(a,s)}},ne=function(e,t,n,r){if(!r||void 0!==n){if(k(n))throw new Error(i.errorPrefix(e,t,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!J(n))throw new Error(i.errorPrefix(e,t,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},re=function(e,t,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(i.errorPrefix(e,t,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},ie=function(e,t,n,r){if(!(r&&void 0===n||Y(n)))throw new Error(i.errorPrefix(e,t,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},oe=function(e,t,n,r){if(!(r&&void 0===n||$(n)))throw new Error(i.errorPrefix(e,t,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},ae=function(e,t){if(".info"===t.getFront())throw new Error(e+" failed = Can't modify data under /.info/")},se=function(e,t,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!Y(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),$(e)}(r))throw new Error(i.errorPrefix(e,t,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ue=function(){function e(e,t){this.repo_=e,this.path_=t}return e.prototype.cancel=function(e){i.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),i.validateCallback("OnDisconnect.cancel",1,e,!0);var t=new i.Deferred;return this.repo_.onDisconnectCancel(this.path_,t.wrapCallback(e)),t.promise},e.prototype.remove=function(e){i.validateArgCount("OnDisconnect.remove",0,1,arguments.length),ae("OnDisconnect.remove",this.path_),i.validateCallback("OnDisconnect.remove",1,e,!0);var t=new i.Deferred;return this.repo_.onDisconnectSet(this.path_,null,t.wrapCallback(e)),t.promise},e.prototype.set=function(e,t){i.validateArgCount("OnDisconnect.set",1,2,arguments.length),ae("OnDisconnect.set",this.path_),Z("OnDisconnect.set",1,e,this.path_,!1),i.validateCallback("OnDisconnect.set",2,t,!0);var n=new i.Deferred;return this.repo_.onDisconnectSet(this.path_,e,n.wrapCallback(t)),n.promise},e.prototype.setWithPriority=function(e,t,n){i.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),ae("OnDisconnect.setWithPriority",this.path_),Z("OnDisconnect.setWithPriority",1,e,this.path_,!1),ne("OnDisconnect.setWithPriority",2,t,!1),i.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new i.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,e,t,r.wrapCallback(n)),r.promise},e.prototype.update=function(e,t){if(i.validateArgCount("OnDisconnect.update",1,2,arguments.length),ae("OnDisconnect.update",this.path_),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}te("OnDisconnect.update",1,e,this.path_,!1),i.validateCallback("OnDisconnect.update",2,t,!0);var o=new i.Deferred;return this.repo_.onDisconnectUpdate(this.path_,e,o.wrapCallback(t)),o.promise},e}(),ce=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return i.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),le=function(){var e="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",t=0,n=[];return function(r){var o,a=r===t;t=r;var s=new Array(8);for(o=7;o>=0;o--)s[o]=e.charAt(r%64),r=Math.floor(r/64);i.assert(0===r,"Cannot push at time == 0");var u=s.join("");if(a){for(o=11;o>=0&&63===n[o];o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)u+=e.charAt(n[o]);return i.assert(20===u.length,"nextPushId: Length should be 20."),u}}(),he=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),fe=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new he(C,e),r=new he(C,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return he.MIN},e}(),pe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return z},set:function(e){z=e},enumerable:!0,configurable:!0}),t.prototype.compare=function(e,t){return I(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw i.assertionError("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return he.MIN},t.prototype.maxPost=function(){return new he(x,z)},t.prototype.makePost=function(e,t){return i.assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new he(e,z)},t.prototype.toString=function(){return".key"},t}(fe),de=new pe;var me,ge,ye,ve=function(e){return"number"==typeof e?"number:"+R(e):"string:"+e},be=function(e){if(e.isLeafNode()){var t=e.val();i.assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&i.contains(t,".sv"),"Priority must be a string or number.")}else i.assert(e===K||e.isEmpty(),"priority of unexpected type.");i.assert(e===K||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},we=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,i.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),be(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return me},set:function(e){me=e},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return t.isEmpty()?this:".priority"===t.getFront()?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=t.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(i.assert(".priority"!==r||1===t.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(t.popFront(),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+ve(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?R(this.value_):this.value_,this.lazyHash_=m(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(i.assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,o=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return i.assert(o>=0,"Unknown leaf type: "+n),i.assert(a>=0,"Unknown leaf type: "+r),o===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-o},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var _e,Ee,Te=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?I(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return he.MIN},t.prototype.maxPost=function(){return new he(x,new we("[PRIORITY-POST]",ye))},t.prototype.makePost=function(e,t){var n=ge(e);return new he(t,new we("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(fe)),Se=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),ke=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:xe.EMPTY_NODE,this.right=null!=o?o:xe.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r,i;return(i=(r=n(e,(i=this).key))<0?i.copy(null,null,null,i.left.insert(e,t,n),null):0===r?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return xe.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return xe.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){var e;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((e=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),Ce=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new ke(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),xe=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,ke.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,ke.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Se(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Se(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Se(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Se(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new Ce,e}(),Ie=Math.log(2),Ne=function(){function e(e){this.count=function(e){return parseInt(Math.log(e)/Ie,10)}(e+1),this.current_=this.count-1;var t=function(e){return parseInt(Array(e+1).join("1"),2)}(this.count);this.bits_=e+1&t}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),Ae=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0==s)return null;if(1==s)return o=e[t],a=n?n(o):o,new ke(a,o.node,ke.BLACK,null,null);var u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new ke(a,o.node,ke.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],h=n?n(l):l;u(new ke(h,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),h=Math.pow(2,t.count-(c+1));l?s(h,ke.BLACK):(s(h,ke.BLACK),s(h,ke.RED))}return o}(new Ne(e.length));return new xe(r||t,o)},De={},Oe=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return i.assert(De&&Te,"ChildrenNode.ts has not been loaded"),_e=_e||new e({".priority":De},{".priority":Te})},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var t=i.safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t===De?null:t},e.prototype.hasIndex=function(e){return i.contains(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){i.assert(t!==de,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,o=[],a=!1,s=n.getIterator(he.Wrap),u=s.getNext();u;)a=a||t.isDefinedOn(u.node),o.push(u),u=s.getNext();r=a?Ae(o,t.getCompare()):De;var c=t.toString(),l=i.clone(this.indexSet_);l[c]=t;var h=i.clone(this.indexes_);return h[c]=r,new e(h,l)},e.prototype.addToIndexes=function(t,n){var r=this;return new e(i.map(this.indexes_,function(e,o){var a=i.safeGet(r.indexSet_,o);if(i.assert(a,"Missing index implementation for "+o),e===De){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(he.Wrap),c=u.getNext();c;)c.name!=t.name&&s.push(c),c=u.getNext();return s.push(t),Ae(s,a.getCompare())}return De}var l=n.get(t.name),h=e;return l&&(h=h.remove(new he(t.name,l))),h.insert(t,t.node)}),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e(i.map(this.indexes_,function(e){if(e===De)return e;var r=n.get(t.name);return r?e.remove(new he(t.name,r)):e}),this.indexSet_)},e}();function Pe(e,t){return I(e.name,t.name)}function Re(e,t){return I(e,t)}var Le=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&be(this.priorityNode_),this.children_.isEmpty()&&i.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return Ee||(Ee=new e(new xe(Re),null,Oe.Default))},enumerable:!0,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||Ee},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?Ee:t},e.prototype.getChild=function(e){var t=e.getFront();return null===t?this:this.getImmediateChild(t).getChild(e.popFront())},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if(i.assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new he(t,n),o=void 0,a=void 0;return n.isEmpty()?(o=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_)),new e(o,o.isEmpty()?Ee:this.priorityNode_,a)},e.prototype.updateChild=function(e,t){var n=e.getFront();if(null===n)return t;i.assert(".priority"!==e.getFront()||1===e.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(e.popFront(),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Te,function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+ve(this.getPriority().val())+":"),this.forEachChild(Te,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":m(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new he(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new he(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new he(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,he.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,he.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Me?-1:0},e.prototype.withIndex=function(t){if(t===de||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===de||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(Te),r=t.getIterator(Te),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===de?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),Me=new(function(e){function t(){return e.call(this,new xe(Re),Le.EMPTY_NODE,Oe.Default)||this}return a.__extends(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return Le.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(Le));Object.defineProperties(he,{MIN:{value:new he(C,Le.EMPTY_NODE)},MAX:{value:new he(x,Me)}}),pe.__EMPTY_NODE=Le.EMPTY_NODE,we.__childrenNodeConstructor=Le,function(e){K=e}(Me),function(e){ye=e}(Me);var Fe=!0;function je(e,t){if(void 0===t&&(t=null),null===e)return Le.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),i.assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new we(e,je(t));if(e instanceof Array||!Fe){var n=Le.EMPTY_NODE,r=e;return i.forEach(r,function(e,t){if(i.contains(r,e)&&"."!==e.substring(0,1)){var o=je(t);!o.isLeafNode()&&o.isEmpty()||(n=n.updateImmediateChild(e,o))}}),n.updatePriority(je(t))}var o=[],a=!1,s=e;if(i.forEach(s,function(e,t){if("string"!=typeof e||"."!==e.substring(0,1)){var n=je(s[e]);n.isEmpty()||(a=a||!n.getPriority().isEmpty(),o.push(new he(e,n)))}}),0==o.length)return Le.EMPTY_NODE;var u=Ae(o,Pe,function(e){return e.name},Re);if(a){var c=Ae(o,Te.getCompare());return new Le(u,je(t),new Oe({".priority":c},{".priority":Te}))}return new Le(u,je(t),Oe.Default)}!function(e){ge=e}(je);var Ue,qe,Be=new(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?I(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return he.MIN},t.prototype.maxPost=function(){return he.MAX},t.prototype.makePost=function(e,t){var n=je(e);return new he(t,n)},t.prototype.toString=function(){return".value"},t}(fe)),Ve=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,i.assert(!t.isEmpty()&&".priority"!==t.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return a.__extends(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?I(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=je(e),r=Le.EMPTY_NODE.updateChild(this.indexPath_,n);return new he(t,r)},t.prototype.maxPost=function(){var e=Le.EMPTY_NODE.updateChild(this.indexPath_,Me);return new he(x,e)},t.prototype.toString=function(){return this.indexPath_.slice().join("/")},t}(fe),We=function(){function e(e,t,n){this.node_=e,this.ref_=t,this.index_=n}return e.prototype.val=function(){return i.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},e.prototype.exportVal=function(){return i.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},e.prototype.toJSON=function(){return i.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},e.prototype.exists=function(){return i.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},e.prototype.child=function(t){i.validateArgCount("DataSnapshot.child",0,1,arguments.length),t=String(t),oe("DataSnapshot.child",1,t,!1);var n=new q(t),r=this.ref_.child(n);return new e(this.node_.getChild(n),r,Te)},e.prototype.hasChild=function(e){i.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),oe("DataSnapshot.hasChild",1,e,!1);var t=new q(e);return!this.node_.getChild(t).isEmpty()},e.prototype.getPriority=function(){return i.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},e.prototype.forEach=function(t){var n=this;return i.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),i.validateCallback("DataSnapshot.forEach",1,t,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,i){return t(new e(i,n.ref_.child(r),Te))})},e.prototype.hasChildren=function(){return i.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(e.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),e.prototype.numChildren=function(){return i.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},e.prototype.getRef=function(){return i.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),ze=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.getRef();return"value"===this.eventType?e.path:e.getParent().path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+i.stringify(this.snapshot.exportVal())},e}(),Ke=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),He=function(){function e(e,t,n){this.callback_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t.getQueryParams().getIndex();return new ze("value",this,new We(e.snapshotNode,t.getRef(),n))},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){i.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callback_;return function(){r.call(t,e.snapshot)}},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Ke(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callback_||!this.callback_||t.callback_===this.callback_&&t.context_===this.context_)},e.prototype.hasAnyCallback=function(){return null!==this.callback_},e}(),Qe=function(){function e(e,t,n){this.callbacks_=e,this.cancelCallback_=t,this.context_=n}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,i.contains(this.callbacks_,t)},e.prototype.createCancelEvent=function(e,t){return this.cancelCallback_?new Ke(this,e,t):null},e.prototype.createEvent=function(e,t){i.assert(null!=e.childName,"Child events should have a childName.");var n=t.getRef().child(e.childName),r=t.getQueryParams().getIndex();return new ze(e.type,this,new We(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this.context_;if("cancel"===e.getEventType()){i.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(t,e.error)}}var r=this.callbacks_[e.eventType];return function(){r.call(t,e.snapshot,e.prevName)}},e.prototype.matches=function(t){if(t instanceof e){if(!this.callbacks_||!t.callbacks_)return!0;if(this.context_===t.context_){var n=i.getCount(t.callbacks_);if(n===i.getCount(this.callbacks_)){if(1===n){var r=i.getAnyKey(t.callbacks_),o=i.getAnyKey(this.callbacks_);return!(o!==r||t.callbacks_[r]&&this.callbacks_[o]&&t.callbacks_[r]!==this.callbacks_[o])}return i.every(this.callbacks_,function(e,n){return t.callbacks_[e]===n})}}}return!1},e.prototype.hasAnyCallback=function(){return null!==this.callbacks_},e}(),Ge=function(){function e(e,t,n,r){this.repo=e,this.path=t,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return i.assert(Ue,"Reference.ts has not been loaded"),Ue},set:function(e){Ue=e},enumerable:!0,configurable:!0}),e.validateQueryEndpoints_=function(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===de){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",o="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!=C)throw new Error(r);if("string"!=typeof t)throw new Error(o)}if(e.hasEnd()){if(e.getIndexEndName()!=x)throw new Error(r);if("string"!=typeof n)throw new Error(o)}}else if(e.getIndex()===Te){if(null!=t&&!J(t)||null!=n&&!J(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(i.assert(e.getIndex()instanceof Ve||e.getIndex()===Be,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},e.validateLimit_=function(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},e.prototype.validateNoPreviousOrderByCall_=function(e){if(!0===this.orderByCalled_)throw new Error(e+": You can't combine multiple orderBy calls.")},e.prototype.getQueryParams=function(){return this.queryParams_},e.prototype.getRef=function(){return i.validateArgCount("Query.ref",0,0,arguments.length),new e.__referenceConstructor(this.repo,this.path)},e.prototype.on=function(t,n,r,o){i.validateArgCount("Query.on",2,4,arguments.length),re("Query.on",1,t,!1),i.validateCallback("Query.on",2,n,!1);var a=e.getCancelAndContextArgs_("Query.on",r,o);if("value"===t)this.onValueEvent(n,a.cancel,a.context);else{var s={};s[t]=n,this.onChildEvent(s,a.cancel,a.context)}return n},e.prototype.onValueEvent=function(e,t,n){var r=new He(e,t||null,n||null);this.repo.addEventCallbackForQuery(this,r)},e.prototype.onChildEvent=function(e,t,n){var r=new Qe(e,t,n);this.repo.addEventCallbackForQuery(this,r)},e.prototype.off=function(e,t,n){i.validateArgCount("Query.off",0,3,arguments.length),re("Query.off",1,e,!0),i.validateCallback("Query.off",2,t,!0),i.validateContextObject("Query.off",3,n,!0);var r=null,o=null;"value"===e?r=new He(t||null,null,n||null):e&&(t&&((o={})[e]=t),r=new Qe(o,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},e.prototype.once=function(t,n,r,o){var a=this;i.validateArgCount("Query.once",1,4,arguments.length),re("Query.once",1,t,!1),i.validateCallback("Query.once",2,n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,o),u=!0,c=new i.Deferred;c.promise.catch(function(){});var l=function(e){u&&(u=!1,a.off(t,l),n&&n.bind(s.context)(e),c.resolve(e))};return this.on(t,l,function(e){a.off(t,l),s.cancel&&s.cancel.bind(s.context)(e),c.reject(e)}),c.promise},e.prototype.limitToFirst=function(t){if(i.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToFirst(t),this.orderByCalled_)},e.prototype.limitToLast=function(t){if(i.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!=typeof t||Math.floor(t)!==t||t<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new e(this.repo,this.path,this.queryParams_.limitToLast(t),this.orderByCalled_)},e.prototype.orderByChild=function(t){if(i.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===t)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===t)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===t)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');oe("Query.orderByChild",1,t,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new q(t);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new Ve(n),o=this.queryParams_.orderBy(r);return e.validateQueryEndpoints_(o),new e(this.repo,this.path,o,!0)},e.prototype.orderByKey=function(){i.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var t=this.queryParams_.orderBy(de);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByPriority=function(){i.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var t=this.queryParams_.orderBy(Te);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.orderByValue=function(){i.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var t=this.queryParams_.orderBy(Be);return e.validateQueryEndpoints_(t),new e(this.repo,this.path,t,!0)},e.prototype.startAt=function(t,n){void 0===t&&(t=null),i.validateArgCount("Query.startAt",0,2,arguments.length),Z("Query.startAt",1,t,this.path,!0),ie("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===t&&(t=null,n=null),new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.endAt=function(t,n){void 0===t&&(t=null),i.validateArgCount("Query.endAt",0,2,arguments.length),Z("Query.endAt",1,t,this.path,!0),ie("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(t,n);if(e.validateLimit_(r),e.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new e(this.repo,this.path,r,this.orderByCalled_)},e.prototype.equalTo=function(e,t){if(i.validateArgCount("Query.equalTo",1,2,arguments.length),Z("Query.equalTo",1,e,this.path,!1),ie("Query.equalTo",2,t,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(e,t).endAt(e,t)},e.prototype.toString=function(){return i.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},e.prototype.toJSON=function(){return i.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},e.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},e.prototype.queryIdentifier=function(){var e=this.queryObject(),t=D(e);return"{}"===t?"default":t},e.prototype.isEqual=function(t){if(i.validateArgCount("Query.isEqual",1,1,arguments.length),!(t instanceof e)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var n=this.repo===t.repo,r=this.path.equals(t.path),o=this.queryIdentifier()===t.queryIdentifier();return n&&r&&o},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:null,context:null};if(t&&n)r.cancel=t,i.validateCallback(e,3,r.cancel,!0),r.context=n,i.validateContextObject(e,4,r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error(i.errorPrefix(e,3,!0)+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),e}(),Xe=function(){function e(){this.set={}}return e.prototype.add=function(e,t){this.set[e]=null===t||t},e.prototype.contains=function(e){return i.contains(this.set,e)},e.prototype.get=function(e){return this.contains(e)?this.set[e]:void 0},e.prototype.remove=function(e){delete this.set[e]},e.prototype.clear=function(){this.set={}},e.prototype.isEmpty=function(){return i.isEmpty(this.set)},e.prototype.count=function(){return i.getCount(this.set)},e.prototype.each=function(e){i.forEach(this.set,function(t,n){return e(t,n)})},e.prototype.keys=function(){var e=[];return i.forEach(this.set,function(t){e.push(t)}),e},e}(),Ye=function(){function e(){this.value_=null,this.children_=null}return e.prototype.find=function(e){if(null!=this.value_)return this.value_.getChild(e);if(e.isEmpty()||null==this.children_)return null;var t=e.getFront();return e=e.popFront(),this.children_.contains(t)?this.children_.get(t).find(e):null},e.prototype.remember=function(t,n){if(t.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(t,n);else{null==this.children_&&(this.children_=new Xe);var r=t.getFront();this.children_.contains(r)||this.children_.add(r,new e);var i=this.children_.get(r);t=t.popFront(),i.remember(t,n)}},e.prototype.forget=function(e){if(e.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var t=this.value_;this.value_=null;var n=this;return t.forEachChild(Te,function(e,t){n.remember(new q(e),t)}),this.forget(e)}if(null!==this.children_){var r=e.getFront();if(e=e.popFront(),this.children_.contains(r))this.children_.get(r).forget(e)&&this.children_.remove(r);return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},e.prototype.forEachTree=function(e,t){null!==this.value_?t(e,this.value_):this.forEachChild(function(n,r){var i=new q(e.toString()+"/"+n);r.forEachTree(i,t)})},e.prototype.forEachChild=function(e){null!==this.children_&&this.children_.each(function(t,n){e(t,n)})},e}(),$e=function(e,t){return e&&"object"==typeof e?(i.assert(".sv"in e,"Unexpected leaf node or priority contents"),t[e[".sv"]]):e},Je=function(e,t){var n,r=e.getPriority().val(),i=$e(r,t);if(e.isLeafNode()){var o=e,a=$e(o.getValue(),t);return a!==o.getValue()||i!==o.getPriority().val()?new we(a,je(i)):e}var s=e;return n=s,i!==s.getPriority().val()&&(n=n.updatePriority(new we(i))),s.forEachChild(Te,function(e,r){var i=Je(r,t);i!==r&&(n=n.updateImmediateChild(e,i))}),n};!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(qe||(qe={}));var Ze,et,tt=function(){function e(e,t,n,r){this.fromUser=e,this.fromServer=t,this.queryId=n,this.tagged=r,i.assert(!r||t,"Tagged queries must be from server.")}return e.User=new e(!0,!1,null,!1),e.Server=new e(!1,!0,null,!1),e.forServerTaggedQuery=function(t){return new e(!1,!0,t,!0)},e}(),nt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=qe.ACK_USER_WRITE,this.source=tt.User}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return i.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new q(t));return new e(q.Empty,n,this.revert)}return i.assert(this.path.getFront()===t,"operationForChild called for unrelated child."),new e(this.path.popFront(),this.affectedTree,this.revert)},e}(),rt=function(){return Ze||(Ze=new xe(N)),Ze},it=function(){function e(e,t){void 0===t&&(t=rt()),this.value=e,this.children=t}return e.fromObject=function(t){var n=e.Empty;return i.forEach(t,function(e,t){n=n.set(new q(e),t)}),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:q.Empty,value:this.value};if(e.isEmpty())return null;var n=e.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(e.popFront(),t);return null!=i?{path:new q(n).child(i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})},e.prototype.subtree=function(t){if(t.isEmpty())return this;var n=t.getFront(),r=this.children.get(n);return null!==r?r.subtree(t.popFront()):e.Empty},e.prototype.set=function(t,n){if(t.isEmpty())return new e(n,this.children);var r=t.getFront(),i=(this.children.get(r)||e.Empty).set(t.popFront(),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(t.isEmpty())return this.children.isEmpty()?e.Empty:new e(null,this.children);var n=t.getFront(),r=this.children.get(n);if(r){var i=r.remove(t.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?e.Empty:new e(this.value,o)}return this},e.prototype.get=function(e){if(e.isEmpty())return this.value;var t=e.getFront(),n=this.children.get(t);return n?n.get(e.popFront()):null},e.prototype.setTree=function(t,n){if(t.isEmpty())return n;var r=t.getFront(),i=(this.children.get(r)||e.Empty).setTree(t.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(q.Empty,e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(e.child(r),t)}),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,q.Empty,t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(e.isEmpty())return null;var i=e.getFront(),o=this.children.get(i);return o?o.findOnPath_(e.popFront(),t.child(i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,q.Empty,t)},e.prototype.foreachOnPath_=function(t,n,r){if(t.isEmpty())return this;this.value&&r(n,this.value);var i=t.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(t.popFront(),n.child(i),r):e.Empty},e.prototype.foreach=function(e){this.foreach_(q.Empty,e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal(function(n,r){r.foreach_(e.child(n),t)}),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})},e.Empty=new e(null),e}(),ot=function(){function e(e,t){this.source=e,this.path=t,this.type=qe.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,q.Empty):new e(this.source,this.path.popFront())},e}(),at=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=qe.OVERWRITE}return e.prototype.operationForChild=function(t){return this.path.isEmpty()?new e(this.source,q.Empty,this.snap.getImmediateChild(t)):new e(this.source,this.path.popFront(),this.snap)},e}(),st=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=qe.MERGE}return e.prototype.operationForChild=function(t){if(this.path.isEmpty()){var n=this.children.subtree(new q(t));return n.isEmpty()?null:n.value?new at(this.source,q.Empty,n.value):new e(this.source,q.Empty,n)}return i.assert(this.path.getFront()===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,this.path.popFront(),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),ut=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(e.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var t=e.getFront();return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),ct=function(){function e(e,t){this.eventCache_=e,this.serverCache_=t}return e.prototype.updateEventSnap=function(t,n,r){return new e(new ut(t,n,r),this.serverCache_)},e.prototype.updateServerSnap=function(t,n,r){return new e(this.eventCache_,new ut(t,n,r))},e.prototype.getEventCache=function(){return this.eventCache_},e.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},e.prototype.getServerCache=function(){return this.serverCache_},e.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},e.Empty=new e(new ut(Le.EMPTY_NODE,!1,!1),new ut(Le.EMPTY_NODE,!1,!1)),e}(),lt=function(){function e(e,t,n,r,i){this.type=e,this.snapshotNode=t,this.childName=n,this.oldSnap=r,this.prevName=i}return e.valueChange=function(t){return new e(e.VALUE,t)},e.childAddedChange=function(t,n){return new e(e.CHILD_ADDED,n,t)},e.childRemovedChange=function(t,n){return new e(e.CHILD_REMOVED,n,t)},e.childChangedChange=function(t,n,r){return new e(e.CHILD_CHANGED,n,t,r)},e.childMovedChange=function(t,n){return new e(e.CHILD_MOVED,n,t)},e.CHILD_ADDED="child_added",e.CHILD_REMOVED="child_removed",e.CHILD_CHANGED="child_changed",e.CHILD_MOVED="child_moved",e.VALUE="value",e}(),ht=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,o,a){i.assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()==n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(lt.childRemovedChange(t,s)):i.assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(lt.childAddedChange(t,n)):a.trackChildChange(lt.childChangedChange(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(Te,function(e,r){t.hasChild(e)||n.trackChildChange(lt.childRemovedChange(e,r))}),t.isLeafNode()||t.forEachChild(Te,function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(lt.childChangedChange(t,r,i))}else n.trackChildChange(lt.childAddedChange(t,r))})),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?Le.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),ft=function(){function e(){this.changeMap_={}}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;i.assert(t==lt.CHILD_ADDED||t==lt.CHILD_CHANGED||t==lt.CHILD_REMOVED,"Only child changes supported for tracking"),i.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=i.safeGet(this.changeMap_,n);if(r){var o=r.type;if(t==lt.CHILD_ADDED&&o==lt.CHILD_REMOVED)this.changeMap_[n]=lt.childChangedChange(n,e.snapshotNode,r.snapshotNode);else if(t==lt.CHILD_REMOVED&&o==lt.CHILD_ADDED)delete this.changeMap_[n];else if(t==lt.CHILD_REMOVED&&o==lt.CHILD_CHANGED)this.changeMap_[n]=lt.childRemovedChange(n,r.oldSnap);else if(t==lt.CHILD_CHANGED&&o==lt.CHILD_ADDED)this.changeMap_[n]=lt.childAddedChange(n,e.snapshotNode);else{if(t!=lt.CHILD_CHANGED||o!=lt.CHILD_CHANGED)throw i.assertionError("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap_[n]=lt.childChangedChange(n,e.snapshotNode,r.oldSnap)}}else this.changeMap_[n]=e},e.prototype.getChanges=function(){return i.getValues(this.changeMap_)},e}(),pt=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),dt=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.getEventCache();if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new ut(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,t,1,n,e);return 0===i.length?null:i[0]},e}(),mt=function(){return function(e,t){this.viewCache=e,this.changes=t}}(),gt=function(){function e(e){this.filter_=e}return e.prototype.assertIndexed=function(e){i.assert(e.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),i.assert(e.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},e.prototype.applyOperation=function(t,n,r,o){var a,s,u=new ft;if(n.type===qe.OVERWRITE){var c=n;c.source.fromUser?a=this.applyUserOverwrite_(t,c.path,c.snap,r,o,u):(i.assert(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.getServerCache().isFiltered()&&!c.path.isEmpty(),a=this.applyServerOverwrite_(t,c.path,c.snap,r,o,s,u))}else if(n.type===qe.MERGE){var l=n;l.source.fromUser?a=this.applyUserMerge_(t,l.path,l.children,r,o,u):(i.assert(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.getServerCache().isFiltered(),a=this.applyServerMerge_(t,l.path,l.children,r,o,s,u))}else if(n.type===qe.ACK_USER_WRITE){var h=n;a=h.revert?this.revertUserWrite_(t,h.path,r,o,u):this.ackUserWrite_(t,h.path,h.affectedTree,r,o,u)}else{if(n.type!==qe.LISTEN_COMPLETE)throw i.assertionError("Unknown operation type: "+n.type);a=this.listenComplete_(t,n.path,r,u)}var f=u.getChanges();return e.maybeAddValueEvent_(t,a,f),new mt(a,f)},e.maybeAddValueEvent_=function(e,t,n){var r=t.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=e.getCompleteEventSnap();(n.length>0||!e.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(lt.valueChange(t.getCompleteEventSnap()))}},e.prototype.generateEventCacheAfterServerEvent_=function(e,t,n,r,o){var a=e.getEventCache();if(null!=n.shadowingWrite(t))return e;var s=void 0,u=void 0;if(t.isEmpty())if(i.assert(e.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),e.getServerCache().isFiltered()){var c=e.getCompleteServerSnap(),l=c instanceof Le?c:Le.EMPTY_NODE,h=n.calcCompleteEventChildren(l);s=this.filter_.updateFullNode(e.getEventCache().getNode(),h,o)}else{var f=n.calcCompleteEventCache(e.getCompleteServerSnap());s=this.filter_.updateFullNode(e.getEventCache().getNode(),f,o)}else{var p=t.getFront();if(".priority"==p){i.assert(1==t.getLength(),"Can't have a priority with additional path components");var d=a.getNode();u=e.getServerCache().getNode();var m=n.calcEventCacheAfterServerOverwrite(t,d,u);s=null!=m?this.filter_.updatePriority(d,m):a.getNode()}else{var g=t.popFront(),y=void 0;if(a.isCompleteForChild(p)){u=e.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(t,a.getNode(),u);y=null!=v?a.getNode().getImmediateChild(p).updateChild(g,v):a.getNode().getImmediateChild(p)}else y=n.calcCompleteChild(p,e.getServerCache());s=null!=y?this.filter_.updateChild(a.getNode(),p,y,g,r,o):a.getNode()}}return e.updateEventSnap(s,a.isFullyInitialized()||t.isEmpty(),this.filter_.filtersNodes())},e.prototype.applyServerOverwrite_=function(e,t,n,r,i,o,a){var s,u=e.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(t.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(t,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=t.getFront();if(!u.isCompleteForPath(t)&&t.getLength()>1)return e;var f=t.popFront(),p=u.getNode().getImmediateChild(h).updateChild(f,n);s=".priority"==h?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),h,p,f,pt,null)}var d=e.updateServerSnap(s,u.isFullyInitialized()||t.isEmpty(),c.filtersNodes()),m=new dt(r,d,i);return this.generateEventCacheAfterServerEvent_(d,t,r,m,a)},e.prototype.applyUserOverwrite_=function(e,t,n,r,i,o){var a,s,u=e.getEventCache(),c=new dt(r,e,i);if(t.isEmpty())s=this.filter_.updateFullNode(e.getEventCache().getNode(),n,o),a=e.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=t.getFront();if(".priority"===l)s=this.filter_.updatePriority(e.getEventCache().getNode(),n),a=e.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=t.popFront(),f=u.getNode().getImmediateChild(l),p=void 0;if(h.isEmpty())p=n;else{var d=c.getCompleteChild(l);p=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):Le.EMPTY_NODE}if(f.equals(p))a=e;else{var m=this.filter_.updateChild(u.getNode(),l,p,h,c,o);a=e.updateEventSnap(m,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},e.cacheHasChild_=function(e,t){return e.getEventCache().isCompleteForChild(t)},e.prototype.applyUserMerge_=function(t,n,r,i,o,a){var s=this,u=t;return r.foreach(function(r,c){var l=n.child(r);e.cacheHasChild_(t,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),r.foreach(function(r,c){var l=n.child(r);e.cacheHasChild_(t,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,i,o,a))}),u},e.prototype.applyMerge_=function(e,t){return t.foreach(function(t,n){e=e.updateChild(t,n)}),e},e.prototype.applyServerMerge_=function(e,t,n,r,i,o,a){var s=this;if(e.getServerCache().getNode().isEmpty()&&!e.getServerCache().isFullyInitialized())return e;var u,c=e;u=t.isEmpty()?n:it.Empty.setTree(t,n);var l=e.getServerCache().getNode();return u.children.inorderTraversal(function(t,n){if(l.hasChild(t)){var u=e.getServerCache().getNode().getImmediateChild(t),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new q(t),h,r,i,o,a)}}),u.children.inorderTraversal(function(t,n){var u=!e.getServerCache().isCompleteForChild(t)&&null==n.value;if(!l.hasChild(t)&&!u){var h=e.getServerCache().getNode().getImmediateChild(t),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new q(t),f,r,i,o,a)}}),c},e.prototype.ackUserWrite_=function(e,t,n,r,i,o){if(null!=r.shadowingWrite(t))return e;var a=e.getServerCache().isFiltered(),s=e.getServerCache();if(null!=n.value){if(t.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(t))return this.applyServerOverwrite_(e,t,s.getNode().getChild(t),r,i,a,o);if(t.isEmpty()){var u=it.Empty;return s.getNode().forEachChild(de,function(e,t){u=u.set(new q(e),t)}),this.applyServerMerge_(e,t,u,r,i,a,o)}return e}var c=it.Empty;return n.foreach(function(e,n){var r=t.child(e);s.isCompleteForPath(r)&&(c=c.set(e,s.getNode().getChild(r)))}),this.applyServerMerge_(e,t,c,r,i,a,o)},e.prototype.listenComplete_=function(e,t,n,r){var i=e.getServerCache(),o=e.updateServerSnap(i.getNode(),i.isFullyInitialized()||t.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,t,n,pt,r)},e.prototype.revertUserWrite_=function(e,t,n,r,o){var a;if(null!=n.shadowingWrite(t))return e;var s=new dt(n,e,r),u=e.getEventCache().getNode(),c=void 0;if(t.isEmpty()||".priority"===t.getFront()){var l=void 0;if(e.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(e.getCompleteServerSnap());else{var h=e.getServerCache().getNode();i.assert(h instanceof Le,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}l=l,c=this.filter_.updateFullNode(u,l,o)}else{var f=t.getFront(),p=n.calcCompleteChild(f,e.getServerCache());null==p&&e.getServerCache().isCompleteForChild(f)&&(p=u.getImmediateChild(f)),(c=null!=p?this.filter_.updateChild(u,f,p,t.popFront(),s,o):e.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,Le.EMPTY_NODE,t.popFront(),s,o):u).isEmpty()&&e.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(e.getCompleteServerSnap())).isLeafNode()&&(c=this.filter_.updateFullNode(c,a,o))}return a=e.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(q.Empty),e.updateEventSnap(c,a,this.filter_.filtersNodes())},e}(),yt=function(){function e(e){this.query_=e,this.index_=this.query_.getQueryParams().getIndex()}return e.prototype.generateEventsForChanges=function(e,t,n){var r=this,i=[],o=[];return e.forEach(function(e){e.type===lt.CHILD_CHANGED&&r.index_.indexedValueChanged(e.oldSnap,e.snapshotNode)&&o.push(lt.childMovedChange(e.childName,e.snapshotNode))}),this.generateEventsForType_(i,lt.CHILD_REMOVED,e,n,t),this.generateEventsForType_(i,lt.CHILD_ADDED,e,n,t),this.generateEventsForType_(i,lt.CHILD_MOVED,o,n,t),this.generateEventsForType_(i,lt.CHILD_CHANGED,e,n,t),this.generateEventsForType_(i,lt.VALUE,e,n,t),i},e.prototype.generateEventsForType_=function(e,t,n,r,i){var o=this,a=n.filter(function(e){return e.type===t});a.sort(this.compareChanges_.bind(this)),a.forEach(function(t){var n=o.materializeSingleChange_(t,i);r.forEach(function(r){r.respondsTo(t.type)&&e.push(r.createEvent(n,o.query_))})})},e.prototype.materializeSingleChange_=function(e,t){return"value"===e.type||"child_removed"===e.type?e:(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,this.index_),e)},e.prototype.compareChanges_=function(e,t){if(null==e.childName||null==t.childName)throw i.assertionError("Should only compare child_ events.");var n=new he(e.childName,e.snapshotNode),r=new he(t.childName,t.snapshotNode);return this.index_.compare(n,r)},e}(),vt=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new ht(n.getIndex()),i=n.getNodeFilter();this.processor_=new gt(i);var o=t.getServerCache(),a=t.getEventCache(),s=r.updateFullNode(Le.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Le.EMPTY_NODE,a.getNode(),null),c=new ut(s,o.isFullyInitialized(),r.filtersNodes()),l=new ut(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new ct(l,c),this.eventGenerator_=new yt(this.query_)}return e.prototype.getQuery=function(){return this.query_},e.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},e.prototype.getCompleteServerCache=function(e){var t=this.viewCache_.getCompleteServerSnap();return t&&(this.query_.getQueryParams().loadsAllData()||!e.isEmpty()&&!t.getImmediateChild(e.getFront()).isEmpty())?t.getChild(e):null},e.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},e.prototype.addEventRegistration=function(e){this.eventRegistrations_.push(e)},e.prototype.removeEventRegistration=function(e,t){var n=[];if(t){i.assert(null==e,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(e){t=t;var i=e.createCancelEvent(t,r);i&&n.push(i)})}if(e){for(var o=[],a=0;a<this.eventRegistrations_.length;++a){var s=this.eventRegistrations_[a];if(s.matches(e)){if(e.hasAnyCallback()){o=o.concat(this.eventRegistrations_.slice(a+1));break}}else o.push(s)}this.eventRegistrations_=o}else this.eventRegistrations_=[];return n},e.prototype.applyOperation=function(e,t,n){e.type===qe.MERGE&&null!==e.source.queryId&&(i.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),i.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,o=this.processor_.applyOperation(r,e,t,n);return this.processor_.assertIndexed(o.viewCache),i.assert(o.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=o.viewCache,this.generateEventsForChanges_(o.changes,o.viewCache.getEventCache().getNode(),null)},e.prototype.getInitialEvents=function(e){var t=this.viewCache_.getEventCache(),n=[];t.getNode().isLeafNode()||t.getNode().forEachChild(Te,function(e,t){n.push(lt.childAddedChange(e,t))});return t.isFullyInitialized()&&n.push(lt.valueChange(t.getNode())),this.generateEventsForChanges_(n,t.getNode(),e)},e.prototype.generateEventsForChanges_=function(e,t,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(e,t,r)},e}(),bt=function(){function e(){this.views_={}}return Object.defineProperty(e,"__referenceConstructor",{get:function(){return i.assert(et,"Reference.ts has not been loaded"),et},set:function(e){i.assert(!et,"__referenceConstructor has already been defined"),et=e},enumerable:!0,configurable:!0}),e.prototype.isEmpty=function(){return i.isEmpty(this.views_)},e.prototype.applyOperation=function(e,t,n){var r=e.source.queryId;if(null!==r){var o=i.safeGet(this.views_,r);return i.assert(null!=o,"SyncTree gave us an op for an invalid query."),o.applyOperation(e,t,n)}var a=[];return i.forEach(this.views_,function(r,i){a=a.concat(i.applyOperation(e,t,n))}),a},e.prototype.addEventRegistration=function(e,t,n,r,o){var a=e.queryIdentifier(),s=i.safeGet(this.views_,a);if(!s){var u=n.calcCompleteEventCache(o?r:null),c=!1;u?c=!0:r instanceof Le?(u=n.calcCompleteEventChildren(r),c=!1):(u=Le.EMPTY_NODE,c=!1);var l=new ct(new ut(u,c,!1),new ut(r,o,!1));s=new vt(e,l),this.views_[a]=s}return s.addEventRegistration(t),s.getInitialEvents(t)},e.prototype.removeEventRegistration=function(t,n,r){var o=t.queryIdentifier(),a=[],s=[],u=this.hasCompleteView();if("default"===o){var c=this;i.forEach(this.views_,function(e,t){s=s.concat(t.removeEventRegistration(n,r)),t.isEmpty()&&(delete c.views_[e],t.getQuery().getQueryParams().loadsAllData()||a.push(t.getQuery()))})}else{var l=i.safeGet(this.views_,o);l&&(s=s.concat(l.removeEventRegistration(n,r)),l.isEmpty()&&(delete this.views_[o],l.getQuery().getQueryParams().loadsAllData()||a.push(l.getQuery())))}return u&&!this.hasCompleteView()&&a.push(new e.__referenceConstructor(t.repo,t.path)),{removed:a,events:s}},e.prototype.getQueryViews=function(){var e=this;return Object.keys(this.views_).map(function(t){return e.views_[t]}).filter(function(e){return!e.getQuery().getQueryParams().loadsAllData()})},e.prototype.getCompleteServerCache=function(e){var t=null;return i.forEach(this.views_,function(n,r){t=t||r.getCompleteServerCache(e)}),t},e.prototype.viewForQuery=function(e){if(e.getQueryParams().loadsAllData())return this.getCompleteView();var t=e.queryIdentifier();return i.safeGet(this.views_,t)},e.prototype.viewExistsForQuery=function(e){return null!=this.viewForQuery(e)},e.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},e.prototype.getCompleteView=function(){return i.findValue(this.views_,function(e){return e.getQuery().getQueryParams().loadsAllData()})||null},e}(),wt=function(){function e(e){this.writeTree_=e}return e.prototype.addWrite=function(t,n){if(t.isEmpty())return new e(new it(n));var r=this.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=q.relativePath(i,t);return o=o.updateChild(a,n),new e(this.writeTree_.set(i,o))}var s=new it(n);return new e(this.writeTree_.setTree(t,s))},e.prototype.addWrites=function(e,t){var n=this;return i.forEach(t,function(t,r){n=n.addWrite(e.child(t),r)}),n},e.prototype.removeWrite=function(t){return t.isEmpty()?e.Empty:new e(this.writeTree_.setTree(t,it.Empty))},e.prototype.hasCompleteWrite=function(e){return null!=this.getCompleteNode(e)},e.prototype.getCompleteNode=function(e){var t=this.writeTree_.findRootMostValueAndPath(e);return null!=t?this.writeTree_.get(t.path).getChild(q.relativePath(t.path,e)):null},e.prototype.getCompleteChildren=function(){var e=[],t=this.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(Te,function(t,n){e.push(new he(t,n))}):this.writeTree_.children.inorderTraversal(function(t,n){null!=n.value&&e.push(new he(t,n.value))}),e},e.prototype.childCompoundWrite=function(t){if(t.isEmpty())return this;var n=this.getCompleteNode(t);return new e(null!=n?new it(n):this.writeTree_.subtree(t))},e.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},e.prototype.apply=function(t){return e.applySubtreeWrite_(q.Empty,this.writeTree_,t)},e.Empty=new e(new it(null)),e.applySubtreeWrite_=function(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var o=null;return n.children.inorderTraversal(function(n,a){".priority"===n?(i.assert(null!==a.value,"Priority writes must always be leaf nodes"),o=a.value):r=e.applySubtreeWrite_(t.child(n),a,r)}),r.getChild(t).isEmpty()||null===o||(r=r.updateChild(t.child(".priority"),o)),r},e}(),_t=function(){function e(){this.visibleWrites_=wt.Empty,this.allWrites_=[],this.lastWriteId_=-1}return e.prototype.childWrites=function(e){return new Et(e,this)},e.prototype.addOverwrite=function(e,t,n,r){i.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:e,snap:t,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(e,t)),this.lastWriteId_=n},e.prototype.addMerge=function(e,t,n){i.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:e,children:t,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(e,t),this.lastWriteId_=n},e.prototype.getWrite=function(e){for(var t=0;t<this.allWrites_.length;t++){var n=this.allWrites_[t];if(n.writeId===e)return n}return null},e.prototype.removeWrite=function(e){var t=this,n=this.allWrites_.findIndex(function(t){return t.writeId===e});i.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var o=r.visible,a=!1,s=this.allWrites_.length-1;o&&s>=0;){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,r.path)?o=!1:r.path.contains(u.path)&&(a=!0)),s--}if(o){if(a)return this.resetTree_(),!0;if(r.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(r.path);else{var c=r.children;i.forEach(c,function(e){t.visibleWrites_=t.visibleWrites_.removeWrite(r.path.child(e))})}return!0}return!1},e.prototype.getCompleteWriteData=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcCompleteEventCache=function(t,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(t);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(q.Empty)){var a=e.layerTree_(this.allWrites_,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(e.path.contains(t)||t.contains(e.path))},t);c=n||Le.EMPTY_NODE;return a.apply(c)}return null}var s=this.visibleWrites_.getCompleteNode(t);if(null!=s)return s;var u=this.visibleWrites_.childCompoundWrite(t);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite(q.Empty)){var c=n||Le.EMPTY_NODE;return u.apply(c)}return null},e.prototype.calcCompleteEventChildren=function(e,t){var n=Le.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(e);if(r)return r.isLeafNode()||r.forEachChild(Te,function(e,t){n=n.updateImmediateChild(e,t)}),n;if(t){var i=this.visibleWrites_.childCompoundWrite(e);return t.forEachChild(Te,function(e,t){var r=i.childCompoundWrite(new q(e)).apply(t);n=n.updateImmediateChild(e,r)}),i.getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n}return this.visibleWrites_.childCompoundWrite(e).getCompleteChildren().forEach(function(e){n=n.updateImmediateChild(e.name,e.node)}),n},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n,r){i.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var o=e.child(t);if(this.visibleWrites_.hasCompleteWrite(o))return null;var a=this.visibleWrites_.childCompoundWrite(o);return a.isEmpty()?r.getChild(t):a.apply(r.getChild(t))},e.prototype.calcCompleteChild=function(e,t,n){var r=e.child(t),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(t)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(t)):null},e.prototype.shadowingWrite=function(e){return this.visibleWrites_.getCompleteNode(e)},e.prototype.calcIndexedSlice=function(e,t,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(e),u=s.getCompleteNode(q.Empty);if(null!=u)a=u;else{if(null==t)return[];a=s.apply(t)}if((a=a.withIndex(o)).isEmpty()||a.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},e.prototype.recordContainsPath_=function(e,t){return e.snap?e.path.contains(t):!!i.findKey(e.children,function(n,r){return e.path.child(r).contains(t)})},e.prototype.resetTree_=function(){this.visibleWrites_=e.layerTree_(this.allWrites_,e.DefaultFilter_,q.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},e.DefaultFilter_=function(e){return e.visible},e.layerTree_=function(e,t,n){for(var r=wt.Empty,o=0;o<e.length;++o){var a=e[o];if(t(a)){var s=a.path,u=void 0;if(a.snap)n.contains(s)?(u=q.relativePath(n,s),r=r.addWrite(u,a.snap)):s.contains(n)&&(u=q.relativePath(s,n),r=r.addWrite(q.Empty,a.snap.getChild(u)));else{if(!a.children)throw i.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))u=q.relativePath(n,s),r=r.addWrites(u,a.children);else if(s.contains(n))if((u=q.relativePath(s,n)).isEmpty())r=r.addWrites(q.Empty,a.children);else{var c=i.safeGet(a.children,u.getFront());if(c){var l=c.getChild(u.popFront());r=r.addWrite(q.Empty,l)}}}}}return r},e}(),Et=function(){function e(e,t){this.treePath_=e,this.writeTree_=t}return e.prototype.calcCompleteEventCache=function(e,t,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,e,t,n)},e.prototype.calcCompleteEventChildren=function(e){return this.writeTree_.calcCompleteEventChildren(this.treePath_,e)},e.prototype.calcEventCacheAfterServerOverwrite=function(e,t,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,e,t,n)},e.prototype.shadowingWrite=function(e){return this.writeTree_.shadowingWrite(this.treePath_.child(e))},e.prototype.calcIndexedSlice=function(e,t,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,e,t,n,r,i)},e.prototype.calcCompleteChild=function(e,t){return this.writeTree_.calcCompleteChild(this.treePath_,e,t)},e.prototype.child=function(t){return new e(this.treePath_.child(t),this.writeTree_)},e}(),Tt=function(){function e(e){this.listenProvider_=e,this.syncPointTree_=it.Empty,this.pendingWriteTree_=new _t,this.tagToQueryMap_={},this.queryToTagMap_={}}return e.prototype.applyUserOverwrite=function(e,t,n,r){return this.pendingWriteTree_.addOverwrite(e,t,n,r),r?this.applyOperationToSyncPoints_(new at(tt.User,e,t)):[]},e.prototype.applyUserMerge=function(e,t,n){this.pendingWriteTree_.addMerge(e,t,n);var r=it.fromObject(t);return this.applyOperationToSyncPoints_(new st(tt.User,e,r))},e.prototype.ackUserWrite=function(e,t){void 0===t&&(t=!1);var n=this.pendingWriteTree_.getWrite(e);if(this.pendingWriteTree_.removeWrite(e)){var r=it.Empty;return null!=n.snap?r=r.set(q.Empty,!0):i.forEach(n.children,function(e,t){r=r.set(new q(e),t)}),this.applyOperationToSyncPoints_(new nt(n.path,r,t))}return[]},e.prototype.applyServerOverwrite=function(e,t){return this.applyOperationToSyncPoints_(new at(tt.Server,e,t))},e.prototype.applyServerMerge=function(e,t){var n=it.fromObject(t);return this.applyOperationToSyncPoints_(new st(tt.Server,e,n))},e.prototype.applyListenComplete=function(e){return this.applyOperationToSyncPoints_(new ot(tt.Server,e))},e.prototype.applyTaggedQueryOverwrite=function(t,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,u=q.relativePath(a,t),c=new at(tt.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},e.prototype.applyTaggedQueryMerge=function(t,n,r){var i=this.queryKeyForTag_(r);if(i){var o=e.parseQueryKey_(i),a=o.path,s=o.queryId,u=q.relativePath(a,t),c=it.fromObject(n),l=new st(tt.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},e.prototype.applyTaggedListenComplete=function(t,n){var r=this.queryKeyForTag_(n);if(r){var i=e.parseQueryKey_(r),o=i.path,a=i.queryId,s=q.relativePath(o,t),u=new ot(tt.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},e.prototype.addEventRegistration=function(t,n){var r=t.path,o=null,a=!1;this.syncPointTree_.foreachOnPath(r,function(e,t){var n=q.relativePath(e,r);o=o||t.getCompleteServerCache(n),a=a||t.hasCompleteView()});var s,u=this.syncPointTree_.get(r);(u?(a=a||u.hasCompleteView(),o=o||u.getCompleteServerCache(q.Empty)):(u=new bt,this.syncPointTree_=this.syncPointTree_.set(r,u)),null!=o)?s=!0:(s=!1,o=Le.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild(function(e,t){var n=t.getCompleteServerCache(q.Empty);n&&(o=o.updateImmediateChild(e,n))}));var c=u.viewExistsForQuery(t);if(!c&&!t.getQueryParams().loadsAllData()){var l=e.makeQueryKey_(t);i.assert(!(l in this.queryToTagMap_),"View does not exist, but we have a tag");var h=e.getNextQueryTag_();this.queryToTagMap_[l]=h,this.tagToQueryMap_["_"+h]=l}var f=this.pendingWriteTree_.childWrites(r),p=u.addEventRegistration(t,n,f,o,s);if(!c&&!a){var d=u.viewForQuery(t);p=p.concat(this.setupListener_(t,d))}return p},e.prototype.removeEventRegistration=function(t,n,r){var i=this,o=t.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===t.queryIdentifier()||a.viewExistsForQuery(t))){var u=a.removeEventRegistration(t,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex(function(e){return e.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(e,t){return t.hasCompleteView()});if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var m=p[d],g=m.getQuery(),y=this.createListenerForView_(m);this.listenProvider_.startListening(e.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}if(!h&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(e.queryForListening_(t),null)}else c.forEach(function(t){var n=i.queryToTagMap_[e.makeQueryKey_(t)];i.listenProvider_.stopListening(e.queryForListening_(t),n)});this.removeTags_(c)}return s},e.prototype.calcCompleteEventCache=function(e,t){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(e,function(t,n){var r=q.relativePath(t,e),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(e,r,t,!0)},e.prototype.collectDistinctViewsForSubTree_=function(e){return e.fold(function(e,t,n){if(t&&t.hasCompleteView())return[t.getCompleteView()];var r=[];return t&&(r=t.getQueryViews()),i.forEach(n,function(e,t){r=r.concat(t)}),r})},e.prototype.removeTags_=function(t){for(var n=0;n<t.length;++n){var r=t[n];if(!r.getQueryParams().loadsAllData()){var i=e.makeQueryKey_(r),o=this.queryToTagMap_[i];delete this.queryToTagMap_[i],delete this.tagToQueryMap_["_"+o]}}},e.queryForListening_=function(e){return e.getQueryParams().loadsAllData()&&!e.getQueryParams().isDefault()?e.getRef():e},e.prototype.setupListener_=function(t,n){var r=t.path,o=this.tagForQuery_(t),a=this.createListenerForView_(n),s=this.listenProvider_.startListening(e.queryForListening_(t),o,a.hashFn,a.onComplete),u=this.syncPointTree_.subtree(r);if(o)i.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(e,t,n){if(!e.isEmpty()&&t&&t.hasCompleteView())return[t.getCompleteView().getQuery()];var r=[];return t&&(r=r.concat(t.getQueryViews().map(function(e){return e.getQuery()}))),i.forEach(n,function(e,t){r=r.concat(t)}),r}),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(e.queryForListening_(h),this.tagForQuery_(h))}return s},e.prototype.createListenerForView_=function(e){var t=this,n=e.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(e.getServerCache()||Le.EMPTY_NODE).hash()},onComplete:function(e){if("ok"===e)return r?t.applyTaggedListenComplete(n.path,r):t.applyListenComplete(n.path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==e?n="Client doesn't have permission to access the desired data.":"unavailable"==e&&(n="The service is unavailable");var r=new Error(e+" at "+t.path.toString()+": "+n);return r.code=e.toUpperCase(),r}(e,n);return t.removeEventRegistration(n,null,i)}}},e.makeQueryKey_=function(e){return e.path.toString()+"$"+e.queryIdentifier()},e.parseQueryKey_=function(e){var t=e.indexOf("$");return i.assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new q(e.substr(0,t))}},e.prototype.queryKeyForTag_=function(e){return this.tagToQueryMap_["_"+e]},e.prototype.tagForQuery_=function(t){var n=e.makeQueryKey_(t);return i.safeGet(this.queryToTagMap_,n)},e.getNextQueryTag_=function(){return e.nextQueryTag_++},e.prototype.applyTaggedOperation_=function(e,t){var n=this.syncPointTree_.get(e);i.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(e);return n.applyOperation(t,r,null)},e.prototype.applyOperationToSyncPoints_=function(e){return this.applyOperationHelper_(e,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(q.Empty))},e.prototype.applyOperationHelper_=function(e,t,n,r){if(e.path.isEmpty())return this.applyOperationDescendantsHelper_(e,t,n,r);var i=t.get(q.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(q.Empty));var o=[],a=e.path.getFront(),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(i.applyOperation(e,r,n))),o},e.prototype.applyOperationDescendantsHelper_=function(e,t,n,r){var i=this,o=t.get(q.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(q.Empty));var a=[];return t.children.inorderTraversal(function(t,o){var s=n?n.getImmediateChild(t):null,u=r.child(t),c=e.operationForChild(t);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))}),o&&(a=a.concat(o.applyOperation(e,r,n))),a},e.nextQueryTag_=1,e}(),St=function(){function e(){this.rootNode_=Le.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}(),kt=function(){function e(e){this.app_=e}return e.prototype.getToken=function(e){return this.app_.INTERNAL.getToken(e).then(null,function(e){return e&&"auth/token-not-initialized"===e.code?(w("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})},e.prototype.addTokenChangeListener=function(e){this.app_.INTERNAL.addAuthTokenListener(e)},e.prototype.removeTokenChangeListener=function(e){this.app_.INTERNAL.removeAuthTokenListener(e)},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',S(e)},e}(),Ct=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),i.contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return i.deepCopy(this.counters_)},e}(),xt=function(){function e(){}return e.getCollection=function(e){var t=e.toString();return this.collections_[t]||(this.collections_[t]=new Ct),this.collections_[t]},e.getOrCreateReporter=function(e,t){var n=e.toString();return this.reporters_[n]||(this.reporters_[n]=t()),this.reporters_[n]},e.collections_={},e.reporters_={},e}(),It=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=i.clone(e);return this.last_&&i.forEach(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t},e}(),Nt=1e4,At=3e4,Dt=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new It(e);var n=Nt+(At-Nt)*Math.random();U(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.includeStat=function(e){this.statsToReport_[e]=!0},e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;i.forEach(t,function(t,o){o>0&&i.contains(e.statsToReport_,t)&&(n[t]=o,r=!0)}),r&&this.server_.reportStats(n),U(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}(),Ot=function(){function e(){this.eventLists_=[],this.recursionDepth_=0}return e.prototype.queueEvents=function(e){for(var t=null,n=0;n<e.length;n++){var r=e[n],i=r.getPath();null===t||i.equals(t.getPath())||(this.eventLists_.push(t),t=null),null===t&&(t=new Pt(i)),t.add(r)}t&&this.eventLists_.push(t)},e.prototype.raiseEventsAtPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.equals(e)})},e.prototype.raiseEventsForChangedPath=function(e,t){this.queueEvents(t),this.raiseQueuedEventsMatchingPredicate_(function(t){return t.contains(e)||e.contains(t)})},e.prototype.raiseQueuedEventsMatchingPredicate_=function(e){this.recursionDepth_++;for(var t=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)e(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):t=!1}t&&(this.eventLists_=[]),this.recursionDepth_--},e}(),Pt=function(){function e(e){this.path_=e,this.events_=[]}return e.prototype.add=function(e){this.events_.push(e)},e.prototype.raise=function(){for(var e=0;e<this.events_.length;e++){var t=this.events_[e];if(null!==t){this.events_[e]=null;var n=t.getEventRunner();y&&w("event: "+t.toString()),F(n)}}},e.prototype.getPath=function(){return this.path_},e}(),Rt=function(){function e(e){this.allowedEvents_=e,this.listeners_={},i.assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=this.listeners_[e].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){i.assert(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)},e}(),Lt=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",t="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))},!1),r}return a.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return i.assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(Rt),Mt=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||i.isMobileCordova()||(window.addEventListener("online",function(){t.online_||(t.online_=!0,t.trigger("online",!0))},!1),window.addEventListener("offline",function(){t.online_&&(t.online_=!1,t.trigger("online",!1))},!1)),t}return a.__extends(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return i.assert("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(Rt),Ft=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&F(function(){n.onMessage_(e[t])})},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),jt="pLPCommand",Ut="pRTLPCB",qt=function(){function e(e,t,n,r){this.connId=e,this.repoInfo=t,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=_(e),this.stats_=xt.getCollection(t),this.urlFn=function(e){return t.connectionURL(V,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Ft(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(i.isNodeSdk()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new Bt(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=e[1],o=e[2];if(n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==r)n.id=i,n.password=o;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=e[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(r,i)},function(){n.onClosed_()},n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),!i.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return e.forceAllow_||!e.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI)&&!i.isNodeSdk()},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=i.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=i.base64Encode(t),r=O(n,1840),o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!i.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=i.stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),Bt=function(){function e(t,n,r,o){if(this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Xe,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,i.isNodeSdk())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=d(),window[jt+this.uniqueCallbackIdentifier]=t,window[Ut+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(e){w("frame writing exception"),e.stack&&w(e.stack),w(e)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||w("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var t=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)},Math.floor(0))),i.isNodeSdk()&&this.myID){var n={disconn:"t"};n.id=this.myID,n.pw=this.myPW;var r=this.urlFn(n);e.nodeRestRequest(r)}var o=this.onDisconnect;o&&(this.onDisconnect=null,o())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t,1);var r=function(){n.outstandingRequests.remove(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,function(){clearTimeout(i),r()})},e.prototype.addTag=function(e,t){var n=this;i.isNodeSdk()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){w("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(e){}},Math.floor(1))},e}(),Vt=null;"undefined"!=typeof MozWebSocket?Vt=MozWebSocket:"undefined"!=typeof WebSocket&&(Vt=WebSocket);var Wt=function(){function e(t,n,r,i){this.connId=t,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=_(this.connId),this.stats_=xt.getCollection(n),this.connURL=e.connectionURL_(n,r,i)}return e.connectionURL_=function(e,t,n){var r={v:"5"};return!i.isNodeSdk()&&"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),t&&(r.s=t),n&&(r.ls=n),e.connectionURL("websocket",r)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h.set("previous_websocket_failure",!0);try{if(i.isNodeSdk()){var o=i.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/5/"+s.SDK_VERSION+"/"+r.platform+"/"+o}},u=r.env,c=0==this.connURL.indexOf("wss://")?u.HTTPS_PROXY||u.https_proxy:u.HTTP_PROXY||u.http_proxy;c&&(a.proxy={origin:c}),this.mySock=new Vt(this.connURL,[],a)}else this.mySock=new Vt(this.connURL)}catch(e){this.log_("Error instantiating WebSocket.");var l=e.message||e.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==Vt&&!e.forceDisallow_},e.previouslyFailed=function(){return h.isInMemoryStorage||!0===h.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){h.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length==this.totalFrames){var t=this.frames.join("");this.frames=null;var n=i.jsonEval(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if(i.assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=i.stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=O(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),zt=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[qt,Wt]},enumerable:!0,configurable:!0}),e.prototype.initTransports_=function(t){var n=Wt&&Wt.isAvailable(),r=n&&!Wt.previouslyFailed();if(t.webSocketOnly&&(n||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Wt];else{var i=this.transports_=[];P(e.ALL_TRANSPORTS,function(e,t){t&&t.isAvailable()&&i.push(t)})}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),Kt=function(){function e(e,t,n,r,i,o,a){this.id=e,this.repoInfo_=t,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=_("c:"+this.id+":"),this.transportManager_=new zt(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,r)},Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=U(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!=t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=A("t",e),n=A("d",e);if("c"==t)this.onSecondaryControl_(n);else{if("d"!=t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=A("t",e),n=A("d",e);"c"==t?this.onControl_(n):"d"==t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=A("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?E("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),U(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.updateHost(e),1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):U(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),Ht=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),Qt=1e3,Gt=3e5,Xt=function(e){function t(n,r,o,a,s,u){var c=e.call(this)||this;if(c.repoInfo_=n,c.onDataUpdate_=r,c.onConnectStatus_=o,c.onServerInfoUpdate_=a,c.authTokenProvider_=s,c.authOverride_=u,c.id=t.nextPersistentConnectionId_++,c.log_=_("p:"+c.id+":"),c.interruptReasons_={},c.listens_={},c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=Qt,c.maxReconnectDelay_=Gt,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!i.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),Lt.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&Mt.getInstance().on("online",c.onOnline_,c),c}return a.__extends(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,o={r:r,a:e,b:t};this.log_(i.stringify(o)),i.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),n&&(this.requestCBHash_[r]=n)},t.prototype.listen=function(e,t,n,r){var o=e.queryIdentifier(),a=e.path.toString();this.log_("Listen called for "+a+" "+o),this.listens_[a]=this.listens_[a]||{},i.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),i.assert(!this.listens_[a][o],"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens_[a][o]=s,this.connected_&&this.sendListen_(s)},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r.queryObject(),a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens_[i]&&n.listens_[i][o])===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))})},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&i.contains(e,"w")){var n=i.safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t.getQueryParams().getIndex().toString()+'"',o=t.path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+o+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||i.isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=i.isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))})}},t.prototype.unlisten=function(e,t){var n=e.path.toString(),r=e.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),i.assert(e.getQueryParams().isDefault()||!e.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e.queryObject(),t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)})},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}})}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+i.stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):E("Unrecognized action received from server: "+i.stringify(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;i.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qt,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Qt,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Qt),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,a=this,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())};this.realtime_={close:l,sendRequest:function(e){i.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)}};var h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(h).then(function(t){u?w("getToken() completed but was canceled"):(w("getToken() completed. Creating connection."),a.authToken_=t&&t.accessToken,c=new Kt(o,a.repoInfo_,e,n,r,function(e){S(e+" ("+a.repoInfo_.toString()+")"),a.interrupt("server_kill")},s))}).then(null,function(e){a.log_("Failed to get token: "+e),u||(i.CONSTANTS.NODE_ADMIN&&S(e),l())})}},t.prototype.interrupt=function(e){w("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){w("Resuming connection for reason: "+e),delete this.interruptReasons_[e],i.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=Qt,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map(function(e){return D(e)}).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new q(e).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][t],delete this.listens_[r][t],0===i.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},t.prototype.onAuthRevoked_=function(e,t){w("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e=this;this.tryAuth(),i.forEach(this.listens_,function(t,n){i.forEach(n,function(t,n){e.sendListen_(n)})});for(var t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},t.prototype.sendConnectStats_=function(){var e={},t="js";i.CONSTANTS.NODE_ADMIN?t="admin_node":i.CONSTANTS.NODE_CLIENT&&(t="node"),e["sdk."+t+"."+s.SDK_VERSION.replace(/\./g,"-")]=1,i.isMobileCordova()?e["framework.cordova"]=1:i.isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=Mt.getInstance().currentlyOnline();return i.isEmpty(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(Ht),Yt=function(e){function t(t,n,r){var i=e.call(this)||this;return i.repoInfo_=t,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=_("p:rest:"),i.listens_={},i}return a.__extends(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(i.assert(e.getQueryParams().isDefault(),"should have a tag if it's not a default query."),e.path.toString())},t.prototype.listen=function(e,n,r,o){var a=this,s=e.path.toString();this.log_("Listen called for "+s+" "+e.queryIdentifier());var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=e.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",l,function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),i.safeGet(a.listens_,u)===c)&&o(e?401==e?"permission_denied":"rest_error:"+e:"ok",null)})},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;void 0===t&&(t={}),t.format="export",this.authTokenProvider_.getToken(!1).then(function(o){var a=o&&o.accessToken;a&&(t.auth=a);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?"+i.querystring(t);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=i.jsonEval(u.responseText)}catch(e){S("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&S("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()})},t}(Ht),$t=function(){function e(e,t,n){var r=this;this.repoInfo_=e,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ot,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Ye,this.persistentConnection_=null;var o=new kt(n);if(this.stats_=xt.getCollection(e),t||j())this.server_=new Yt(this.repoInfo_,this.onDataUpdate_.bind(this),o),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=n.options.databaseAuthVariableOverride;if(void 0!==a&&null!==a){if("object"!=typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{i.stringify(a)}catch(e){throw new Error("Invalid authOverride provided: "+e)}}this.persistentConnection_=new Xt(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),o,a),this.server_=this.persistentConnection_}o.addTokenChangeListener(function(e){r.server_.refreshAuthToken(e)}),this.statsReporter_=xt.getOrCreateReporter(e,function(){return new Dt(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new St,this.infoSyncTree_=new Tt({startListening:function(e,t,n,i){var o=[],a=r.infoData_.getNode(e.path);return a.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(e.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Tt({startListening:function(e,t,n,i){return r.server_.listen(e,n,t,function(t,n){var o=i(t,n);r.eventQueue_.raiseEventsForChangedPath(e.path,o)}),[]},stopListening:function(e,t){r.server_.unlisten(e,t)}})}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e.prototype.name=function(){return this.repoInfo_.namespace},e.prototype.serverTime=function(){var e=this.infoData_.getNode(new q(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e},e.prototype.generateServerValues=function(){return function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e}({timestamp:this.serverTime()})},e.prototype.onDataUpdate_=function(e,t,n,r){this.dataUpdateCount++;var o=new q(e);t=this.interceptServerDataCallback_?this.interceptServerDataCallback_(e,t):t;var a=[];if(r)if(n){var s=i.map(t,function(e){return je(e)});a=this.serverSyncTree_.applyTaggedQueryMerge(o,s,r)}else{var u=je(t);a=this.serverSyncTree_.applyTaggedQueryOverwrite(o,u,r)}else if(n){var c=i.map(t,function(e){return je(e)});a=this.serverSyncTree_.applyServerMerge(o,c)}else{var l=je(t);a=this.serverSyncTree_.applyServerOverwrite(o,l)}var h=o;a.length>0&&(h=this.rerunTransactions_(o)),this.eventQueue_.raiseEventsForChangedPath(h,a)},e.prototype.interceptServerData_=function(e){this.interceptServerDataCallback_=e},e.prototype.onConnectStatus_=function(e){this.updateInfo_("connected",e),!1===e&&this.runOnDisconnectEvents_()},e.prototype.onServerInfoUpdate_=function(e){var t=this;P(e,function(e,n){t.updateInfo_(n,e)})},e.prototype.updateInfo_=function(e,t){var n=new q("/.info/"+e),r=je(t);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},e.prototype.getNextWriteId_=function(){return this.nextWriteId_++},e.prototype.setWithPriority=function(e,t,n,r){var i=this;this.log_("set",{path:e.toString(),value:t,priority:n});var o=this.generateServerValues(),a=je(t,n),s=Je(a,o),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(e,s,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(e.toString(),a.val(!0),function(t,n){var o="ok"===t;o||S("set at "+e+" failed: "+t);var a=i.serverSyncTree_.ackUserWrite(u,!o);i.eventQueue_.raiseEventsForChangedPath(e,a),i.callOnCompleteCallback(r,t,n)});var l=this.abortTransactions_(e);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},e.prototype.update=function(e,t,n){var r=this;this.log_("update",{path:e.toString(),value:t});var o=!0,a=this.generateServerValues(),s={};if(i.forEach(t,function(e,t){o=!1;var n=je(t);s[e]=Je(n,a)}),o)w("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserMerge(e,s,u);this.eventQueue_.queueEvents(c),this.server_.merge(e.toString(),t,function(t,i){var o="ok"===t;o||S("update at "+e+" failed: "+t);var a=r.serverSyncTree_.ackUserWrite(u,!o),s=a.length>0?r.rerunTransactions_(e):e;r.eventQueue_.raiseEventsForChangedPath(s,a),r.callOnCompleteCallback(n,t,i)}),i.forEach(t,function(t){var n=r.abortTransactions_(e.child(t));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(e,[])}},e.prototype.runOnDisconnectEvents_=function(){var e=this;this.log_("onDisconnectEvents");var t=this.generateServerValues(),n=[];(function(e,t){var n=new Ye;return e.forEachTree(new q(""),function(e,r){n.remember(e,Je(r,t))}),n})(this.onDisconnect_,t).forEachTree(q.Empty,function(t,r){n=n.concat(e.serverSyncTree_.applyServerOverwrite(t,r));var i=e.abortTransactions_(t);e.rerunTransactions_(i)}),this.onDisconnect_=new Ye,this.eventQueue_.raiseEventsForChangedPath(q.Empty,n)},e.prototype.onDisconnectCancel=function(e,t){var n=this;this.server_.onDisconnectCancel(e.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(e),n.callOnCompleteCallback(t,r,i)})},e.prototype.onDisconnectSet=function(e,t,n){var r=this,i=je(t);this.server_.onDisconnectPut(e.toString(),i.val(!0),function(t,o){"ok"===t&&r.onDisconnect_.remember(e,i),r.callOnCompleteCallback(n,t,o)})},e.prototype.onDisconnectSetWithPriority=function(e,t,n,r){var i=this,o=je(t,n);this.server_.onDisconnectPut(e.toString(),o.val(!0),function(t,n){"ok"===t&&i.onDisconnect_.remember(e,o),i.callOnCompleteCallback(r,t,n)})},e.prototype.onDisconnectUpdate=function(e,t,n){var r=this;if(i.isEmpty(t))return w("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(e.toString(),t,function(o,a){"ok"===o&&i.forEach(t,function(t,n){var i=je(n);r.onDisconnect_.remember(e.child(t),i)}),r.callOnCompleteCallback(n,o,a)})},e.prototype.addEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.addEventRegistration(e,t):this.serverSyncTree_.addEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.removeEventCallbackForQuery=function(e,t){var n;n=".info"===e.path.getFront()?this.infoSyncTree_.removeEventRegistration(e,t):this.serverSyncTree_.removeEventRegistration(e,t),this.eventQueue_.raiseEventsAtPath(e.path,n)},e.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},e.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},e.prototype.stats=function(e){if(void 0===e&&(e=!1),"undefined"!=typeof console){var t;e?(this.statsListener_||(this.statsListener_=new It(this.stats_)),t=this.statsListener_.get()):t=this.stats_.get();var n=Object.keys(t).reduce(function(e,t){return Math.max(t.length,e)},0);i.forEach(t,function(e,t){for(var r=e.length;r<n+2;r++)e+=" ";console.log(e+t)})}},e.prototype.statsIncrementCounter=function(e){this.stats_.incrementCounter(e),this.statsReporter_.includeStat(e)},e.prototype.log_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),w.apply(void 0,[n].concat(e))},e.prototype.callOnCompleteCallback=function(e,t,n){e&&F(function(){if("ok"==t)e(null);else{var r=(t||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,e(o)}})},Object.defineProperty(e.prototype,"database",{get:function(){return this.__database||(this.__database=new un(this))},enumerable:!0,configurable:!0}),e}(),Jt=function(){function e(t){this.indexedFilter_=new ht(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new he(t,n))||(n=Le.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=Le.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(Le.EMPTY_NODE);var i=this;return t.forEachChild(Te,function(e,t){i.matches(new he(e,t))||(r=r.updateImmediateChild(e,Le.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),Zt=function(){function e(e){this.rangedFilter_=new Jt(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new he(t,n))||(n=Le.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=Le.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=Le.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(Le.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){a=i.getNext();!h&&c(s,a)<=0&&(h=!0),h&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,Le.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,o){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;i.assert(u.numChildren()==this.limit_,"");var c=new he(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var f=u.getImmediateChild(t),p=r.getChildAfterChild(this.index_,l,this.reverse_);null!=p&&(p.name==t||u.hasChild(p.name));)p=r.getChildAfterChild(this.index_,p,this.reverse_);var d=null==p?1:a(p,c);if(h&&!n.isEmpty()&&d>=0)return null!=o&&o.trackChildChange(lt.childChangedChange(t,n,f)),u.updateImmediateChild(t,n);null!=o&&o.trackChildChange(lt.childRemovedChange(t,f));var m=u.updateImmediateChild(t,Le.EMPTY_NODE);return null!=p&&this.rangedFilter_.matches(p)?(null!=o&&o.trackChildChange(lt.childAddedChange(p.name,p.node)),m.updateImmediateChild(p.name,p.node)):m}return n.isEmpty()?e:h&&a(l,c)>=0?(null!=o&&(o.trackChildChange(lt.childRemovedChange(l.name,l.node)),o.trackChildChange(lt.childAddedChange(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,Le.EMPTY_NODE)):e},e}(),en=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Te}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},e.prototype.getIndexStartValue=function(){return i.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return i.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:C},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return i.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return i.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:x},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return i.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.copy_=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e.prototype.limit=function(e){var t=this.copy_();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="",t},e.prototype.limitToFirst=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},e.prototype.limitToLast=function(t){var n=this.copy_();return n.limitSet_=!0,n.limit_=t,n.viewFrom_=e.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},e.prototype.startAt=function(e,t){var n=this.copy_();return n.startSet_=!0,void 0===e&&(e=null),n.indexStartValue_=e,null!=t?(n.startNameSet_=!0,n.indexStartName_=t):(n.startNameSet_=!1,n.indexStartName_=""),n},e.prototype.endAt=function(e,t){var n=this.copy_();return n.endSet_=!0,void 0===e&&(e=null),n.indexEndValue_=e,void 0!==t?(n.endNameSet_=!0,n.indexEndName_=t):(n.endNameSet_=!1,n.indexEndName_=""),n},e.prototype.orderBy=function(e){var t=this.copy_();return t.index_=e,t},e.prototype.getQueryObject=function(){var t=e.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[t.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[t.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[t.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[t.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[t.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?t.VIEW_FROM_LEFT:t.VIEW_FROM_RIGHT),n[t.VIEW_FROM]=r}return this.index_!==Te&&(n[t.INDEX]=this.index_.toString()),n},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Te},e.prototype.getNodeFilter=function(){return this.loadsAllData()?new ht(this.getIndex()):this.hasLimit()?new Zt(this):new Jt(this)},e.prototype.toRestQueryStringParameters=function(){var t,n=e.REST_QUERY_CONSTANTS_,r={};return this.isDefault()?r:(this.index_===Te?t=n.PRIORITY_INDEX:this.index_===Be?t=n.VALUE_INDEX:this.index_===de?t=n.KEY_INDEX:(i.assert(this.index_ instanceof Ve,"Unrecognized index type!"),t=this.index_.toString()),r[n.ORDER_BY]=i.stringify(t),this.startSet_&&(r[n.START_AT]=i.stringify(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+i.stringify(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=i.stringify(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+i.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_),r)},e.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},e.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},e.DEFAULT=new e,e}(),tn=function(e){function t(t,n){if(!(t instanceof $t))throw new Error("new Reference() no longer supported - use app.database().");return e.call(this,t,n,en.DEFAULT,!1)||this}return a.__extends(t,e),t.prototype.getKey=function(){return i.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},t.prototype.child=function(e){return i.validateArgCount("Reference.child",1,1,arguments.length),"number"==typeof e?e=String(e):e instanceof q||(null===this.path.getFront()?function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),oe(e,t,n,r)}("Reference.child",1,e,!1):oe("Reference.child",1,e,!1)),new t(this.repo,this.path.child(e))},t.prototype.getParent=function(){i.validateArgCount("Reference.parent",0,0,arguments.length);var e=this.path.parent();return null===e?null:new t(this.repo,e)},t.prototype.getRoot=function(){i.validateArgCount("Reference.root",0,0,arguments.length);for(var e=this;null!==e.getParent();)e=e.getParent();return e},t.prototype.databaseProp=function(){return this.repo.database},t.prototype.set=function(e,t){i.validateArgCount("Reference.set",1,2,arguments.length),ae("Reference.set",this.path),Z("Reference.set",1,e,this.path,!1),i.validateCallback("Reference.set",2,t,!0);var n=new i.Deferred;return this.repo.setWithPriority(this.path,e,null,n.wrapCallback(t)),n.promise},t.prototype.update=function(e,t){if(i.validateArgCount("Reference.update",1,2,arguments.length),ae("Reference.update",this.path),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}te("Reference.update",1,e,this.path,!1),i.validateCallback("Reference.update",2,t,!0);var o=new i.Deferred;return this.repo.update(this.path,e,o.wrapCallback(t)),o.promise},t.prototype.setWithPriority=function(e,t,n){if(i.validateArgCount("Reference.setWithPriority",2,3,arguments.length),ae("Reference.setWithPriority",this.path),Z("Reference.setWithPriority",1,e,this.path,!1),ne("Reference.setWithPriority",2,t,!1),i.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new i.Deferred;return this.repo.setWithPriority(this.path,e,t,r.wrapCallback(n)),r.promise},t.prototype.remove=function(e){return i.validateArgCount("Reference.remove",0,1,arguments.length),ae("Reference.remove",this.path),i.validateCallback("Reference.remove",1,e,!0),this.set(null,e)},t.prototype.transaction=function(e,t,n){if(i.validateArgCount("Reference.transaction",1,3,arguments.length),ae("Reference.transaction",this.path),i.validateCallback("Reference.transaction",1,e,!1),i.validateCallback("Reference.transaction",2,t,!0),function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(i.errorPrefix(e,t,r)+"must be a boolean.")}("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new i.Deferred;"function"==typeof t&&r.promise.catch(function(){});return this.repo.startTransaction(this.path,e,function(e,n,i){e?r.reject(e):r.resolve(new ce(n,i)),"function"==typeof t&&t(e,n,i)},n),r.promise},t.prototype.setPriority=function(e,t){i.validateArgCount("Reference.setPriority",1,2,arguments.length),ae("Reference.setPriority",this.path),ne("Reference.setPriority",1,e,!1),i.validateCallback("Reference.setPriority",2,t,!0);var n=new i.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),e,null,n.wrapCallback(t)),n.promise},t.prototype.push=function(e,t){i.validateArgCount("Reference.push",0,2,arguments.length),ae("Reference.push",this.path),Z("Reference.push",1,e,this.path,!0),i.validateCallback("Reference.push",2,t,!0);var n,r=this.repo.serverTime(),o=le(r),a=this.child(o),s=this.child(o);return n=null!=e?a.set(e,t).then(function(){return s}):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"==typeof t&&n.catch(function(){}),a},t.prototype.onDisconnect=function(){return ae("Reference.onDisconnect",this.path),new ue(this.repo,this.path)},Object.defineProperty(t.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),t}(Ge);Ge.__referenceConstructor=tn,bt.__referenceConstructor=tn;var nn,rn=function(){return function(){this.children={},this.childCount=0,this.value=null}}(),on=function(){function e(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n=new rn),this.name_=e,this.parent_=t,this.node_=n}return e.prototype.subTree=function(t){for(var n,r=t instanceof q?t:new q(t),o=this;null!==(n=r.getFront());){o=new e(n,o,i.safeGet(o.node_.children,n)||new rn),r=r.popFront()}return o},e.prototype.getValue=function(){return this.node_.value},e.prototype.setValue=function(e){i.assert(void 0!==e,"Cannot set value to undefined"),this.node_.value=e,this.updateParents_()},e.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},e.prototype.hasChildren=function(){return this.node_.childCount>0},e.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},e.prototype.forEachChild=function(t){var n=this;i.forEach(this.node_.children,function(r,i){t(new e(r,n,i))})},e.prototype.forEachDescendant=function(e,t,n){t&&!n&&e(this),this.forEachChild(function(t){t.forEachDescendant(e,!0,n)}),t&&n&&e(this)},e.prototype.forEachAncestor=function(e,t){for(var n=t?this:this.parent();null!==n;){if(e(n))return!0;n=n.parent()}return!1},e.prototype.forEachImmediateDescendantWithValue=function(e){this.forEachChild(function(t){null!==t.getValue()?e(t):t.forEachImmediateDescendantWithValue(e)})},e.prototype.path=function(){return new q(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},e.prototype.name=function(){return this.name_},e.prototype.parent=function(){return this.parent_},e.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},e.prototype.updateChild_=function(e,t){var n=t.isEmpty(),r=i.contains(this.node_.children,e);n&&r?(delete this.node_.children[e],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[e]=t.node_,this.node_.childCount++,this.updateParents_())},e}();!function(e){e[e.RUN=0]="RUN",e[e.SENT=1]="SENT",e[e.COMPLETED=2]="COMPLETED",e[e.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",e[e.NEEDS_ABORT=4]="NEEDS_ABORT"}(nn||(nn={})),$t.MAX_TRANSACTION_RETRIES_=25,$t.prototype.transactions_init_=function(){this.transactionQueueTree_=new on},$t.prototype.startTransaction=function(e,t,n,r){this.log_("transaction on "+e);var o=function(){},a=new tn(this,e);a.on("value",o);var s={path:e,update:t,onComplete:n,status:null,order:d(),applyLocally:r,retryCount:0,unwatcher:function(){a.off("value",o)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=this.getLatestState_(e);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var l=new We(s.currentInputSnapshot,new tn(this,s.path),Te);s.onComplete(null,!1,l)}}else{ee("transaction failed: Data returned ",c,s.path),s.status=nn.RUN;var h=this.transactionQueueTree_.subTree(e),f=h.getValue()||[];f.push(s),h.setValue(f);var p=void 0;if("object"==typeof c&&null!==c&&i.contains(c,".priority"))p=i.safeGet(c,".priority"),i.assert(J(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else p=(this.serverSyncTree_.calcCompleteEventCache(e)||Le.EMPTY_NODE).getPriority().val();p=p;var m=this.generateServerValues(),g=je(c,p),y=Je(g,m);s.currentOutputSnapshotRaw=g,s.currentOutputSnapshotResolved=y,s.currentWriteId=this.getNextWriteId_();var v=this.serverSyncTree_.applyUserOverwrite(e,y,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(e,v),this.sendReadyTransactions_()}},$t.prototype.getLatestState_=function(e,t){return this.serverSyncTree_.calcCompleteEventCache(e,t)||Le.EMPTY_NODE},$t.prototype.sendReadyTransactions_=function(e){var t=this;if(void 0===e&&(e=this.transactionQueueTree_),e||this.pruneCompletedTransactionsBelowNode_(e),null!==e.getValue()){var n=this.buildTransactionQueue_(e);i.assert(n.length>0,"Sending zero length transaction queue"),n.every(function(e){return e.status===nn.RUN})&&this.sendTransactionQueue_(e.path(),n)}else e.hasChildren()&&e.forEachChild(function(e){t.sendReadyTransactions_(e)})},$t.prototype.sendTransactionQueue_=function(e,t){for(var n=this,r=t.map(function(e){return e.currentWriteId}),o=this.getLatestState_(e,r),a=o,s=o.hash(),u=0;u<t.length;u++){var c=t[u];i.assert(c.status===nn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=nn.SENT,c.retryCount++;var l=q.relativePath(e,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=e;this.server_.put(f.toString(),h,function(r){n.log_("transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<t.length;a++){if(t[a].status=nn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(t[a].currentWriteId)),t[a].onComplete){var s=t[a].currentOutputSnapshotResolved,u=new tn(n,t[a].path),c=new We(s,u,Te);o.push(t[a].onComplete.bind(null,null,!0,c))}t[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(e)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(e,i);for(a=0;a<o.length;a++)F(o[a])}else{if("datastale"===r)for(a=0;a<t.length;a++)t[a].status===nn.SENT_NEEDS_ABORT?t[a].status=nn.NEEDS_ABORT:t[a].status=nn.RUN;else{S("transaction at "+f.toString()+" failed: "+r);for(a=0;a<t.length;a++)t[a].status=nn.NEEDS_ABORT,t[a].abortReason=r}n.rerunTransactions_(e)}},s)},$t.prototype.rerunTransactions_=function(e){var t=this.getAncestorTransactionNode_(e),n=t.path(),r=this.buildTransactionQueue_(t);return this.rerunTransactionQueue_(r,n),n},$t.prototype.rerunTransactionQueue_=function(e,t){if(0!==e.length){for(var n=[],r=[],o=e.filter(function(e){return e.status===nn.RUN}).map(function(e){return e.currentWriteId}),a=0;a<e.length;a++){var s=e[a],u=q.relativePath(t,s.path),c=!1,l=void 0;if(i.assert(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===nn.NEEDS_ABORT)c=!0,l=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===nn.RUN)if(s.retryCount>=$t.MAX_TRANSACTION_RETRIES_)c=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,o);s.currentInputSnapshot=h;var f=e[a].update(h.val());if(void 0!==f){ee("transaction failed: Data returned ",f,s.path);var p=je(f);"object"==typeof f&&null!=f&&i.contains(f,".priority")||(p=p.updatePriority(h.getPriority()));var d=s.currentWriteId,m=this.generateServerValues(),g=Je(p,m);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(d),1),r=(r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,g,s.currentWriteId,s.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(d,!0))}else c=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(t,r),r=[],c&&(e[a].status=nn.COMPLETED,function(e){setTimeout(e,Math.floor(0))}(e[a].unwatcher),e[a].onComplete))if("nodata"===l){var y=new tn(this,e[a].path),v=e[a].currentInputSnapshot,b=new We(v,y,Te);n.push(e[a].onComplete.bind(null,null,!1,b))}else n.push(e[a].onComplete.bind(null,new Error(l),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(a=0;a<n.length;a++)F(n[a]);this.sendReadyTransactions_()}},$t.prototype.getAncestorTransactionNode_=function(e){for(var t,n=this.transactionQueueTree_;null!==(t=e.getFront())&&null===n.getValue();)n=n.subTree(t),e=e.popFront();return n},$t.prototype.buildTransactionQueue_=function(e){var t=[];return this.aggregateTransactionQueuesForNode_(e,t),t.sort(function(e,t){return e.order-t.order}),t},$t.prototype.aggregateTransactionQueuesForNode_=function(e,t){var n=this,r=e.getValue();if(null!==r)for(var i=0;i<r.length;i++)t.push(r[i]);e.forEachChild(function(e){n.aggregateTransactionQueuesForNode_(e,t)})},$t.prototype.pruneCompletedTransactionsBelowNode_=function(e){var t=this,n=e.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==nn.COMPLETED&&(n[r]=n[i],r++);n.length=r,e.setValue(n.length>0?n:null)}e.forEachChild(function(e){t.pruneCompletedTransactionsBelowNode_(e)})},$t.prototype.abortTransactions_=function(e){var t=this,n=this.getAncestorTransactionNode_(e).path(),r=this.transactionQueueTree_.subTree(e);return r.forEachAncestor(function(e){t.abortTransactionsOnNode_(e)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(e){t.abortTransactionsOnNode_(e)}),n},$t.prototype.abortTransactionsOnNode_=function(e){var t=e.getValue();if(null!==t){for(var n=[],r=[],o=-1,a=0;a<t.length;a++)if(t[a].status===nn.SENT_NEEDS_ABORT);else if(t[a].status===nn.SENT)i.assert(o===a-1,"All SENT items should be at beginning of queue."),o=a,t[a].status=nn.SENT_NEEDS_ABORT,t[a].abortReason="set";else if(i.assert(t[a].status===nn.RUN,"Unexpected transaction status in abort"),t[a].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(t[a].currentWriteId,!0)),t[a].onComplete){n.push(t[a].onComplete.bind(null,new Error("set"),!1,null))}-1===o?e.setValue(null):t.length=o+1,this.eventQueue_.raiseEventsForChangedPath(e.path(),r);for(a=0;a<n.length;a++)F(n[a])}};var an,sn=function(){function e(){this.repos_={},this.useRestClient_=!1}return e.getInstance=function(){return an||(an=new e),an},e.prototype.interrupt=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].interrupt()},e.prototype.resume=function(){for(var e in this.repos_)for(var t in this.repos_[e])this.repos_[e][t].resume()},e.prototype.databaseFromApp=function(e,t){var n=t||e.options.databaseURL;void 0===n&&T("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=H(n),i=r.repoInfo;return se("Invalid Firebase Database URL",1,r),r.path.isEmpty()||T("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,e).database},e.prototype.deleteRepo=function(e){var t=i.safeGet(this.repos_,e.app.name);t&&i.safeGet(t,e.repoInfo_.toURLString())===e||T("Database "+e.app.name+"("+e.repoInfo_+") has already been deleted."),e.interrupt(),delete t[e.repoInfo_.toURLString()]},e.prototype.createRepo=function(e,t){var n=i.safeGet(this.repos_,t.name);n||(n={},this.repos_[t.name]=n);var r=i.safeGet(n,e.toURLString());return r&&T("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new $t(e,this.useRestClient_,t),n[e.toURLString()]=r,r},e.prototype.forceRestClient=function(e){this.useRestClient_=e},e}(),un=function(){function e(e){this.repo_=e,e instanceof $t||T("Don't call new Database() directly - please use firebase.database()."),this.root_=new tn(e,q.Empty),this.INTERNAL=new cn(this)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),e.prototype.ref=function(e){return this.checkDeleted_("ref"),i.validateArgCount("database.ref",0,1,arguments.length),e instanceof tn?this.refFromURL(e.toString()):void 0!==e?this.root_.child(e):this.root_},e.prototype.refFromURL=function(e){var t="database.refFromURL";this.checkDeleted_(t),i.validateArgCount(t,1,1,arguments.length);var n=H(e);se(t,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&T(t+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},e.prototype.checkDeleted_=function(e){null===this.repo_&&T("Cannot call "+e+" on a deleted database.")},e.prototype.goOffline=function(){i.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},e.prototype.goOnline=function(){i.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},e.ServerValue={TIMESTAMP:{".sv":"timestamp"}},e}(),cn=function(){function e(e){this.database=e}return e.prototype.delete=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return this.database.checkDeleted_("delete"),sn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},e}(),ln=Object.freeze({forceLongPolling:function(){Wt.forceDisallow(),qt.forceAllow()},forceWebSockets:function(){qt.forceDisallow()},isWebSocketsAvailable:function(){return Wt.isAvailable()},setSecurityDebugCallback:function(e,t){e.repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){e.repo.stats(t)},statsIncrementCounter:function(e,t){e.repo.statsIncrementCounter(t)},dataUpdateCount:function(e){return e.repo.dataUpdateCount},interceptServerData:function(e,t){return e.repo.interceptServerData_(t)}}),hn=Xt;Xt.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Xt.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var fn=Kt,pn=W,dn=Object.freeze({DataConnection:hn,RealTimeConnection:fn,hijackHash:function(e){var t=Xt.prototype.put;return Xt.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Xt.prototype.put=t}},ConnectionTarget:pn,queryIdentifier:function(e){return e.queryIdentifier()},listens:function(e){return e.repo.persistentConnection_.listens_},forceRestClient:function(e){sn.getInstance().forceRestClient(e)}}),mn=un.ServerValue;function gn(t){var n=t.INTERNAL.registerService("database",function(e,t,n){return sn.getInstance().databaseFromApp(e,n)},{Reference:tn,Query:Ge,Database:un,enableLogging:b,INTERNAL:ln,ServerValue:mn,TEST_ACCESS:dn},null,!0);i.isNodeSdk()&&(e.exports=n)}gn(s),t.registerDatabase=gn,t.Database=un,t.Query=Ge,t.Reference=tn,t.enableLogging=b,t.ServerValue=mn,t.DataSnapshot=We,t.OnDisconnect=ue}).call(this,n(11))},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return i}),n.d(t,"__assign",function(){return o}),n.d(t,"__rest",function(){return a}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return u}),n.d(t,"__metadata",function(){return c}),n.d(t,"__awaiter",function(){return l}),n.d(t,"__generator",function(){return h}),n.d(t,"__exportStar",function(){return f}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return d}),n.d(t,"__spread",function(){return m}),n.d(t,"__await",function(){return g}),n.d(t,"__asyncGenerator",function(){return y}),n.d(t,"__asyncDelegator",function(){return v}),n.d(t,"__asyncValues",function(){return b}),n.d(t,"__makeTemplateObject",function(){return w}),n.d(t,"__importStar",function(){return _}),n.d(t,"__importDefault",function(){return E});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{!function(e){e.value instanceof g?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(e){l(o[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){e[r]&&(t[r]=function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:i?i(t):t})}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):p(e)}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(1)),o=n(22),a=n(59),s=n(60),u=i.SDK_VERSION,c=new o.Logger("@firebase/firestore");function l(){return c.logLevel===o.LogLevel.DEBUG?r.DEBUG:c.logLevel===o.LogLevel.SILENT?r.SILENT:r.ERROR}function h(e){switch(e){case r.DEBUG:c.logLevel=o.LogLevel.DEBUG;break;case r.ERROR:c.logLevel=o.LogLevel.ERROR;break;case r.SILENT:c.logLevel=o.LogLevel.SILENT;break;default:c.error("Firestore ("+u+"): Invalid value passed to `setLogLevel`")}}function f(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(c.logLevel<=o.LogLevel.DEBUG){var i=n.map(d);c.debug.apply(c,["Firestore ("+u+") ["+e+"]: "+t].concat(i))}}function p(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(c.logLevel<=o.LogLevel.ERROR){var r=t.map(d);c.error.apply(c,["Firestore ("+u+"): "+e].concat(r))}}function d(e){if("string"==typeof e)return e;var t=y.getPlatform();try{return t.formatJSON(e)}catch(t){return e}}function m(e){var t="FIRESTORE ("+u+") INTERNAL ASSERTION FAILED: "+e;throw p(t),new Error(t)}function g(e,t){e||m(t)}!function(e){e[e.DEBUG=0]="DEBUG",e[e.ERROR=1]="ERROR",e[e.SILENT=2]="SILENT"}(r||(r={}));var y=function(){function e(){}return e.setPlatform=function(t){e.platform&&m("Platform already defined"),e.platform=t},e.getPlatform=function(){return e.platform||m("Platform not set"),e.platform},e}();function v(){return y.getPlatform().emptyByteString}var b={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},w=function(e){function t(t,n){var r=e.call(this,n)||this;return r.code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return a.__extends(t,e),t}(Error);function _(e,t){function n(){var e="This constructor is private.";throw t&&(e+=" ",e+=t),new w(b.INVALID_ARGUMENT,e)}for(var r in n.prototype=e.prototype,e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n}function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function T(e,t){return void 0!==e?e:t}function S(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Number(n);isNaN(r)||t(r,e[n])}}function k(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function C(e){for(var t in g(null!=e&&"object"==typeof e,"isEmpty() expects object parameter."),e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function x(e,t,n){if(t.length!==n)throw new w(b.INVALID_ARGUMENT,"Function "+e+"() requires "+W(n,"argument")+", but was called with "+W(t.length,"argument")+".")}function I(e,t,n){if(t.length<n)throw new w(b.INVALID_ARGUMENT,"Function "+e+"() requires at least "+W(n,"argument")+", but was called with "+W(t.length,"argument")+".")}function N(e,t,n,r){if(t.length<n||t.length>r)throw new w(b.INVALID_ARGUMENT,"Function "+e+"() requires between "+n+" and "+r+" arguments, but was called with "+W(t.length,"argument")+".")}function A(e,t,n,r){M(e,t,V(n)+" argument",r)}function D(e,t,n,r){void 0!==r&&A(e,t,n,r)}function O(e,t,n,r){M(e,t,n+" option",r)}function P(e,t,n,r){void 0!==r&&O(e,t,n,r)}function R(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){if(!(r instanceof Array))throw new w(b.INVALID_ARGUMENT,"Function "+e+"() requires its "+t+" option to be an array, but it was: "+j(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new w(b.INVALID_ARGUMENT,"Function "+e+"() requires all "+t+" elements to be "+n+", but the value at index "+o+" was: "+j(r[o]))}(e,t,n,r,i)}function L(e,t,n,r,i){void 0!==r&&function(e,t,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(j(u))}var c=j(r);throw new w(b.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+e+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(e,0,n,r,i)}function M(e,t,n,r){if(!("object"===t?F(r):"non-empty string"===t?"string"==typeof r&&""!==r:typeof r===t)){var i=j(r);throw new w(b.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" to be of type "+t+", but it was: "+i)}}function F(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}function j(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":m("Unknown wrong type: "+typeof e)}function U(e,t,n){if(void 0===n)throw new w(b.INVALID_ARGUMENT,"Function "+e+"() requires a valid "+V(t)+" argument, but it was undefined.")}function q(e,t,n){k(t,function(t,r){if(n.indexOf(t)<0)throw new w(b.INVALID_ARGUMENT,"Unknown option '"+t+"' passed to function "+e+"(). Available options: "+n.join(", "))})}function B(e,t,n,r){var i=j(r);return new w(b.INVALID_ARGUMENT,"Function "+e+"() requires its "+V(n)+" argument to be a "+t+", but it was: "+i)}function V(e){switch(e){case 1:return"first";case 2:return"second";case 3:return"third";default:return e+"th"}}function W(e,t){return e+" "+t+(1===e?"":"s")}var z=function(){function e(){}return e.newId=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t="",n=0;n<20;n++)t+=e.charAt(Math.floor(Math.random()*e.length));return g(20===t.length,"Invalid auto ID: "+t),t},e}();function K(e,t){return e<t?-1:e>t?1:0}function H(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!e[n].isEqual(t[n]))return!1;return!0}function Q(){if("undefined"==typeof Uint8Array)throw new w(b.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function G(){if(!y.getPlatform().base64Available)throw new w(b.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var X,Y,$=function(){function e(e){G(),this._binaryString=e}return e.fromBase64String=function(t){x("Blob.fromBase64String",arguments,1),A("Blob.fromBase64String","string",1,t),G();try{return new e(y.getPlatform().atob(t))}catch(e){throw new w(b.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},e.fromUint8Array=function(t){if(x("Blob.fromUint8Array",arguments,1),Q(),!(t instanceof Uint8Array))throw B("Blob.fromUint8Array","Uint8Array",1,t);return new e(Array.prototype.map.call(t,function(e){return String.fromCharCode(e)}).join(""))},e.prototype.toBase64=function(){return x("Blob.toBase64",arguments,0),G(),y.getPlatform().btoa(this._binaryString)},e.prototype.toUint8Array=function(){x("Blob.toUint8Array",arguments,0),Q();for(var e=new Uint8Array(this._binaryString.length),t=0;t<this._binaryString.length;t++)e[t]=this._binaryString.charCodeAt(t);return e},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._binaryString===e._binaryString},e.prototype._compareTo=function(e){return K(this._binaryString,e._binaryString)},e}(),J=_($,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Z=function(){function e(e,t){if(x("GeoPoint",arguments,2),A("GeoPoint","number",1,e),A("GeoPoint","number",2,t),!isFinite(e)||e<-90||e>90)throw new w(b.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new w(b.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype._compareTo=function(e){return K(this._lat,e._lat)||K(this._long,e._long)},e}(),ee=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new w(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new w(b.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new w(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new w(b.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,1e6*(t-1e3*n))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?K(this.nanoseconds,e.nanoseconds):K(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e}(),te=function(){return function(e,t,n,r){this.databaseId=e,this.persistenceKey=t,this.host=n,this.ssl=r}}(),ne="(default)",re=function(){function e(e,t){this.projectId=e,this.database=t||ne}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return this.database===ne},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e.prototype.compareTo=function(e){return K(this.projectId,e.projectId)||K(this.database,e.database)},e}(),ie=function(){function e(e,t,n){this.init(e,t,n)}return e.prototype.init=function(e,t,n){void 0===t?t=0:t>e.length&&m("offset "+t+" out of range "+e.length),void 0===n?n=e.length-t:n>e.length-t&&m("length "+n+" out of range "+(e.length-t)),this.segments=e,this.offset=t,this.len=n},e.prototype.construct=function(e,t,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(e,t,n),r},Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):"string"==typeof t?n.push(t):m("Unknown parameter type for Path.child(): "+t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,g(this.length>=e,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return g(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return g(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},e.prototype.lastSegment=function(){return g(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},e.prototype.get=function(e){return g(e<this.length,"Index out of range"),this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(e){if(e.indexOf("//")>=0)throw new w(b.INVALID_ARGUMENT,"Invalid path ("+e+"). Paths must not contain // in them.");return new t(e.split("/").filter(function(e){return e.length>0}))},t.EMPTY_PATH=new t([]),t}(ie),ae=/^[_a-zA-Z][_a-zA-Z0-9]*$/,se=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return a.__extends(t,e),t.isValidIdentifier=function(e){return ae.test(e)},t.prototype.canonicalString=function(){return this.toArray().map(function(e){return e=e.replace("\\","\\\\").replace("`","\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new w(b.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new w(b.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new w(b.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new w(b.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.EMPTY_PATH=new t([]),t}(ie),ue=function(){function e(t){this.path=t,g(e.isDocumentKey(t),"Invalid DocumentKey with an odd number of segments: "+t.toArray().join("/"))}return e.prototype.isEqual=function(e){return null!==e&&0===oe.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return oe.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new oe(t.slice()))},e.fromPathString=function(t){return new e(oe.fromString(t))},e.EMPTY=new e(new oe([])),e}(),ce=function(){function e(e,t){this.key=e,this.version=t}return e.compareByKey=function(e,t){return ue.comparator(e.key,t.key)},e}(),le=function(e){function t(t,n,r,i){var o=e.call(this,t,n)||this;return o.data=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return a.__extends(t,e),t.prototype.field=function(e){return this.data.field(e)},t.prototype.fieldValue=function(e){var t=this.field(e);return t?t.value():void 0},t.prototype.value=function(){return this.data.value()},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.data.isEqual(e.data)&&this.hasLocalMutations===e.hasLocalMutations&&this.hasCommittedMutations===e.hasCommittedMutations},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.compareByField=function(e,t,n){var r=t.field(e),i=n.field(e);return void 0!==r&&void 0!==i?r.compareTo(i):m("Trying to compare documents on fields that don't exist")},t}(ce),he=function(e){function t(t,n,r){var i=e.call(this,t,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return a.__extends(t,e),t.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.hasCommittedMutations===this.hasCommittedMutations&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(ce),fe=function(e){function t(t,n){return e.call(this,t,n)||this}return a.__extends(t,e),t.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.version.isEqual(this.version)&&e.key.isEqual(this.key)},t}(ce),pe=function(){function e(e,t){this.comparator=e,this.root=t||me.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,me.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,me.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new de(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new de(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new de(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new de(this.root,e,this.comparator,!0)},e}(),de=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){g(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),me=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw m("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw m("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check();if(e!==this.right.check())throw m("Black depths differ");return e+(this.isRed()?0:1)},e.EMPTY=null,e.RED=!0,e.BLACK=!1,e}(),ge=function(){function e(){this.size=0}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new me(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}();me.EMPTY=new ge,function(e){e[e.NullValue=0]="NullValue",e[e.BooleanValue=1]="BooleanValue",e[e.NumberValue=2]="NumberValue",e[e.TimestampValue=3]="TimestampValue",e[e.StringValue=4]="StringValue",e[e.BlobValue=5]="BlobValue",e[e.RefValue=6]="RefValue",e[e.GeoPointValue=7]="GeoPointValue",e[e.ArrayValue=8]="ArrayValue",e[e.ObjectValue=9]="ObjectValue"}(X||(X={})),function(e){e[e.Default=0]="Default",e[e.Estimate=1]="Estimate",e[e.Previous=2]="Previous"}(Y||(Y={}));var ye=function(){function e(e,t){this.serverTimestampBehavior=e,this.timestampsInSnapshots=t}return e.fromSnapshotOptions=function(t,n){switch(t.serverTimestamps){case"estimate":return new e(Y.Estimate,n);case"previous":return new e(Y.Previous,n);case"none":case void 0:return new e(Y.Default,n);default:return m("fromSnapshotOptions() called with invalid options.")}},e}(),ve=function(){function e(){}return e.prototype.toString=function(){var e=this.value();return null===e?"null":e.toString()},e.prototype.defaultCompareTo=function(e){return g(this.typeOrder!==e.typeOrder,"Default compareTo should not be used for values of same type."),K(this.typeOrder,e.typeOrder)},e}(),be=function(e){function t(){var t=e.call(this)||this;return t.typeOrder=X.NullValue,t.internalValue=null,t}return a.__extends(t,e),t.prototype.value=function(e){return null},t.prototype.isEqual=function(e){return e instanceof t},t.prototype.compareTo=function(e){return e instanceof t?0:this.defaultCompareTo(e)},t.INSTANCE=new t,t}(ve),we=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=X.BooleanValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?K(this,e):this.defaultCompareTo(e)},t.of=function(e){return e?t.TRUE:t.FALSE},t.TRUE=new t(!0),t.FALSE=new t(!1),t}(ve),_e=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=X.NumberValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.compareTo=function(e){return e instanceof t?function(e,t){return e<t?-1:e>t?1:e===t?0:isNaN(e)?isNaN(t)?0:-1:1}(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(ve);function Ee(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var Te=function(e){function t(t){return e.call(this,t)||this}return a.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&Ee(this.internalValue,e.internalValue)},t}(_e),Se=function(e){function t(t){var n=e.call(this,t)||this;return n.internalValue=t,n}return a.__extends(t,e),t.prototype.isEqual=function(e){return e instanceof t&&Ee(this.internalValue,e.internalValue)},t.NAN=new t(NaN),t.POSITIVE_INFINITY=new t(1/0),t.NEGATIVE_INFINITY=new t(-1/0),t}(_e),ke=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=X.StringValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue===e.internalValue},t.prototype.compareTo=function(e){return e instanceof t?K(this.internalValue,e.internalValue):this.defaultCompareTo(e)},t}(ve),Ce=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=X.TimestampValue,n}return a.__extends(t,e),t.prototype.value=function(e){return e&&e.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):e instanceof xe?-1:this.defaultCompareTo(e)},t}(ve),xe=function(e){function t(t,n){var r=e.call(this)||this;return r.localWriteTime=t,r.previousValue=n,r.typeOrder=X.TimestampValue,r}return a.__extends(t,e),t.prototype.value=function(e){return e&&e.serverTimestampBehavior===Y.Estimate?new Ce(this.localWriteTime).value(e):e&&e.serverTimestampBehavior===Y.Previous&&this.previousValue?this.previousValue.value(e):null},t.prototype.isEqual=function(e){return e instanceof t&&this.localWriteTime.isEqual(e.localWriteTime)},t.prototype.compareTo=function(e){return e instanceof t?this.localWriteTime._compareTo(e.localWriteTime):e instanceof Ce?1:this.defaultCompareTo(e)},t.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},t}(ve),Ie=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=X.BlobValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(ve),Ne=function(e){function t(t,n){var r=e.call(this)||this;return r.databaseId=t,r.key=n,r.typeOrder=X.RefValue,r}return a.__extends(t,e),t.prototype.value=function(e){return this.key},t.prototype.isEqual=function(e){return e instanceof t&&(this.key.isEqual(e.key)&&this.databaseId.isEqual(e.databaseId))},t.prototype.compareTo=function(e){if(e instanceof t){var n=this.databaseId.compareTo(e.databaseId);return 0!==n?n:ue.comparator(this.key,e.key)}return this.defaultCompareTo(e)},t}(ve),Ae=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=X.GeoPointValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue},t.prototype.isEqual=function(e){return e instanceof t&&this.internalValue.isEqual(e.internalValue)},t.prototype.compareTo=function(e){return e instanceof t?this.internalValue._compareTo(e.internalValue):this.defaultCompareTo(e)},t}(ve),De=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=X.ObjectValue,n}return a.__extends(t,e),t.prototype.value=function(e){var t={};return this.internalValue.inorderTraversal(function(n,r){t[n]=r.value(e)}),t},t.prototype.forEach=function(e){this.internalValue.inorderTraversal(e)},t.prototype.isEqual=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=this.internalValue.getIterator(),r=e.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=K(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return K(n.hasNext(),r.hasNext())}return this.defaultCompareTo(e)},t.prototype.set=function(e,n){if(g(!e.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===e.length)return this.setChild(e.firstSegment(),n);var r=this.child(e.firstSegment());r instanceof t||(r=t.EMPTY);var i=r.set(e.popFirst(),n);return this.setChild(e.firstSegment(),i)},t.prototype.delete=function(e){if(g(!e.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===e.length)return new t(this.internalValue.remove(e.firstSegment()));var n=this.child(e.firstSegment());if(n instanceof t){var r=n.delete(e.popFirst());return new t(this.internalValue.insert(e.firstSegment(),r))}return this},t.prototype.contains=function(e){return void 0!==this.field(e)},t.prototype.field=function(e){g(!e.isEmpty(),"Can't get field of empty path");var n=this;return e.forEach(function(e){n=n instanceof t&&n.internalValue.get(e)||void 0}),n},t.prototype.toString=function(){return JSON.stringify(this.value())},t.prototype.child=function(e){return this.internalValue.get(e)||void 0},t.prototype.setChild=function(e,n){return new t(this.internalValue.insert(e,n))},t.EMPTY=new t(new pe(K)),t}(ve),Oe=function(e){function t(t){var n=e.call(this)||this;return n.internalValue=t,n.typeOrder=X.ArrayValue,n}return a.__extends(t,e),t.prototype.value=function(e){return this.internalValue.map(function(t){return t.value(e)})},t.prototype.forEach=function(e){this.internalValue.forEach(e)},t.prototype.isEqual=function(e){if(e instanceof t){if(this.internalValue.length!==e.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(e.internalValue[n]))return!1;return!0}return!1},t.prototype.compareTo=function(e){if(e instanceof t){for(var n=Math.min(this.internalValue.length,e.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(e.internalValue[r]);if(i)return i}return K(this.internalValue.length,e.internalValue.length)}return this.defaultCompareTo(e)},t.prototype.toString=function(){return JSON.stringify(this.value())},t}(ve),Pe=Number,Re=Pe.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),Le=Pe.MAX_SAFE_INTEGER||Math.pow(2,53)-1,Me=Pe.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function Fe(e){return null===e||void 0===e}function je(e){return Me(e)&&e<=Le&&e>=Re}var Ue,qe=function(){function e(e,t,n,r,i,o){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=e,this.explicitOrderBy=t,this.filters=n,this.limit=r,this.startAt=i,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return e.atPath=function(t){return new e(t)},Object.defineProperty(e.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var e=this.getInequalityFilterField(),t=this.getFirstOrderByField();if(null!==e&&null===t)e.isKeyField()?this.memoizedOrderBy=[Xe]:this.memoizedOrderBy=[new Ge(e),Xe];else{g(null===e||null!==t&&e.isEqual(t),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:He.ASCENDING;this.memoizedOrderBy.push(a===He.ASCENDING?Xe:Ye)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),e.prototype.addFilter=function(t){g(null==this.getInequalityFilterField()||!(t instanceof We)||!t.isInequality()||t.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),g(!ue.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([t]);return new e(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},e.prototype.addOrderBy=function(t){g(!ue.isDocumentKey(this.path),"No ordering allowed for document query"),g(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([t]);return new e(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},e.prototype.withLimit=function(t){return new e(this.path,this.explicitOrderBy.slice(),this.filters.slice(),t,this.startAt,this.endAt)},e.prototype.withStartAt=function(t){return new e(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,t,this.endAt)},e.prototype.withEndAt=function(t){return new e(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,t)},e.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var e=this.path.canonicalString();e+="|f:";for(var t=0,n=this.filters;t<n.length;t++){e+=n[t].canonicalId(),e+=","}e+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++){e+=i[r].canonicalId(),e+=","}Fe(this.limit)||(e+="|l:",e+=this.limit),this.startAt&&(e+="|lb:",e+=this.startAt.canonicalId()),this.endAt&&(e+="|ub:",e+=this.endAt.canonicalId()),this.memoizedCanonicalId=e}return this.memoizedCanonicalId},e.prototype.toString=function(){var e="Query("+this.path.canonicalString();return this.filters.length>0&&(e+=", filters: ["+this.filters.join(", ")+"]"),Fe(this.limit)||(e+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(e+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(e+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(e+=", endAt: "+this.endAt.canonicalId()),e+")"},e.prototype.isEqual=function(e){if(this.limit!==e.limit)return!1;if(this.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<this.orderBy.length;t++)if(!this.orderBy[t].isEqual(e.orderBy[t]))return!1;if(this.filters.length!==e.filters.length)return!1;for(t=0;t<this.filters.length;t++)if(!this.filters[t].isEqual(e.filters[t]))return!1;return!!this.path.isEqual(e.path)&&(!(null!==this.startAt?!this.startAt.isEqual(e.startAt):null!==e.startAt)&&(null!==this.endAt?this.endAt.isEqual(e.endAt):null===e.endAt))},e.prototype.docComparator=function(e,t){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(e,t);if(0!==a)return a;n=n||o.field.isKeyField()}return g(n,"orderBy used that doesn't compare on key field"),0},e.prototype.matches=function(e){return this.matchesAncestor(e)&&this.matchesOrderBy(e)&&this.matchesFilters(e)&&this.matchesBounds(e)},e.prototype.hasLimit=function(){return!Fe(this.limit)},e.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},e.prototype.getInequalityFilterField=function(){for(var e=0,t=this.filters;e<t.length;e++){var n=t[e];if(n instanceof We&&n.isInequality())return n.field}return null},e.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(e){return e instanceof We&&e.op===Ve.ARRAY_CONTAINS})},e.prototype.isDocumentQuery=function(){return ue.isDocumentKey(this.path)&&0===this.filters.length},e.prototype.matchesAncestor=function(e){var t=e.key.path;return ue.isDocumentKey(this.path)?this.path.isEqual(t):this.path.isPrefixOf(t)&&this.path.length===t.length-1},e.prototype.matchesOrderBy=function(e){for(var t=0,n=this.explicitOrderBy;t<n.length;t++){var r=n[t];if(!r.field.isKeyField()&&void 0===e.field(r.field))return!1}return!0},e.prototype.matchesFilters=function(e){for(var t=0,n=this.filters;t<n.length;t++){if(!n[t].matches(e))return!1}return!0},e.prototype.matchesBounds=function(e){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,e))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,e))},e.prototype.assertValidBound=function(e){g(e.position.length<=this.orderBy.length,"Bound is longer than orderBy")},e}(),Be=function(){function e(){}return e.create=function(e,t,n){if(n.isEqual(be.INSTANCE)){if(t!==Ve.EQUAL)throw new w(b.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new ze(e)}if(n.isEqual(Se.NAN)){if(t!==Ve.EQUAL)throw new w(b.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new Ke(e)}return new We(e,t,n)},e}(),Ve=function(){function e(e){this.name=e}return e.fromString=function(t){switch(t){case"<":return e.LESS_THAN;case"<=":return e.LESS_THAN_OR_EQUAL;case"==":return e.EQUAL;case">=":return e.GREATER_THAN_OR_EQUAL;case">":return e.GREATER_THAN;case"array-contains":return e.ARRAY_CONTAINS;default:return m("Unknown relation: "+t)}},e.prototype.toString=function(){return this.name},e.prototype.isEqual=function(e){return this.name===e.name},e.LESS_THAN=new e("<"),e.LESS_THAN_OR_EQUAL=new e("<="),e.EQUAL=new e("=="),e.GREATER_THAN=new e(">"),e.GREATER_THAN_OR_EQUAL=new e(">="),e.ARRAY_CONTAINS=new e("array-contains"),e}(),We=function(e){function t(t,n,r){var i=e.call(this)||this;return i.field=t,i.op=n,i.value=r,i}return a.__extends(t,e),t.prototype.matches=function(e){if(this.field.isKeyField()){g(this.value instanceof Ne,"Comparing on key, but filter value not a RefValue"),g(this.op!==Ve.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var t=this.value,n=ue.comparator(e.key,t.key);return this.matchesComparison(n)}var r=e.field(this.field);return void 0!==r&&this.matchesValue(r)},t.prototype.matchesValue=function(e){var t=this;return this.op===Ve.ARRAY_CONTAINS?e instanceof Oe&&void 0!==e.internalValue.find(function(e){return e.isEqual(t.value)}):this.value.typeOrder===e.typeOrder&&this.matchesComparison(e.compareTo(this.value))},t.prototype.matchesComparison=function(e){switch(this.op){case Ve.LESS_THAN:return e<0;case Ve.LESS_THAN_OR_EQUAL:return e<=0;case Ve.EQUAL:return 0===e;case Ve.GREATER_THAN:return e>0;case Ve.GREATER_THAN_OR_EQUAL:return e>=0;default:return m("Unknown relation op"+this.op)}},t.prototype.isInequality=function(){return this.op!==Ve.EQUAL&&this.op!==Ve.ARRAY_CONTAINS},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},t.prototype.isEqual=function(e){return e instanceof t&&(this.op.isEqual(e.op)&&this.field.isEqual(e.field)&&this.value.isEqual(e.value))},t.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},t}(Be),ze=function(e){function t(t){var n=e.call(this)||this;return n.field=t,n}return a.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field);return void 0!==t&&null===t.value()},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},t.prototype.toString=function(){return this.field.canonicalString()+" IS null"},t.prototype.isEqual=function(e){return e instanceof t&&this.field.isEqual(e.field)},t}(Be),Ke=function(e){function t(t){var n=e.call(this)||this;return n.field=t,n}return a.__extends(t,e),t.prototype.matches=function(e){var t=e.field(this.field),n=t&&t.value();return"number"==typeof n&&isNaN(n)},t.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},t.prototype.isEqual=function(e){return e instanceof t&&this.field.isEqual(e.field)},t}(Be),He=function(){function e(e){this.name=e}return e.prototype.toString=function(){return this.name},e.ASCENDING=new e("asc"),e.DESCENDING=new e("desc"),e}(),Qe=function(){function e(e,t){this.position=e,this.before=t}return e.prototype.canonicalId=function(){for(var e=this.before?"b:":"a:",t=0,n=this.position;t<n.length;t++){e+=n[t].toString()}return e},e.prototype.sortsBeforeDocument=function(e,t){g(this.position.length<=e.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=e[r],o=this.position[r];if(i.field.isKeyField())g(o instanceof Ne,"Bound has a non-key value where the key path is being used."),n=ue.comparator(o.key,t.key);else{var a=t.field(i.field);g(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===He.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},e.prototype.isEqual=function(e){if(null===e)return!1;if(this.before!==e.before||this.position.length!==e.position.length)return!1;for(var t=0;t<this.position.length;t++){var n=this.position[t],r=e.position[t];return n.isEqual(r)}return!0},e}(),Ge=function(){function e(e,t){this.field=e,void 0===t&&(t=He.ASCENDING),this.dir=t,this.isKeyOrderBy=e.isKeyField()}return e.prototype.compare=function(e,t){var n=this.isKeyOrderBy?le.compareByKey(e,t):le.compareByField(this.field,e,t);switch(this.dir){case He.ASCENDING:return n;case He.DESCENDING:return-1*n;default:return m("Unknown direction: "+this.dir)}},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},e.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},e.prototype.isEqual=function(e){return this.dir===e.dir&&this.field.isEqual(e.field)},e}(),Xe=new Ge(se.keyField(),He.ASCENDING),Ye=new Ge(se.keyField(),He.DESCENDING),$e=function(){function e(e){this.timestamp=e}return e.fromMicroseconds=function(t){var n=Math.floor(t/1e6);return new e(new ee(n,t%1e6*1e3))},e.fromTimestamp=function(t){return new e(t)},e.forDeletedDoc=function(){return e.MIN},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e.MIN=new e(new ee(0,0)),e}();!function(e){e[e.Listen=0]="Listen",e[e.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",e[e.LimboResolution=2]="LimboResolution"}(Ue||(Ue={}));var Je,Ze=function(){function e(e,t,n,r,i,o){void 0===i&&(i=$e.MIN),void 0===o&&(o=v()),this.query=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return e.prototype.copy=function(t){return new e(this.query,this.targetId,this.purpose,void 0===t.sequenceNumber?this.sequenceNumber:t.sequenceNumber,void 0===t.snapshotVersion?this.snapshotVersion:t.snapshotVersion,void 0===t.resumeToken?this.resumeToken:t.resumeToken)},e.prototype.isEqual=function(e){return this.targetId===e.targetId&&this.purpose===e.purpose&&this.sequenceNumber===e.sequenceNumber&&this.snapshotVersion.isEqual(e.snapshotVersion)&&this.resumeToken===e.resumeToken&&this.query.isEqual(e.query)},e}(),et=function(){function e(e){this.fields=e}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++){if(n[t].isPrefixOf(e))return!0}return!1},e.prototype.isEqual=function(e){return H(this.fields,e.fields)},e}(),tt=function(){function e(e,t){this.field=e,this.transform=t}return e.prototype.isEqual=function(e){return this.field.isEqual(e.field)&&this.transform.isEqual(e.transform)},e}(),nt=function(){return function(e,t){this.version=e,this.transformResults=t}}();!function(e){e[e.Set=0]="Set",e[e.Patch=1]="Patch",e[e.Transform=2]="Transform",e[e.Delete=3]="Delete"}(Je||(Je={}));var rt=function(){function e(e,t){this.updateTime=e,this.exists=t,g(void 0===e||void 0===t,'Precondition can specify "exists" or "updateTime" but not both')}return e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),e.prototype.isValidFor=function(e){return void 0!==this.updateTime?e instanceof le&&e.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===e instanceof le:(g(this.isNone,"Precondition should be empty"),!0)},e.prototype.isEqual=function(e){return function(e,t){return null!==e&&void 0!==e?!(!t||!e.isEqual(t)):e===t}(this.updateTime,e.updateTime)&&this.exists===e.exists},e.NONE=new e,e}(),it=function(){function e(){}return e.prototype.verifyKeyMatches=function(e){null!=e&&g(e.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},e.getPostMutationVersion=function(e){return e instanceof le?e.version:$e.MIN},e}(),ot=function(e){function t(t,n,r){var i=e.call(this)||this;return i.key=t,i.value=n,i.precondition=r,i.type=Je.Set,i}return a.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){this.verifyKeyMatches(e),g(null==t.transformResults,"Transform results received by SetMutation.");var n=t.version;return new le(this.key,n,this.value,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=it.getPostMutationVersion(e);return new le(this.key,r,this.value,{hasLocalMutations:!0})},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.value.isEqual(e.value)&&this.precondition.isEqual(e.precondition)},t}(it),at=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.key=t,o.data=n,o.fieldMask=r,o.precondition=i,o.type=Je.Patch,o}return a.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),g(null==t.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(e))return new fe(this.key,t.version);var n=this.patchDocument(e);return new le(this.key,t.version,n,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=it.getPostMutationVersion(e),i=this.patchDocument(e);return new le(this.key,r,i,{hasLocalMutations:!0})},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.fieldMask.isEqual(e.fieldMask)&&this.precondition.isEqual(e.precondition)},t.prototype.patchDocument=function(e){var t;return t=e instanceof le?e.data:De.EMPTY,this.patchObject(t)},t.prototype.patchObject=function(e){for(var t=0,n=this.fieldMask.fields;t<n.length;t++){var r=n[t];if(!r.isEmpty()){var i=this.data.field(r);e=void 0!==i?e.set(r,i):e.delete(r)}}return e},t}(it),st=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.fieldTransforms=n,r.type=Je.Transform,r.precondition=rt.exists(!0),r}return a.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){if(this.verifyKeyMatches(e),g(null!=t.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(e))return new fe(this.key,t.version);var n=this.requireDocument(e),r=this.serverTransformResults(e,t.transformResults),i=t.version,o=this.transformObject(n.data,r);return new le(this.key,i,o,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){if(this.verifyKeyMatches(e),!this.precondition.isValidFor(e))return e;var r=this.requireDocument(e),i=this.localTransformResults(n,t),o=this.transformObject(r.data,i);return new le(this.key,r.version,o,{hasLocalMutations:!0})},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&H(this.fieldTransforms,e.fieldTransforms)&&this.precondition.isEqual(e.precondition)},t.prototype.requireDocument=function(e){g(e instanceof le,"Unknown MaybeDocument type "+e);var t=e;return g(t.key.isEqual(this.key),"Can only transform a document with the same key"),t},t.prototype.serverTransformResults=function(e,t){var n=[];g(this.fieldTransforms.length===t.length,"server transform result count ("+t.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<t.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;e instanceof le&&(a=e.field(i.field)||null),n.push(o.applyToRemoteDocument(a,t[r]))}return n},t.prototype.localTransformResults=function(e,t){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var o=i[r],a=o.transform,s=null;t instanceof le&&(s=t.field(o.field)||null),n.push(a.applyToLocalView(s,e))}return n},t.prototype.transformObject=function(e,t){g(t.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n].field;e=e.set(r,t[n])}return e},t}(it),ut=function(e){function t(t,n){var r=e.call(this)||this;return r.key=t,r.precondition=n,r.type=Je.Delete,r}return a.__extends(t,e),t.prototype.applyToRemoteDocument=function(e,t){return this.verifyKeyMatches(e),g(null==t.transformResults,"Transform results received by DeleteMutation."),new he(this.key,t.version,{hasCommittedMutations:!0})},t.prototype.applyToLocalView=function(e,t,n){return this.verifyKeyMatches(e),this.precondition.isValidFor(e)?(e&&g(e.key.isEqual(this.key),"Can only apply mutation to document with same key"),new he(this.key,$e.forDeletedDoc())):e},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.precondition.isEqual(e.precondition)},t}(it),ct=function(){function e(){}return e.prototype.applyToLocalView=function(e,t){return new xe(t,e)},e.prototype.applyToRemoteDocument=function(e,t){return t},e.prototype.isEqual=function(t){return t instanceof e},e.instance=new e,e}(),lt=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=ft(e),n=function(e){t.find(function(t){return t.isEqual(e)})||t.push(e)},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new Oe(t)},e.prototype.isEqual=function(t){return t instanceof e&&H(t.elements,this.elements)},e}(),ht=function(){function e(e){this.elements=e}return e.prototype.applyToLocalView=function(e,t){return this.apply(e)},e.prototype.applyToRemoteDocument=function(e,t){return this.apply(e)},e.prototype.apply=function(e){for(var t=ft(e),n=function(e){t=t.filter(function(t){return!t.isEqual(e)})},r=0,i=this.elements;r<i.length;r++){n(i[r])}return new Oe(t)},e.prototype.isEqual=function(t){return t instanceof e&&H(t.elements,this.elements)},e}();function ft(e){return e instanceof Oe?e.internalValue.slice():[]}var pt,dt=function(){function e(e){this.count=e}return e.prototype.isEqual=function(e){return e&&e.count===this.count},e}();function mt(e){switch(e){case b.OK:return m("Treated status OK as error");case b.CANCELLED:case b.UNKNOWN:case b.DEADLINE_EXCEEDED:case b.RESOURCE_EXHAUSTED:case b.INTERNAL:case b.UNAVAILABLE:case b.UNAUTHENTICATED:return!1;case b.INVALID_ARGUMENT:case b.NOT_FOUND:case b.ALREADY_EXISTS:case b.PERMISSION_DENIED:case b.FAILED_PRECONDITION:case b.ABORTED:case b.OUT_OF_RANGE:case b.UNIMPLEMENTED:case b.DATA_LOSS:return!0;default:return m("Unknown status code: "+e)}}function gt(e){if(void 0===e)return p("GRPC error has no .code"),b.UNKNOWN;switch(e){case pt.OK:return b.OK;case pt.CANCELLED:return b.CANCELLED;case pt.UNKNOWN:return b.UNKNOWN;case pt.DEADLINE_EXCEEDED:return b.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return b.RESOURCE_EXHAUSTED;case pt.INTERNAL:return b.INTERNAL;case pt.UNAVAILABLE:return b.UNAVAILABLE;case pt.UNAUTHENTICATED:return b.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return b.INVALID_ARGUMENT;case pt.NOT_FOUND:return b.NOT_FOUND;case pt.ALREADY_EXISTS:return b.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return b.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return b.FAILED_PRECONDITION;case pt.ABORTED:return b.ABORTED;case pt.OUT_OF_RANGE:return b.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return b.UNIMPLEMENTED;case pt.DATA_LOSS:return b.DATA_LOSS;default:return m("Unknown status code: "+e)}}!function(e){e[e.OK=0]="OK",e[e.CANCELLED=1]="CANCELLED",e[e.UNKNOWN=2]="UNKNOWN",e[e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",e[e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",e[e.NOT_FOUND=5]="NOT_FOUND",e[e.ALREADY_EXISTS=6]="ALREADY_EXISTS",e[e.PERMISSION_DENIED=7]="PERMISSION_DENIED",e[e.UNAUTHENTICATED=16]="UNAUTHENTICATED",e[e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",e[e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",e[e.ABORTED=10]="ABORTED",e[e.OUT_OF_RANGE=11]="OUT_OF_RANGE",e[e.UNIMPLEMENTED=12]="UNIMPLEMENTED",e[e.INTERNAL=13]="INTERNAL",e[e.UNAVAILABLE=14]="UNAVAILABLE",e[e.DATA_LOSS=15]="DATA_LOSS"}(pt||(pt={}));var yt=function(){function e(e){this.comparator=e,this.data=new pe(this.comparator)}return e.fromMapKeys=function(t){var n=new e(t.comparator);return t.forEach(function(e){n=n.add(e)}),n},e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();){if(!e(n.getNext().key))return}},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return e.forEach(function(e){t=t.add(e)}),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},e.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),vt=new pe(ue.comparator);function bt(){return vt}var wt=new pe(ue.comparator);function _t(){return wt}var Et=new pe(ue.comparator);function Tt(){return Et}var St=new yt(ue.comparator);function kt(){return St}var Ct=new yt(K);function xt(){return Ct}var It,Nt,At=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||ue.comparator(t.key,n.key)}:function(e,t){return ue.comparator(e.key,t.key)},this.keyedMap=_t(),this.sortedSet=new pe(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}();!function(e){e[e.Added=0]="Added",e[e.Removed=1]="Removed",e[e.Modified=2]="Modified",e[e.Metadata=3]="Metadata"}(It||(It={})),function(e){e[e.Local=0]="Local",e[e.Synced=1]="Synced"}(Nt||(Nt={}));var Dt,Ot=function(){function e(){this.changeMap=new pe(ue.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.changeMap.get(t);n?e.type!==It.Added&&n.type===It.Metadata?this.changeMap=this.changeMap.insert(t,e):e.type===It.Metadata&&n.type!==It.Removed?this.changeMap=this.changeMap.insert(t,{type:n.type,doc:e.doc}):e.type===It.Modified&&n.type===It.Modified?this.changeMap=this.changeMap.insert(t,{type:It.Modified,doc:e.doc}):e.type===It.Modified&&n.type===It.Added?this.changeMap=this.changeMap.insert(t,{type:It.Added,doc:e.doc}):e.type===It.Removed&&n.type===It.Added?this.changeMap=this.changeMap.remove(t):e.type===It.Removed&&n.type===It.Modified?this.changeMap=this.changeMap.insert(t,{type:It.Removed,doc:n.doc}):e.type===It.Added&&n.type===It.Removed?this.changeMap=this.changeMap.insert(t,{type:It.Modified,doc:e.doc}):m("unsupported combination of changes: "+JSON.stringify(e)+" after "+JSON.stringify(n)):this.changeMap=this.changeMap.insert(t,e)},e.prototype.getChanges=function(){var e=[];return this.changeMap.inorderTraversal(function(t,n){e.push(n)}),e},e}(),Pt=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach(function(e){o.push({type:It.Added,doc:e})}),new e(t,n,At.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&this.query.isEqual(e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),Rt=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r,i=((r={})[t]=Lt.createSynthesizedTargetChangeForCurrentChange(t,n),r);return new e($e.MIN,i,xt(),bt(),kt())},e}(),Lt=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(v(),n,kt(),kt(),kt())},e}(),Mt=function(){return function(e,t,n,r){this.updatedTargetIds=e,this.removedTargetIds=t,this.key=n,this.newDoc=r}}(),Ft=function(){return function(e,t){this.targetId=e,this.existenceFilter=t}}();!function(e){e[e.NoChange=0]="NoChange",e[e.Added=1]="Added",e[e.Removed=2]="Removed",e[e.Current=3]="Current",e[e.Reset=4]="Reset"}(Dt||(Dt={}));var jt=function(){return function(e,t,n,r){void 0===n&&(n=v()),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}(),Ut=function(){function e(){this.pendingResponses=0,this.documentChanges=Vt(),this._resumeToken=v(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),e.prototype.updateResumeToken=function(e){e.length>0&&(this._hasPendingChanges=!0,this._resumeToken=e)},e.prototype.toTargetChange=function(){var e=kt(),t=kt(),n=kt();return this.documentChanges.forEach(function(r,i){switch(i){case It.Added:e=e.add(r);break;case It.Modified:t=t.add(r);break;case It.Removed:n=n.add(r);break;default:m("Encountered invalid change type: "+i)}}),new Lt(this._resumeToken,this._current,e,t,n)},e.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=Vt()},e.prototype.addDocumentChange=function(e,t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(e,t)},e.prototype.removeDocumentChange=function(e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(e)},e.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},e.prototype.recordTargetResponse=function(){this.pendingResponses-=1},e.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},e}(),qt=function(){function e(e){this.metadataProvider=e,this.targetStates={},this.pendingDocumentUpdates=bt(),this.pendingDocumentTargetMapping=Bt(),this.pendingTargetResets=new yt(K)}return e.prototype.handleDocumentChange=function(e){for(var t=0,n=e.updatedTargetIds;t<n.length;t++){var r=n[t];e.newDoc instanceof le?this.addDocumentToTarget(r,e.newDoc):e.newDoc instanceof he&&this.removeDocumentFromTarget(r,e.key,e.newDoc)}for(var i=0,o=e.removedTargetIds;i<o.length;i++){r=o[i];this.removeDocumentFromTarget(r,e.key,e.newDoc)}},e.prototype.handleTargetChange=function(e){var t=this;this.forEachTarget(e,function(n){var r=t.ensureTargetState(n);switch(e.state){case Dt.NoChange:t.isActiveTarget(n)&&r.updateResumeToken(e.resumeToken);break;case Dt.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(e.resumeToken);break;case Dt.Removed:r.recordTargetResponse(),r.isPending||t.removeTarget(n),g(!e.cause,"WatchChangeAggregator does not handle errored targets");break;case Dt.Current:t.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(e.resumeToken));break;case Dt.Reset:t.isActiveTarget(n)&&(t.resetTarget(n),r.updateResumeToken(e.resumeToken));break;default:m("Unknown target watch change state: "+e.state)}})},e.prototype.forEachTarget=function(e,t){e.targetIds.length>0?e.targetIds.forEach(t):S(this.targetStates,t)},e.prototype.handleExistenceFilter=function(e){var t=e.targetId,n=e.existenceFilter.count,r=this.queryDataForActiveTarget(t);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new ue(i.path);this.removeDocumentFromTarget(t,o,new he(o,$e.forDeletedDoc()))}else g(1===n,"Single document existence filter with count: "+n);else this.getCurrentDocumentCountForTarget(t)!==n&&(this.resetTarget(t),this.pendingTargetResets=this.pendingTargetResets.add(t))}},e.prototype.createRemoteEvent=function(e){var t=this,n={};S(this.targetStates,function(r,i){var o=t.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new ue(o.query.path);null!==t.pendingDocumentUpdates.get(a)||t.targetContainsDocument(r,a)||t.removeDocumentFromTarget(r,a,new he(a,e))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=kt();this.pendingDocumentTargetMapping.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.queryDataForActiveTarget(e);return!n||n.purpose===Ue.LimboResolution||(i=!1,!1)}),i&&(r=r.add(e))});var i=new Rt(e,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=bt(),this.pendingDocumentTargetMapping=Bt(),this.pendingTargetResets=new yt(K),i},e.prototype.addDocumentToTarget=function(e,t){if(this.isActiveTarget(e)){var n=this.targetContainsDocument(e,t.key)?It.Modified:It.Added;this.ensureTargetState(e).addDocumentChange(t.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t.key,t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t.key,this.ensureDocumentTargetMapping(t.key).add(e))}},e.prototype.removeDocumentFromTarget=function(e,t,n){if(this.isActiveTarget(e)){var r=this.ensureTargetState(e);this.targetContainsDocument(e,t)?r.addDocumentChange(t,It.Removed):r.removeDocumentChange(t),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,this.ensureDocumentTargetMapping(t).delete(e)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(t,n))}},e.prototype.removeTarget=function(e){delete this.targetStates[e]},e.prototype.getCurrentDocumentCountForTarget=function(e){var t=this.ensureTargetState(e).toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.recordPendingTargetRequest=function(e){this.ensureTargetState(e).recordPendingTargetRequest()},e.prototype.ensureTargetState=function(e){return this.targetStates[e]||(this.targetStates[e]=new Ut),this.targetStates[e]},e.prototype.ensureDocumentTargetMapping=function(e){var t=this.pendingDocumentTargetMapping.get(e);return t||(t=new yt(K),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,t)),t},e.prototype.isActiveTarget=function(e){return null!==this.queryDataForActiveTarget(e)},e.prototype.queryDataForActiveTarget=function(e){var t=this.targetStates[e];return t&&t.isPending?null:this.metadataProvider.getQueryDataForTarget(e)},e.prototype.resetTarget=function(e){var t=this;g(!this.targetStates[e].isPending,"Should only reset active targets"),this.targetStates[e]=new Ut,this.metadataProvider.getRemoteKeysForTarget(e).forEach(function(n){t.removeDocumentFromTarget(e,n,null)})},e.prototype.targetContainsDocument=function(e,t){return this.metadataProvider.getRemoteKeysForTarget(e).has(t)},e}();function Bt(){return new pe(ue.comparator)}function Vt(){return new pe(ue.comparator)}var Wt=function(){var e={};return e[He.ASCENDING.name]="ASCENDING",e[He.DESCENDING.name]="DESCENDING",e}(),zt=function(){var e={};return e[Ve.LESS_THAN.name]="LESS_THAN",e[Ve.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",e[Ve.GREATER_THAN.name]="GREATER_THAN",e[Ve.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",e[Ve.EQUAL.name]="EQUAL",e[Ve.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",e}(),Kt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ht(e,t){g(!Fe(e),t+" is missing")}function Qt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):m("can't parse "+e)}var Gt=function(){function e(e,t){this.databaseId=e,this.options=t}return e.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},e.prototype.unsafeCastProtoByteString=function(e){return e},e.prototype.fromRpcStatus=function(e){var t=void 0===e.code?b.UNKNOWN:gt(e.code);return new w(t,e.message||"")},e.prototype.toInt32Value=function(e){return Fe(e)?void 0:{value:e}},e.prototype.fromInt32Value=function(e){var t;return Fe(t="object"==typeof e?e.value:e)?null:t},e.prototype.toTimestamp=function(e){return{seconds:e.seconds,nanos:e.nanoseconds}},e.prototype.fromTimestamp=function(e){if("string"==typeof e)return this.fromIso8601String(e);g(!!e,"Cannot deserialize null or undefined timestamp.");var t=Qt(e.seconds||"0"),n=e.nanos||0;return new ee(t,n)},e.prototype.fromIso8601String=function(e){var t=0,n=Kt.exec(e);if(g(!!n,"invalid timestamp: "+e),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e),o=Math.floor(i.getTime()/1e3);return new ee(o,t)},e.prototype.toBytes=function(e){return this.options.useProto3Json?e.toBase64():this.unsafeCastProtoByteString(e.toUint8Array())},e.prototype.fromBlob=function(e){return"string"==typeof e?(g(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),$.fromBase64String(e)):(g(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),$.fromUint8Array(e))},e.prototype.toVersion=function(e){return this.toTimestamp(e.toTimestamp())},e.prototype.fromVersion=function(e){return g(!!e,"Trying to deserialize version that isn't set"),$e.fromTimestamp(this.fromTimestamp(e))},e.prototype.toResourceName=function(e,t){return this.fullyQualifiedPrefixPath(e).child("documents").child(t).canonicalString()},e.prototype.fromResourceName=function(e){var t=oe.fromString(e);return g(this.isValidResourceName(t),"Tried to deserialize invalid key "+t.toString()),t},e.prototype.toName=function(e){return this.toResourceName(this.databaseId,e.path)},e.prototype.fromName=function(e){var t=this.fromResourceName(e);return g(t.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+t.get(1)+" vs "+this.databaseId.projectId),g(!t.get(3)&&!this.databaseId.database||t.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+t.get(3)+" vs "+this.databaseId.database),new ue(this.extractLocalPathFromResourceName(t))},e.prototype.toQueryPath=function(e){return 0===e.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,e)},e.prototype.fromQueryPath=function(e){var t=this.fromResourceName(e);return 4===t.length?oe.EMPTY_PATH:this.extractLocalPathFromResourceName(t)},Object.defineProperty(e.prototype,"encodedDatabaseId",{get:function(){return new oe(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),e.prototype.fullyQualifiedPrefixPath=function(e){return new oe(["projects",e.projectId,"databases",e.database])},e.prototype.extractLocalPathFromResourceName=function(e){return g(e.length>4&&"documents"===e.get(4),"tried to deserialize invalid key "+e.toString()),e.popFirst(5)},e.prototype.isValidResourceName=function(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)},e.prototype.toValue=function(e){if(e instanceof be)return{nullValue:"NULL_VALUE"};if(e instanceof we)return{booleanValue:e.value()};if(e instanceof Te)return{integerValue:""+e.value()};if(e instanceof Se){var t=e.value();if(this.options.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:e.value()}}return e instanceof ke?{stringValue:e.value()}:e instanceof De?{mapValue:this.toMapValue(e)}:e instanceof Oe?{arrayValue:this.toArrayValue(e)}:e instanceof Ce?{timestampValue:this.toTimestamp(e.internalValue)}:e instanceof Ae?{geoPointValue:{latitude:e.value().latitude,longitude:e.value().longitude}}:e instanceof Ie?{bytesValue:this.toBytes(e.value())}:e instanceof Ne?{referenceValue:this.toResourceName(e.databaseId,e.key.path)}:m("Unknown FieldValue "+JSON.stringify(e))},e.prototype.fromValue=function(e){var t=this,n=e.value_type;if(Xt(e,n,"nullValue"))return be.INSTANCE;if(Xt(e,n,"booleanValue"))return we.of(e.booleanValue);if(Xt(e,n,"integerValue"))return new Te(Qt(e.integerValue));if(Xt(e,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===e.doubleValue)return Se.NAN;if("Infinity"===e.doubleValue)return Se.POSITIVE_INFINITY;if("-Infinity"===e.doubleValue)return Se.NEGATIVE_INFINITY}return new Se(e.doubleValue)}if(Xt(e,n,"stringValue"))return new ke(e.stringValue);if(Xt(e,n,"mapValue"))return this.fromFields(e.mapValue.fields||{});if(Xt(e,n,"arrayValue")){Ht(e.arrayValue,"arrayValue");var r=e.arrayValue.values||[];return new Oe(r.map(function(e){return t.fromValue(e)}))}if(Xt(e,n,"timestampValue"))return Ht(e.timestampValue,"timestampValue"),new Ce(this.fromTimestamp(e.timestampValue));if(Xt(e,n,"geoPointValue")){Ht(e.geoPointValue,"geoPointValue");var i=e.geoPointValue.latitude||0,o=e.geoPointValue.longitude||0;return new Ae(new Z(i,o))}if(Xt(e,n,"bytesValue")){Ht(e.bytesValue,"bytesValue");var a=this.fromBlob(e.bytesValue);return new Ie(a)}if(Xt(e,n,"referenceValue")){Ht(e.referenceValue,"referenceValue");var s=this.fromResourceName(e.referenceValue),u=new re(s.get(1),s.get(3)),c=new ue(this.extractLocalPathFromResourceName(s));return new Ne(u,c)}return m("Unknown Value proto "+JSON.stringify(e))},e.prototype.toMutationDocument=function(e,t){return{name:this.toName(e),fields:this.toFields(t)}},e.prototype.toDocument=function(e){return g(!e.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toTimestamp(e.version.toTimestamp())}},e.prototype.fromDocument=function(e,t){return new le(this.fromName(e.name),this.fromVersion(e.updateTime),this.fromFields(e.fields||{}),{hasCommittedMutations:!!t})},e.prototype.toFields=function(e){var t=this,n={};return e.forEach(function(e,r){n[e]=t.toValue(r)}),n},e.prototype.fromFields=function(e){var t=this,n=e,r=De.EMPTY;return k(n,function(e,n){r=r.set(new se([e]),t.fromValue(n))}),r},e.prototype.toMapValue=function(e){return{fields:this.toFields(e)}},e.prototype.toArrayValue=function(e){var t=this,n=[];return e.forEach(function(e){n.push(t.toValue(e))}),{values:n}},e.prototype.fromFound=function(e){g(!!e.found,"Tried to deserialize a found document from a missing document."),Ht(e.found.name,"doc.found.name"),Ht(e.found.updateTime,"doc.found.updateTime");var t=this.fromName(e.found.name),n=this.fromVersion(e.found.updateTime),r=this.fromFields(e.found.fields||{});return new le(t,n,r,{})},e.prototype.fromMissing=function(e){g(!!e.missing,"Tried to deserialize a missing document from a found document."),g(!!e.readTime,"Tried to deserialize a missing document without a read time.");var t=this.fromName(e.missing),n=this.fromVersion(e.readTime);return new he(t,n)},e.prototype.fromMaybeDocument=function(e){var t=e.result;return Xt(e,t,"found")?this.fromFound(e):Xt(e,t,"missing")?this.fromMissing(e):m("invalid batch get response: "+JSON.stringify(e))},e.prototype.toWatchTargetChangeState=function(e){switch(e){case Dt.Added:return"ADD";case Dt.Current:return"CURRENT";case Dt.NoChange:return"NO_CHANGE";case Dt.Removed:return"REMOVE";case Dt.Reset:return"RESET";default:return m("Unknown WatchTargetChangeState: "+e)}},e.prototype.toTestWatchChange=function(e){if(e instanceof Ft)return{filter:{count:e.existenceFilter.count,targetId:e.targetId}};if(e instanceof Mt){if(e.newDoc instanceof le){var t=e.newDoc;return{documentChange:{document:{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toVersion(t.version)},targetIds:e.updatedTargetIds,removedTargetIds:e.removedTargetIds}}}if(e.newDoc instanceof he){t=e.newDoc;return{documentDelete:{document:this.toName(t.key),readTime:this.toVersion(t.version),removedTargetIds:e.removedTargetIds}}}if(null===e.newDoc)return{documentRemove:{document:this.toName(e.key),removedTargetIds:e.removedTargetIds}}}if(e instanceof jt){var n=void 0;return e.cause&&(n={code:function(e){if(void 0===e)return pt.OK;switch(e){case b.OK:return pt.OK;case b.CANCELLED:return pt.CANCELLED;case b.UNKNOWN:return pt.UNKNOWN;case b.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case b.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case b.INTERNAL:return pt.INTERNAL;case b.UNAVAILABLE:return pt.UNAVAILABLE;case b.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case b.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case b.NOT_FOUND:return pt.NOT_FOUND;case b.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case b.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case b.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case b.ABORTED:return pt.ABORTED;case b.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case b.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case b.DATA_LOSS:return pt.DATA_LOSS;default:return m("Unknown status code: "+e)}}(e.cause.code),message:e.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(e.state),targetIds:e.targetIds,resumeToken:this.unsafeCastProtoByteString(e.resumeToken),cause:n}}}return m("Unrecognized watch change: "+JSON.stringify(e))},e.prototype.fromWatchChange=function(e){var t,n=e.response_type;if(Xt(e,n,"targetChange")){Ht(e.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=e.targetChange.resumeToken||this.emptyByteString(),a=e.targetChange.cause,s=a&&this.fromRpcStatus(a);t=new jt(r,i,o,s||null)}else if(Xt(e,n,"documentChange")){Ht(e.documentChange,"documentChange"),Ht(e.documentChange.document,"documentChange.name"),Ht(e.documentChange.document.name,"documentChange.document.name"),Ht(e.documentChange.document.updateTime,"documentChange.document.updateTime");var u=e.documentChange,c=this.fromName(u.document.name),l=this.fromVersion(u.document.updateTime),h=this.fromFields(u.document.fields||{}),f=new le(c,l,h,{}),p=u.targetIds||[],d=u.removedTargetIds||[];t=new Mt(p,d,f.key,f)}else if(Xt(e,n,"documentDelete")){Ht(e.documentDelete,"documentDelete"),Ht(e.documentDelete.document,"documentDelete.document");var g=e.documentDelete;c=this.fromName(g.document),l=g.readTime?this.fromVersion(g.readTime):$e.forDeletedDoc(),f=new he(c,l),d=g.removedTargetIds||[];t=new Mt([],d,f.key,f)}else if(Xt(e,n,"documentRemove")){Ht(e.documentRemove,"documentRemove"),Ht(e.documentRemove.document,"documentRemove");var y=e.documentRemove;c=this.fromName(y.document),d=y.removedTargetIds||[];t=new Mt([],d,c,null)}else{if(!Xt(e,n,"filter"))return m("Unknown change type "+JSON.stringify(e));Ht(e.filter,"filter"),Ht(e.filter.targetId,"filter.targetId");var v=e.filter,b=v.count||0,w=new dt(b),_=v.targetId;t=new Ft(_,w)}return t},e.prototype.fromWatchTargetChangeState=function(e){return"NO_CHANGE"===e?Dt.NoChange:"ADD"===e?Dt.Added:"REMOVE"===e?Dt.Removed:"CURRENT"===e?Dt.Current:"RESET"===e?Dt.Reset:m("Got unexpected TargetChange.state: "+e)},e.prototype.versionFromListenResponse=function(e){if(!Xt(e,e.response_type,"targetChange"))return $e.MIN;var t=e.targetChange;return t.targetIds&&t.targetIds.length?$e.MIN:t.readTime?this.fromVersion(t.readTime):$e.MIN},e.prototype.toMutation=function(e){var t,n=this;if(e instanceof ot)t={update:this.toMutationDocument(e.key,e.value)};else if(e instanceof ut)t={delete:this.toName(e.key)};else if(e instanceof at)t={update:this.toMutationDocument(e.key,e.data),updateMask:this.toDocumentMask(e.fieldMask)};else{if(!(e instanceof st))return m("Unknown mutation type "+e.type);t={transform:{document:this.toName(e.key),fieldTransforms:e.fieldTransforms.map(function(e){return n.toFieldTransform(e)})}}}return e.precondition.isNone||(t.currentDocument=this.toPrecondition(e.precondition)),t},e.prototype.fromMutation=function(e){var t=this,n=e.currentDocument?this.fromPrecondition(e.currentDocument):rt.NONE;if(e.update){Ht(e.update.name,"name");var r=this.fromName(e.update.name),i=this.fromFields(e.update.fields||{});if(e.updateMask){var o=this.fromDocumentMask(e.updateMask);return new at(r,i,o,n)}return new ot(r,i,n)}if(e.delete){r=this.fromName(e.delete);return new ut(r,n)}if(e.transform){r=this.fromName(e.transform.document);var a=e.transform.fieldTransforms.map(function(e){return t.fromFieldTransform(e)});return g(!0===n.exists,'Transforms only support precondition "exists == true"'),new st(r,a)}return m("unknown mutation proto: "+JSON.stringify(e))},e.prototype.toPrecondition=function(e){return g(!e.isNone,"Can't serialize an empty precondition"),void 0!==e.updateTime?{updateTime:this.toVersion(e.updateTime)}:void 0!==e.exists?{exists:e.exists}:m("Unknown precondition")},e.prototype.fromPrecondition=function(e){return void 0!==e.updateTime?rt.updateTime(this.fromVersion(e.updateTime)):void 0!==e.exists?rt.exists(e.exists):rt.NONE},e.prototype.fromWriteResult=function(e,t){var n=this,r=e.updateTime?this.fromVersion(e.updateTime):this.fromVersion(t),i=null;return e.transformResults&&e.transformResults.length>0&&(i=e.transformResults.map(function(e){return n.fromValue(e)})),new nt(r,i)},e.prototype.fromWriteResults=function(e,t){var n=this;return e&&e.length>0?(g(void 0!==t,"Received a write result without a commit time"),e.map(function(e){return n.fromWriteResult(e,t)})):[]},e.prototype.toFieldTransform=function(e){var t=this,n=e.transform;if(n instanceof ct)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof lt)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(e){return t.toValue(e)})}};if(n instanceof ht)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(e){return t.toValue(e)})}};throw m("Unknown transform: "+e.transform)},e.prototype.fromFieldTransform=function(e){var t=this,n=e.transform_type,r=null;if(Xt(e,n,"setToServerValue"))g("REQUEST_TIME"===e.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(e)),r=ct.instance;else if(Xt(e,n,"appendMissingElements")){var i=e.appendMissingElements.values||[];r=new lt(i.map(function(e){return t.fromValue(e)}))}else if(Xt(e,n,"removeAllFromArray")){i=e.removeAllFromArray.values||[];r=new ht(i.map(function(e){return t.fromValue(e)}))}else m("Unknown transform proto: "+JSON.stringify(e));var o=se.fromServerFormat(e.fieldPath);return new tt(o,r)},e.prototype.toDocumentsTarget=function(e){return{documents:[this.toQueryPath(e.path)]}},e.prototype.fromDocumentsTarget=function(e){var t=e.documents.length;g(1===t,"DocumentsTarget contained other than 1 document: "+t);var n=e.documents[0];return qe.atPath(this.fromQueryPath(n))},e.prototype.toQueryTarget=function(e){var t={structuredQuery:{}};if(e.path.isEmpty())t.parent=this.toQueryPath(oe.EMPTY_PATH);else{var n=e.path;g(n.length%2!=0,"Document queries with filters are not supported."),t.parent=this.toQueryPath(n.popLast()),t.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(e.filters);r&&(t.structuredQuery.where=r);var i=this.toOrder(e.orderBy);i&&(t.structuredQuery.orderBy=i);var o=this.toInt32Value(e.limit);return void 0!==o&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt=this.toCursor(e.startAt)),e.endAt&&(t.structuredQuery.endAt=this.toCursor(e.endAt)),t},e.prototype.fromQueryTarget=function(e){var t=this.fromQueryPath(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0;if(r>0){g(1===r,"StructuredQuery.from with more than one collection is not supported.");var i=n.from[0];t=t.child(i.collectionId)}var o=[];n.where&&(o=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var s=null;n.limit&&(s=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var c=null;return n.endAt&&(c=this.fromCursor(n.endAt)),new qe(t,a,o,s,u,c)},e.prototype.toListenRequestLabels=function(e){var t=this.toLabel(e.purpose);return null==t?null:{"goog-listen-tags":t}},e.prototype.toLabel=function(e){switch(e){case Ue.Listen:return null;case Ue.ExistenceFilterMismatch:return"existence-filter-mismatch";case Ue.LimboResolution:return"limbo-document";default:return m("Unrecognized query purpose: "+e)}},e.prototype.toTarget=function(e){var t,n=e.query;return(t=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)}).targetId=e.targetId,e.resumeToken.length>0&&(t.resumeToken=this.unsafeCastProtoByteString(e.resumeToken)),t},e.prototype.toFilter=function(e){var t=this;if(0!==e.length){var n=e.map(function(e){return e instanceof We?t.toRelationFilter(e):t.toUnaryFilter(e)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},e.prototype.fromFilter=function(e){var t=this;return e?void 0!==e.unaryFilter?[this.fromUnaryFilter(e)]:void 0!==e.fieldFilter?[this.fromRelationFilter(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(function(e){return t.fromFilter(e)}).reduce(function(e,t){return e.concat(t)}):m("Unknown filter: "+JSON.stringify(e)):[]},e.prototype.toOrder=function(e){var t=this;if(0!==e.length)return e.map(function(e){return t.toPropertyOrder(e)})},e.prototype.fromOrder=function(e){var t=this;return e.map(function(e){return t.fromPropertyOrder(e)})},e.prototype.toCursor=function(e){var t=this;return{before:e.before,values:e.position.map(function(e){return t.toValue(e)})}},e.prototype.fromCursor=function(e){var t=this,n=!!e.before,r=e.values.map(function(e){return t.fromValue(e)});return new Qe(r,n)},e.prototype.toDirection=function(e){return Wt[e.name]},e.prototype.fromDirection=function(e){switch(e){case"ASCENDING":return He.ASCENDING;case"DESCENDING":return He.DESCENDING;default:return}},e.prototype.toOperatorName=function(e){return zt[e.name]},e.prototype.fromOperatorName=function(e){switch(e){case"EQUAL":return Ve.EQUAL;case"GREATER_THAN":return Ve.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Ve.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Ve.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Ve.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Ve.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return m("Unspecified relation");default:return m("Unknown relation")}},e.prototype.toFieldPathReference=function(e){return{fieldPath:e.canonicalString()}},e.prototype.fromFieldPathReference=function(e){return se.fromServerFormat(e.fieldPath)},e.prototype.toPropertyOrder=function(e){return{field:this.toFieldPathReference(e.field),direction:this.toDirection(e.dir)}},e.prototype.fromPropertyOrder=function(e){return new Ge(this.fromFieldPathReference(e.field),this.fromDirection(e.direction))},e.prototype.toRelationFilter=function(e){return e instanceof We?{fieldFilter:{field:this.toFieldPathReference(e.field),op:this.toOperatorName(e.op),value:this.toValue(e.value)}}:m("Unrecognized filter: "+JSON.stringify(e))},e.prototype.fromRelationFilter=function(e){return new We(this.fromFieldPathReference(e.fieldFilter.field),this.fromOperatorName(e.fieldFilter.op),this.fromValue(e.fieldFilter.value))},e.prototype.toUnaryFilter=function(e){return e instanceof Ke?{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NAN"}}:e instanceof ze?{unaryFilter:{field:this.toFieldPathReference(e.field),op:"IS_NULL"}}:m("Unrecognized filter: "+JSON.stringify(e))},e.prototype.fromUnaryFilter=function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=this.fromFieldPathReference(e.unaryFilter.field);return new Ke(t);case"IS_NULL":var n=this.fromFieldPathReference(e.unaryFilter.field);return new ze(n);case"OPERATOR_UNSPECIFIED":return m("Unspecified filter");default:return m("Unknown filter")}},e.prototype.toDocumentMask=function(e){return{fieldPaths:e.fields.map(function(e){return e.canonicalString()})}},e.prototype.fromDocumentMask=function(e){var t=(e.fieldPaths||[]).map(function(e){return se.fromServerFormat(e)});return new et(t)},e}();function Xt(e,t,n){return t===n||!t&&n in e}var Yt="FirebaseError",$t=Error.captureStackTrace,Jt=function(){return function(e,t){if(this.code=e,this.message=t,$t)$t(this,Zt.prototype.create);else try{throw Error.apply(this,arguments)}catch(e){this.name=Yt,Object.defineProperty(this,"stack",{get:function(){return e.stack}})}}}();Jt.prototype=Object.create(Error.prototype),Jt.prototype.constructor=Jt,Jt.prototype.name=Yt;var Zt=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return e.prototype.create=function(e,t){void 0===t&&(t={});var n,r=this.errors[e],i=this.service+"/"+e;n=void 0===r?"Error":r.replace(this.pattern,function(e,n){var r=t[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new Jt(i,n);for(var a in t)t.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=t[a]);return o},e}(),en=(function(e){function t(){var t=e.call(this)||this;t.chain_=[],t.buf_=[],t.W_=[],t.pad_=[],t.inbuf_=0,t.total_=0,t.blockSize=64,t.pad_[0]=128;for(var n=1;n<t.blockSize;++n)t.pad_[n]=0;return t.reset(),t}a.__extends(t,e),t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0==o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},t.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e}}(function(){return function(){this.blockSize=-1}}()),function(){function e(e){this.sendFn=e.sendFn,this.closeFn=e.closeFn}return e.prototype.onOpen=function(e){g(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=e},e.prototype.onClose=function(e){g(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=e},e.prototype.onMessage=function(e){g(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=e},e.prototype.close=function(){this.closeFn()},e.prototype.send=function(e){this.sendFn(e)},e.prototype.callOnOpen=function(){g(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},e.prototype.callOnClose=function(e){g(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(e)},e.prototype.callOnMessage=function(e){g(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(e)},e}()),tn="Connection",nn={BatchGetDocuments:"batchGet",Commit:"commit"},rn="gl-js/ fire/"+u,on=function(){function e(e){this.databaseId=e.databaseId,this.pool=new s.XhrIoPool;var t=e.ssl?"https":"http";this.baseUrl=t+"://"+e.host}return e.prototype.modifyHeadersForRequest=function(e,t){if(t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n]);e["X-Goog-Api-Client"]=rn},e.prototype.invokeRPC=function(e,t,n){var r=this,i=this.makeUrl(e);return new Promise(function(o,a){r.pool.getObject(function(u){u.listenOnce(s.EventType.COMPLETE,function(){try{switch(u.getLastErrorCode()){case s.ErrorCode.NO_ERROR:var t=u.getResponseJson();f(tn,"XHR received:",JSON.stringify(t)),o(t);break;case s.ErrorCode.TIMEOUT:f(tn,'RPC "'+e+'" timed out'),a(new w(b.DEADLINE_EXCEEDED,"Request time out"));break;case s.ErrorCode.HTTP_ERROR:var n=u.getStatus();f(tn,'RPC "'+e+'" failed with status:',n,"response text:",u.getResponseText()),n>0?a(new w(function(e){switch(e){case 200:return b.OK;case 400:return b.INVALID_ARGUMENT;case 401:return b.UNAUTHENTICATED;case 403:return b.PERMISSION_DENIED;case 404:return b.NOT_FOUND;case 409:return b.ABORTED;case 416:return b.OUT_OF_RANGE;case 429:return b.RESOURCE_EXHAUSTED;case 499:return b.CANCELLED;case 500:return b.UNKNOWN;case 501:return b.UNIMPLEMENTED;case 503:return b.UNAVAILABLE;case 504:return b.DEADLINE_EXCEEDED;default:return e>=200&&e<300?b.OK:e>=400&&e<500?b.FAILED_PRECONDITION:e>=500&&e<600?b.INTERNAL:b.UNKNOWN}}(n),"Server responded with status "+u.getStatusText())):(f(tn,'RPC "'+e+'" failed'),a(new w(b.UNAVAILABLE,"Connection failed.")));break;default:m('RPC "'+e+'" failed with unanticipated webchannel error '+u.getLastErrorCode()+": "+u.getLastError()+", giving up.")}}finally{f(tn,'RPC "'+e+'" completed.'),r.pool.releaseObject(u)}});var c=JSON.stringify(t);f(tn,"XHR sending: ",i+" "+c);var l={"Content-Type":"text/plain"};r.modifyHeadersForRequest(l,n),u.send(i,"POST",c,l,15)})})},e.prototype.invokeStreamingRPC=function(e,t,n){return this.invokeRPC(e,t,n)},e.prototype.openStream=function(e,t){var n=[this.baseUrl,"/","google.firestore.v1beta1.Firestore","/",e,"/channel"],r=s.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(i.initMessageHeaders,t),"object"==typeof navigator&&"ReactNative"===navigator.product||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");f(tn,"Creating WebChannel: "+o+" "+i);var a=r.createWebChannel(o,i),u=!1,c=!1,l=new en({sendFn:function(e){c?f(tn,"Not sending because WebChannel is closed:",e):(u||(f(tn,"Opening WebChannel transport."),a.open(),u=!0),f(tn,"WebChannel sending:",e),a.send(e))},closeFn:function(){return a.close()}}),h=function(e,t){a.listen(e,function(e){try{t(e)}catch(e){setTimeout(function(){throw e},0)}})};return h(s.WebChannel.EventType.OPEN,function(){c||f(tn,"WebChannel transport opened.")}),h(s.WebChannel.EventType.CLOSE,function(){c||(c=!0,f(tn,"WebChannel transport closed"),l.callOnClose())}),h(s.WebChannel.EventType.ERROR,function(e){c||(c=!0,f(tn,"WebChannel transport errored:",e),l.callOnClose(new w(b.UNAVAILABLE,"The operation could not be completed")))}),h(s.WebChannel.EventType.MESSAGE,function(e){if(!c){var t=e.data[0];g(!!t,"Got a webchannel message without data.");var n=t.error||t[0]&&t[0].error;if(n){f(tn,"WebChannel received error:",n);var r=n.status,i=function(e){var t=pt[e];if(void 0!==t)return gt(t)}(r),o=n.message;void 0===i&&(i=b.INTERNAL,o="Unknown error status: "+r+" with message "+n.message),c=!0,l.callOnClose(new w(i,o)),a.close()}else f(tn,"WebChannel received:",t),l.callOnMessage(t)}}),setTimeout(function(){l.callOnOpen()},0),l},e.prototype.makeUrl=function(e){var t=nn[e];g(void 0!==t,"Unknown REST mapping for: "+e);var n=[this.baseUrl,"/","v1beta1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(t),n.join("")},e}(),an=function(){function e(){this.emptyByteString="",this.base64Available="undefined"!=typeof atob}return Object.defineProperty(e.prototype,"document",{get:function(){return"undefined"!=typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"window",{get:function(){return"undefined"!=typeof window?window:null},enumerable:!0,configurable:!0}),e.prototype.loadConnection=function(e){return Promise.resolve(new on(e))},e.prototype.newSerializer=function(e){return new Gt(e,{useProto3Json:!0})},e.prototype.formatJSON=function(e){return JSON.stringify(e)},e.prototype.atob=function(e){return atob(e)},e.prototype.btoa=function(e){return btoa(e)},e}();y.setPlatform(new an);var sn,un=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.setPreviousValue(e)},this.writeNewSequenceNumber=function(e){return t.writeSequenceNumber(e)})}return e.prototype.setPreviousValue=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(e),e},e.INVALID=-1,e}(),cn=function(){return function(){var e=this;this.promise=new Promise(function(t,n){e.resolve=t,e.reject=n})}}();!function(e){e.All="all",e.ListenStreamIdle="listen_stream_idle",e.ListenStreamConnectionBackoff="listen_stream_connection_backoff",e.WriteStreamIdle="write_stream_idle",e.WriteStreamConnectionBackoff="write_stream_connection_backoff",e.OnlineStateTimeout="online_state_timeout",e.ClientMetadataRefresh="client_metadata_refresh"}(sn||(sn={}));var ln=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new w(b.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}(),hn=function(){function e(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueue=function(e){var t=this;this.verifyNotFailed();var n=this.tail.then(function(){return t.operationInProgress=!0,e().catch(function(e){t.failure=e,t.operationInProgress=!1;var n=e.stack||e.message||"";throw p("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw e},0),e}).then(function(e){return t.operationInProgress=!1,e})});return this.tail=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.verifyNotFailed(),g(t>=0,"Attempted to schedule an operation with a negative delay of "+t),g(!this.containsDelayedOperation(e),"Attempted to schedule multiple operations with timer id "+e+".");var i=ln.createAndSchedule(this,e,t,n,function(e){return r.removeDelayedOperation(e)});return this.delayedOperations.push(i),i},e.prototype.verifyNotFailed=function(){this.failure&&m("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},e.prototype.verifyOperationInProgress=function(){g(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},e.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},e.prototype.containsDelayedOperation=function(e){for(var t=0,n=this.delayedOperations;t<n.length;t++){if(n[t].timerId===e)return!0}return!1},e.prototype.runDelayedOperationsEarly=function(e){var t=this;return this.drain().then(function(){g(e===sn.All||t.containsDelayedOperation(e),"Attempted to drain to missing operation "+e),t.delayedOperations.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});for(var n=0,r=t.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),e!==sn.All&&i.timerId===e)break}return t.drain()})},e.prototype.removeDelayedOperation=function(e){var t=this.delayedOperations.indexOf(e);g(t>=0,"Delayed operation not found."),this.delayedOperations.splice(t,1)},e}(),fn="",pn="",dn="",mn="";function gn(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=vn(t)),t=yn(e.get(n),t);return vn(t)}function yn(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+=fn+dn;break;case fn:n+=fn+mn;break;default:n+=o}}return n}function vn(e){return e+fn+pn}function bn(e){var t=e.length;if(g(t>=2,"Invalid path "+e),2===t)return g(e.charAt(0)===fn&&e.charAt(1)===pn,"Non-empty path "+e+" had length 2"),oe.EMPTY_PATH;for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf(fn,o);switch((a<0||a>n)&&m('Invalid encoded resource path: "'+e+'"'),e.charAt(a+1)){case pn:var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case dn:i+=e.substring(o,a),i+="\0";break;case mn:i+=e.substring(o,a+1);break;default:m('Invalid encoded resource path: "'+e+'"')}o=a+2}return new oe(r)}var wn=-1,_n=function(){function e(e,t,n){this.batchId=e,this.localWriteTime=t,this.mutations=n}return e.prototype.applyToRemoteDocument=function(e,t,n){t&&g(t.key.isEqual(e),"applyToRemoteDocument: key "+e+" should match maybeDoc key\n        "+t.key);var r=n.mutationResults;g(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(e)){var a=r[i];t=o.applyToRemoteDocument(t,a)}}return t},e.prototype.applyToLocalView=function(e,t){t&&g(t.key.isEqual(e),"applyToLocalDocument: key "+e+" should match maybeDoc key\n        "+t.key);for(var n=t,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e)&&(t=i.applyToLocalView(t,n,this.localWriteTime))}return t},e.prototype.keys=function(){for(var e=kt(),t=0,n=this.mutations;t<n.length;t++){var r=n[t];e=e.add(r.key)}return e},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&H(this.mutations,e.mutations)},e.prototype.isTombstone=function(){return 0===this.mutations.length},e.prototype.toTombstone=function(){return new e(this.batchId,this.localWriteTime,[])},e}(),En=function(){function e(e,t,n,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return e.from=function(t,n,r,i){g(t.mutations.length===r.length,"Mutations sent "+t.mutations.length+" must equal results received "+r.length);for(var o=Tt(),a=t.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,r[s].version);return new e(t,n,r,i,o)},e}(),Tn=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)},function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)})}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&m("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})},e.prototype.toPromise=function(){var e=this;return new Promise(function(t,n){e.next(t,n)})},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)},e.resolve=function(t){return new e(function(e,n){e(t)})},e.reject=function(t){return new e(function(e,n){n(t)})},e.waitFor=function(t){return new e(function(e,n){var r=0,i=0,o=!1;t.forEach(function(t){++r,t.next(function(){++i,o&&i===r&&e()},function(e){return n(e)})}),o=!0,i===r&&e()})},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next(function(n){return n?e.resolve(n):t()})},i=0,o=t;i<o.length;i++){r(o[i])}return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)},e}(),Sn=function(){function e(e){this.mapKeyFn=e,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(r[i][0].isEqual(e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){k(this.inner,function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}})},e.prototype.isEmpty=function(){return C(this.inner)},e}(),kn=function(){function e(){this.changes=bt(),this.documentSizes=new Sn(function(e){return e.toString()})}return e.prototype.addEntry=function(e){var t=this.assertChanges();this.changes=t.insert(e.key,e)},e.prototype.getEntry=function(e,t){var n=this,r=this.assertChanges().get(t);return r?Tn.resolve(r):this.getFromCache(e,t).next(function(e){return null===e?(n.documentSizes.set(t,0),null):(n.documentSizes.set(t,e.size),e.maybeDocument)})},e.prototype.apply=function(e){var t=this.applyChanges(e);return this.changes=null,t},e.prototype.assertChanges=function(){return g(null!==this.changes,"Changes have already been applied."),this.changes},e}(),Cn=function(){function t(e){this.db=e}return t.openOrCreate=function(e,n,r){return g(t.isAvailable(),"IndexedDB not supported in current environment."),f("SimpleDb","Opening database:",e),new Tn(function(i,o){var a=window.indexedDB.open(e,n);a.onsuccess=function(e){var n=e.target.result;i(new t(n))},a.onblocked=function(){o(new w(b.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(e){o(e.target.error)},a.onupgradeneeded=function(t){f("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new In(a.transaction);r.createOrUpgrade(n,i,t.oldVersion,Un).next(function(){f("SimpleDb","Database upgrade to version "+Un+" complete")})}}).toPromise()},t.delete=function(e){return f("SimpleDb","Removing database:",e),An(window.indexedDB.deleteDatabase(e)).toPromise()},t.isAvailable=function(){if("undefined"==typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===e.env.USE_MOCK_PERSISTENCE;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.getStore=function(e,t){return e.store(t)},t.prototype.runTransaction=function(e,t,n){var r=In.open(this.db,e,t),i=n(r).catch(function(e){r.abort(e)}).toPromise();return r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),xn=function(){function e(e){this.dbCursor=e,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.dbCursor=e},enumerable:!0,configurable:!0}),e.prototype.done=function(){this.shouldStop=!0},e.prototype.skip=function(e){this.nextKey=e},e.prototype.delete=function(){return An(this.dbCursor.delete())},e}(),In=function(){function e(e){var t=this;this.transaction=e,this.aborted=!1,this.completionDeferred=new cn,this.transaction.oncomplete=function(){t.completionDeferred.resolve()},this.transaction.onabort=function(){e.error?t.completionDeferred.reject(e.error):t.completionDeferred.resolve()},this.transaction.onerror=function(e){t.completionDeferred.reject(e.target.error)}}return e.open=function(t,n,r){return new e(t.transaction(r,n))},Object.defineProperty(e.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),e.prototype.abort=function(e){e&&this.completionDeferred.reject(e),this.aborted||(f("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return g(!!t,"Object store not part of transaction: "+e),new Nn(t)},e}(),Nn=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(f("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(f("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),An(n)},e.prototype.add=function(e){return f("SimpleDb","ADD",this.store.name,e,e),An(this.store.add(e))},e.prototype.get=function(e){var t=this;return An(this.store.get(e)).next(function(n){return void 0===n&&(n=null),f("SimpleDb","GET",t.store.name,e,n),n})},e.prototype.delete=function(e){return f("SimpleDb","DELETE",this.store.name,e),An(this.store.delete(e))},e.prototype.count=function(){return f("SimpleDb","COUNT",this.store.name),An(this.store.count())},e.prototype.loadAll=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.iterateCursor(n,function(e,t){r.push(t)}).next(function(){return r})},e.prototype.deleteAll=function(e,t){f("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(e,t,n){return n.delete()})},e.prototype.iterate=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.iterateCursor(r,t)},e.prototype.iterateSerial=function(e){var t=this.cursor({});return new Tn(function(n,r){t.onerror=function(e){r(e.target.error)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next(function(e){e?r.continue():n()}):n()}})},e.prototype.iterateCursor=function(e,t){var n=[];return new Tn(function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new xn(i),a=t(i.primaryKey,i.value,o);if(a instanceof Tn){var s=a.catch(function(e){return o.done(),Tn.reject(e)});n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}else r()}}).next(function(){return Tn.waitFor(n)})},e.prototype.options=function(e,t){var n=void 0;return void 0!==e&&("string"==typeof e?n=e:(g(void 0===t,"3rd argument must not be defined if 2nd is a range."),t=e)),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.keysOnly?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function An(e){return new Tn(function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){n(e.target.error)}})}var Dn="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",On=function(){function e(e,t){this.serializer=e,this.keepDocumentChangeLog=t,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(e.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),e.prototype.start=function(e){var t=Cn.getStore(e,er.store);return this.synchronizeLastDocumentChangeId(t)},e.prototype.addEntries=function(e,t,n){var r=[];if(t.length>0){for(var i=Ln(e),o=kt(),a=0,s=t;a<s.length;a++){var u=s[a],c=u.key,l=u.doc;r.push(i.put(Fn(c),l)),o=o.add(c)}this.keepDocumentChangeLog&&r.push(Mn(e).put({changes:this.serializer.toDbResourcePaths(o)})),r.push(this.updateSize(e,n))}return Tn.waitFor(r)},e.prototype.removeEntry=function(e,t){var n=Ln(e),r=Fn(t);return n.get(r).next(function(e){return e?n.delete(r).next(function(){return jn(e)}):Tn.resolve(0)})},e.prototype.getEntry=function(e,t){var n=this;return Ln(e).get(Fn(t)).next(function(e){return e?n.serializer.fromDbRemoteDocument(e):null})},e.prototype.getSizedEntry=function(e,t){var n=this;return Ln(e).get(Fn(t)).next(function(e){return e?{maybeDocument:n.serializer.fromDbRemoteDocument(e),size:jn(e)}:null})},e.prototype.getDocumentsMatchingQuery=function(e,t){var n=this,r=_t(),i=t.path.toArray(),o=IDBKeyRange.lowerBound(i);return Ln(e).iterate({range:o},function(e,i,o){var a=n.serializer.fromDbRemoteDocument(i);t.path.isPrefixOf(a.key.path)?a instanceof le&&t.matches(a)&&(r=r.insert(a.key,a)):o.done()}).next(function(){return r})},e.prototype.getNewDocumentChanges=function(e){var t=this;g(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=kt(),r=bt(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=Mn(e);return a.iterate({range:i},function(e,r){if(o&&(o=!1,t._lastProcessedDocumentChangeId+1!==r.id))return t.synchronizeLastDocumentChangeId(a).next(function(){return Tn.reject(new w(b.DATA_LOSS,Dn))});n=n.unionWith(t.serializer.fromDbResourcePaths(r.changes)),t._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(t.getEntry(e,n).next(function(e){var t=e||new he(n,$e.forDeletedDoc());r=r.insert(n,t)}))}),Tn.waitFor(i)}).next(function(){return r})},e.prototype.removeDocumentChangesThroughChangeId=function(e,t){var n=IDBKeyRange.upperBound(t);return Mn(e).delete(n)},e.prototype.synchronizeLastDocumentChangeId=function(e){var t=this;return this._lastProcessedDocumentChangeId=0,e.iterate({keysOnly:!0,reverse:!0},function(e,n,r){t._lastProcessedDocumentChangeId=e,r.done()})},e.prototype.newChangeBuffer=function(){return new Rn(this)},e.prototype.getSize=function(e){return this.getMetadata(e).next(function(e){return e.byteSize})},e.prototype.getMetadata=function(e){return Pn(e).get(Xn.key).next(function(e){return g(!!e,"Missing document cache metadata"),e})},e.prototype.setMetadata=function(e,t){return Pn(e).put(Xn.key,t)},e.prototype.updateSize=function(e,t){var n=this;return this.getMetadata(e).next(function(r){return r.byteSize+=t,n.setMetadata(e,r)})},e}();function Pn(e){return xr.getStore(e,Xn.store)}var Rn=function(e){function t(t){var n=e.call(this)||this;return n.documentCache=t,n}return a.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=0,r=[];return this.assertChanges().forEach(function(e,i){var o=t.documentCache.serializer.toDbRemoteDocument(i),a=t.documentSizes.get(e);g(void 0!==a,"Attempting to change document "+e.toString()+" without having read it first");var s=jn(o);n+=s-a,r.push({key:e,doc:o})}),this.documentCache.addEntries(e,r,n)},t.prototype.getFromCache=function(e,t){return this.documentCache.getSizedEntry(e,t)},t}(kn);function Ln(e){return xr.getStore(e,Gn.store)}function Mn(e){return xr.getStore(e,er.store)}function Fn(e){return e.path.toArray()}function jn(e){var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw m("Unknown remote document type");t=e.noDocument}return JSON.stringify(t).length}var Un=6,qn=function(){function e(e){this.serializer=e}return e.prototype.createOrUpgrade=function(e,t,n,r){var i=this;g(n<r&&n>=0&&r<=Un,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(function(e){e.createObjectStore(Vn.store)}(e),function(e){e.createObjectStore(Wn.store,{keyPath:Wn.keyPath}),e.createObjectStore(zn.store,{keyPath:zn.keyPath,autoIncrement:!0}).createIndex(zn.userMutationsIndex,zn.userMutationsKeyPath,{unique:!0}),e.createObjectStore(Kn.store)}(e),Zn(e),function(e){e.createObjectStore(Gn.store)}(e));var o=Tn.resolve();return n<3&&r>=3&&(0!==n&&(!function(e){e.deleteObjectStore($n.store),e.deleteObjectStore(Yn.store),e.deleteObjectStore(Jn.store)}(e),Zn(e)),o=o.next(function(){return function(e){var t=e.store(Jn.store),n=new Jn(0,0,$e.MIN.toTimestamp(),0);return t.put(Jn.key,n)}(t)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(e,t){return t.store(zn.store).loadAll().next(function(n){e.deleteObjectStore(zn.store);var r=e.createObjectStore(zn.store,{keyPath:zn.keyPath,autoIncrement:!0});r.createIndex(zn.userMutationsIndex,zn.userMutationsKeyPath,{unique:!0});var i=t.store(zn.store),o=n.map(function(e){return i.put(e)});return Tn.waitFor(o)})}(e,t)})),o=o.next(function(){!function(e){e.createObjectStore(tr.store,{keyPath:tr.keyPath})}(e),function(e){e.createObjectStore(er.store,{keyPath:"id",autoIncrement:!0})}(e)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(t)})),n<6&&r>=6&&(o=o.next(function(){return function(e){e.createObjectStore(Xn.store)}(e),i.addDocumentGlobal(t)})),o},e.prototype.addDocumentGlobal=function(e){var t=0;return e.store(Gn.store).iterate(function(e,n){t+=jn(n)}).next(function(){var n=new Xn(t);return e.store(Xn.store).put(Xn.key,n)})},e.prototype.removeAcknowledgedMutations=function(e){var t=this,n=e.store(Wn.store),r=e.store(zn.store);return n.loadAll().next(function(n){return Tn.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,wn],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(zn.userMutationsIndex,i).next(function(r){return Tn.forEach(r,function(r){g(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=t.serializer.fromDbMutationBatch(r);return or(e,n.userId,i).next(function(){})})})})})},e}(),Bn=function(){return function(e,t){this.seconds=e,this.nanoseconds=t}}(),Vn=function(){function e(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n}return e.store="owner",e.key="owner",e}();var Wn=function(){function e(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n}return e.store="mutationQueues",e.keyPath="userId",e}(),zn=function(){function e(e,t,n,r){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.mutations=r}return e.store="mutations",e.keyPath="batchId",e.userMutationsIndex="userMutationsIndex",e.userMutationsKeyPath=["userId","batchId"],e}();var Kn=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,gn(t)]},e.key=function(e,t,n){return[e,gn(t),n]},e.store="documentMutations",e.PLACEHOLDER=new e,e}();var Hn=function(){return function(e,t){this.path=e,this.readTime=t}}(),Qn=function(){return function(e,t){this.path=e,this.version=t}}(),Gn=function(){function e(e,t,n,r){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r}return e.store="remoteDocuments",e}(),Xn=function(){function e(e){this.byteSize=e}return e.store="remoteDocumentGlobal",e.key="remoteDocumentGlobalKey",e}();var Yn=function(){function e(e,t,n,r,i,o){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return e.store="targets",e.keyPath="targetId",e.queryTargetsIndexName="queryTargetsIndex",e.queryTargetsKeyPath=["canonicalId","targetId"],e}(),$n=function(){function e(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n,g(0===e==(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return e.store="targetDocuments",e.keyPath=["targetId","path"],e.documentTargetsIndex="documentTargetsIndex",e.documentTargetsKeyPath=["path","targetId"],e}(),Jn=function(){function e(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return e.key="targetGlobalKey",e.store="targetGlobal",e}();function Zn(e){e.createObjectStore($n.store,{keyPath:$n.keyPath}).createIndex($n.documentTargetsIndex,$n.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(Yn.store,{keyPath:Yn.keyPath}).createIndex(Yn.queryTargetsIndexName,Yn.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(Jn.store)}var er=function(){function e(e){this.changes=e}return e.store="remoteDocumentChanges",e.keyPath="id",e}();var tr=function(){function e(e,t,n,r,i){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return e.store="clientMetadata",e.keyPath="clientId",e}();var nr=[Wn.store,zn.store,Kn.store,Gn.store,Yn.store,Vn.store,Jn.store,$n.store].concat([tr.store,er.store]).concat([Xn.store]),rr=function(){function e(e,t,n){this.userId=e,this.serializer=t,this.referenceDelegate=n,this.documentKeysByBatchId={}}return e.forUser=function(t,n,r){return g(""!==t.uid,"UserID must not be an empty string."),new e(t.isAuthenticated()?t.uid:"",n,r)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sr(e).iterate({index:zn.userMutationsIndex,range:n},function(e,n,r){t=!1,r.done()}).next(function(){return t})},e.prototype.acknowledgeBatch=function(e,t,n){return this.getMutationQueueMetadata(e).next(function(r){var i=t.batchId;return g(i>r.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),r.lastAcknowledgedBatchId=i,r.lastStreamToken=ar(n),cr(e).put(r)})},e.prototype.getLastStreamToken=function(e){return this.getMutationQueueMetadata(e).next(function(e){return e.lastStreamToken})},e.prototype.setLastStreamToken=function(e,t){return this.getMutationQueueMetadata(e).next(function(n){return n.lastStreamToken=ar(t),cr(e).put(n)})},e.prototype.addMutationBatch=function(e,t,n){var r=this,i=ur(e),o=sr(e);return o.add({}).next(function(e){g("number"==typeof e,"Auto-generated key is not a number");var a=new _n(e,t,n),s=r.serializer.toDbMutationBatch(r.userId,a);r.documentKeysByBatchId[e]=a.keys();for(var u=[],c=0,l=n;c<l.length;c++){var h=l[c],f=Kn.key(r.userId,h.key.path,e);u.push(o.put(s)),u.push(i.put(f,Kn.PLACEHOLDER))}return Tn.waitFor(u).next(function(){return a})})},e.prototype.lookupMutationBatch=function(e,t){var n=this;return sr(e).get(t).next(function(e){return e?(g(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),n.serializer.fromDbMutationBatch(e)):null})},e.prototype.lookupMutationKeys=function(e,t){var n=this;return this.documentKeysByBatchId[t]?Tn.resolve(this.documentKeysByBatchId[t]):this.lookupMutationBatch(e,t).next(function(e){if(e){var r=e.keys();return n.documentKeysByBatchId[t]=r,r}return null})},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this;return this.getMutationQueueMetadata(e).next(function(r){var i=Math.max(t,r.lastAcknowledgedBatchId)+1,o=IDBKeyRange.lowerBound([n.userId,i]),a=null;return sr(e).iterate({index:zn.userMutationsIndex,range:o},function(e,t,r){t.userId===n.userId&&(g(t.batchId>=i,"Should have found mutation after "+i),a=n.serializer.fromDbMutationBatch(t)),r.done()}).next(function(){return a})})},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,wn],[this.userId,Number.POSITIVE_INFINITY]);return sr(e).loadAll(zn.userMutationsIndex,n).next(function(e){return e.map(function(e){return t.serializer.fromDbMutationBatch(e)})})},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=Kn.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return ur(e).iterate({range:i},function(r,i,a){var s=r[0],u=r[1],c=r[2],l=bn(u);if(s===n.userId&&t.path.isEqual(l))return sr(e).get(c).next(function(e){if(!e)throw m("Dangling document-mutation reference found: "+r+" which points to "+c);g(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+c),o.push(n.serializer.fromDbMutationBatch(e))});a.done()}).next(function(){return o})},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new yt(K),i=[];return t.forEach(function(t){var o=Kn.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=ur(e).iterate({range:a},function(e,i,o){var a=e[0],s=e[1],u=e[2],c=bn(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()});i.push(s)}),Tn.waitFor(i).next(function(){return n.lookupMutationBatches(e,r)})},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this;g(!t.isDocumentQuery(),"Document queries shouldn't go down this path");var r=t.path,i=r.length+1,o=Kn.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new yt(K);return ur(e).iterate({range:a},function(e,t,o){var a=e[0],u=e[1],c=e[2],l=bn(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()}).next(function(){return n.lookupMutationBatches(e,s)})},e.prototype.lookupMutationBatches=function(e,t){var n=this,r=[],i=[];return t.forEach(function(t){i.push(sr(e).get(t).next(function(e){if(null===e)throw m("Dangling document-mutation reference found, which points to "+t);g(e.userId===n.userId,"Unexpected user '"+e.userId+"' for mutation batch "+t),r.push(n.serializer.fromDbMutationBatch(e))}))}),Tn.waitFor(i).next(function(){return r})},e.prototype.removeMutationBatch=function(e,t){var n=this;return or(e.simpleDbTransaction,this.userId,t).next(function(r){return n.removeCachedMutationKeys(t.batchId),Tn.forEach(r,function(t){return n.referenceDelegate.removeMutationReference(e,t)})})},e.prototype.removeCachedMutationKeys=function(e){delete this.documentKeysByBatchId[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(n){if(!n)return Tn.resolve();var r=IDBKeyRange.lowerBound(Kn.prefixForUser(t.userId)),i=[];return ur(e).iterate({range:r},function(e,n,r){if(e[0]===t.userId){var o=bn(e[1]);i.push(o)}else r.done()}).next(function(){g(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(e){return e.canonicalString()}))})})},e.prototype.containsKey=function(e,t){return ir(e,this.userId,t)},e.prototype.getMutationQueueMetadata=function(e){var t=this;return cr(e).get(this.userId).next(function(e){return e||new Wn(t.userId,wn,"")})},e}();function ir(e,t,n){var r=Kn.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ur(e).iterate({range:o,keysOnly:!0},function(e,n,r){var o=e[0],s=e[1];e[2];o===t&&s===i&&(a=!0),r.done()}).next(function(){return a})}function or(e,t,n){var r=e.store(zn.store),i=e.store(Kn.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},function(e,t,n){return s++,n.delete()});o.push(u.next(function(){g(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=Kn.key(t,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return Tn.waitFor(o).next(function(){return c})}function ar(t){return t instanceof Uint8Array?(g("YES"===e.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function sr(e){return xr.getStore(e,zn.store)}function ur(e){return xr.getStore(e,Kn.store)}function cr(e){return xr.getStore(e,Wn.store)}var lr,hr=1;!function(e){e[e.QueryCache=0]="QueryCache",e[e.SyncEngine=1]="SyncEngine"}(lr||(lr={}));var fr=function(){function e(e,t){this.generatorId=e,g((e&hr)===e,"Generator ID "+e+" contains more than "+hr+" reserved bits"),this.seek(void 0!==t?t:this.generatorId)}return e.prototype.next=function(){var e=this.nextId;return this.nextId+=1<<hr,e},e.prototype.after=function(e){return this.seek(e+(1<<hr)),this.next()},e.prototype.seek=function(e){g((e&hr)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=e},e.forQueryCache=function(){return new e(lr.QueryCache,2)},e.forSyncEngine=function(){return new e(lr.SyncEngine)},e}(),pr=function(){function e(e,t){this.referenceDelegate=e,this.serializer=t,this.targetIdGenerator=fr.forQueryCache()}return e.prototype.allocateTargetId=function(e){var t=this;return this.retrieveMetadata(e).next(function(n){return n.highestTargetId=t.targetIdGenerator.after(n.highestTargetId),t.saveMetadata(e,n).next(function(){return n.highestTargetId})})},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.retrieveMetadata(e).next(function(e){return $e.fromTimestamp(new ee(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))})},e.prototype.getHighestSequenceNumber=function(e){return gr(e.simpleDbTransaction)},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.retrieveMetadata(e).next(function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.saveMetadata(e,i)})},e.prototype.addQueryData=function(e,t){var n=this;return this.saveQueryData(e,t).next(function(){return n.retrieveMetadata(e).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(t,r),n.saveMetadata(e,r)})})},e.prototype.updateQueryData=function(e,t){return this.saveQueryData(e,t)},e.prototype.removeQueryData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return dr(e).delete(t.targetId)}).next(function(){return n.retrieveMetadata(e)}).next(function(t){return g(t.targetCount>0,"Removing from an empty query cache"),t.targetCount-=1,n.saveMetadata(e,t)})},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return dr(e).iterate(function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=t&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(e,u)))}).next(function(){return Tn.waitFor(o)}).next(function(){return i})},e.prototype.forEachTarget=function(e,t){var n=this;return dr(e).iterate(function(e,r){var i=n.serializer.fromDbTarget(r);t(i)})},e.prototype.retrieveMetadata=function(e){return mr(e.simpleDbTransaction)},e.prototype.saveMetadata=function(e,t){return function(e){return xr.getStore(e,Jn.store)}(e).put(Jn.key,t)},e.prototype.saveQueryData=function(e,t){return dr(e).put(this.serializer.toDbTarget(t))},e.prototype.updateMetadataFromQueryData=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getQueryCount=function(e){return this.retrieveMetadata(e).next(function(e){return e.targetCount})},e.prototype.getQueryData=function(e,t){var n=this,r=t.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return dr(e).iterate({range:i,index:Yn.queryTargetsIndexName},function(e,r,i){var a=n.serializer.fromDbTarget(r);t.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=yr(e);return t.forEach(function(t){var a=gn(t.path);i.push(o.put(new $n(n,a))),i.push(r.referenceDelegate.addReference(e,t))}),Tn.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=yr(e);return Tn.forEach(t,function(t){var o=gn(t.path);return Tn.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,t)])})},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=yr(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=yr(e),i=kt();return r.iterate({range:n,keysOnly:!0},function(e,t,n){var r=bn(e[1]),o=new ue(r);i=i.add(o)}).next(function(){return i})},e.prototype.containsKey=function(e,t){var n=gn(t.path),r=IDBKeyRange.bound([n],[function(e){return e+"\0"}(n)],!1,!0),i=0;return yr(e).iterate({index:$n.documentTargetsIndex,keysOnly:!0,range:r},function(e,t,n){var r=e[0];e[1];0!==r&&(i++,n.done())}).next(function(){return i>0})},e.prototype.getQueryDataForTarget=function(e,t){var n=this;return dr(e).get(t).next(function(e){return e?n.serializer.fromDbTarget(e):null})},e}();function dr(e){return xr.getStore(e,Yn.store)}function mr(e){return Cn.getStore(e,Jn.store).get(Jn.key).next(function(e){return g(null!==e,"Missing metadata row."),e})}function gr(e){return mr(e).next(function(e){return e.highestListenSequenceNumber})}function yr(e){return xr.getStore(e,$n.store)}var vr=function(){function t(e){this.remoteSerializer=e}return t.prototype.fromDbRemoteDocument=function(e){if(e.document)return this.remoteSerializer.fromDocument(e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=ue.fromSegments(e.noDocument.path),n=this.fromDbTimestamp(e.noDocument.readTime);return new he(t,n,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){t=ue.fromSegments(e.unknownDocument.path),n=this.fromDbTimestamp(e.unknownDocument.version);return new fe(t,n)}return m("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(e){if(e instanceof le){var t=this.remoteSerializer.toDocument(e),n=e.hasCommittedMutations;return new Gn(null,null,t,n)}if(e instanceof he){var r=e.key.path.toArray(),i=this.toDbTimestamp(e.version);n=e.hasCommittedMutations;return new Gn(null,new Hn(r,i),null,n)}if(e instanceof fe){r=e.key.path.toArray(),i=this.toDbTimestamp(e.version);return new Gn(new Qn(r,i),null,null,!0)}return m("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(e){var t=e.toTimestamp();return new Bn(t.seconds,t.nanoseconds)},t.prototype.fromDbTimestamp=function(e){var t=new ee(e.seconds,e.nanoseconds);return $e.fromTimestamp(t)},t.prototype.toDbMutationBatch=function(e,t){var n=this,r=t.mutations.map(function(e){return n.remoteSerializer.toMutation(e)});return new zn(e,t.batchId,t.localWriteTime.toMillis(),r)},t.prototype.fromDbMutationBatch=function(e){var t=this,n=e.mutations.map(function(e){return t.remoteSerializer.fromMutation(e)}),r=ee.fromMillis(e.localWriteTimeMs);return new _n(e.batchId,r,n)},t.prototype.toDbResourcePaths=function(e){var t=[];return e.forEach(function(e){t.push(gn(e.path))}),t},t.prototype.fromDbResourcePaths=function(e){for(var t=kt(),n=0,r=e;n<r.length;n++){var i=r[n];t=t.add(new ue(bn(i)))}return t},t.prototype.fromDbTarget=function(e){var t,n=this.fromDbTimestamp(e.readTime);return t=function(e){return void 0!==e.documents}(e.query)?this.remoteSerializer.fromDocumentsTarget(e.query):this.remoteSerializer.fromQueryTarget(e.query),new Ze(t,e.targetId,Ue.Listen,e.lastListenSequenceNumber,n,e.resumeToken)},t.prototype.toDbTarget=function(t){g(Ue.Listen===t.purpose,"Only queries with purpose "+Ue.Listen+" may be stored, got "+t.purpose);var n,r,i=this.toDbTimestamp(t.snapshotVersion);return n=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query),t.resumeToken instanceof Uint8Array?(g("YES"===e.env.USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),r=t.resumeToken.toString()):r=t.resumeToken,new Yn(t.targetId,t.query.canonicalId(),i,r,t.sequenceNumber,n)},t}();function br(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=K(n,i);return 0===a?K(r,o):a}var wr=function(){function e(e){this.maxElements=e,this.buffer=new yt(br),this.previousIndex=0}return e.prototype.nextIndex=function(){return++this.previousIndex},e.prototype.addElement=function(e){var t=[e,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();br(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),e}(),_r=function(){function e(e){this.delegate=e}return e.prototype.calculateTargetCount=function(e,t){return this.delegate.getTargetCount(e).next(function(e){return Math.floor(t/100*e)})},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return Tn.resolve(un.INVALID);var r=new wr(t);return this.delegate.forEachTarget(e,function(e){return r.addElement(e.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(e,function(e){return r.addElement(e)})}).next(function(){return r.maxValue})},e.prototype.removeTargets=function(e,t,n){return this.delegate.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.delegate.removeOrphanedDocuments(e,t)},e}(),Er="IndexedDbPersistence",Tr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Sr="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.",kr="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",Cr=function(e){function t(t,n){var r=e.call(this)||this;return r.simpleDbTransaction=t,r.currentSequenceNumber=n,r}return a.__extends(t,e),t}(function(){return function(){}}()),xr=function(){function e(t,n,r,i,o,a){if(this.persistenceKey=t,this.clientId=n,this.queue=i,this.multiClientParams=a,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(e){return Promise.resolve()},!e.isAvailable())throw new w(b.UNIMPLEMENTED,kr);if(this.referenceDelegate=new Dr(this),this.dbName=t+e.MAIN_DATABASE,this.serializer=new vr(o),this.document=r.document,this.allowTabSynchronization=void 0!==a,this.queryCache=new pr(this.referenceDelegate,this.serializer),this.remoteDocumentCache=new On(this.serializer,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new w(b.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return e.getStore=function(e,t){if(e instanceof Cr)return Cn.getStore(e.simpleDbTransaction,t);throw m("IndexedDbPersistence must use instances of IndexedDbTransaction")},e.createIndexedDbPersistence=function(t,n,r,i,o){return a.__awaiter(this,void 0,void 0,function(){var s;return a.__generator(this,function(a){switch(a.label){case 0:return[4,(s=new e(t,n,r,i,o)).start()];case 1:return a.sent(),[2,s]}})})},e.createMultiClientIndexedDbPersistence=function(t,n,r,i,o,s){return a.__awaiter(this,void 0,void 0,function(){var u;return a.__generator(this,function(a){switch(a.label){case 0:return[4,(u=new e(t,n,r,i,o,s)).start()];case 1:return a.sent(),[2,u]}})})},e.prototype.start=function(){var e=this;return g(!this.started,"IndexedDbPersistence double-started!"),g(null!==this.window,"Expected 'window' to be defined"),Cn.openOrCreate(this.dbName,Un,new qn(this.serializer)).then(function(t){e.simpleDb=t}).then(function(){return e.startRemoteDocumentCache()}).then(function(){return e.attachVisibilityHandler(),e.attachWindowUnloadHook(),e.updateClientMetadataAndTryBecomePrimary().then(function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()})}).then(function(){return e.simpleDb.runTransaction("readonly",[Jn.store],function(t){return gr(t).next(function(t){var n=e.multiClientParams?e.multiClientParams.sequenceNumberSyncer:void 0;e.listenSequence=new un(t,n)})})}).then(function(){e._started=!0}).catch(function(t){return e.simpleDb&&e.simpleDb.close(),Promise.reject(t)})},e.prototype.startRemoteDocumentCache=function(){var e=this;return this.simpleDb.runTransaction("readonly",nr,function(t){return e.remoteDocumentCache.start(t)})},e.prototype.setPrimaryStateListener=function(e){var t=this;return this.primaryStateListener=function(n){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){return this.started?[2,e(n)]:[2]})})},e(this.isPrimary)},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.queue.enqueueAndForget(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})}))},e.prototype.updateClientMetadataAndTryBecomePrimary=function(){var e=this;return this.simpleDb.runTransaction("readwrite",nr,function(t){return Ar(t).put(new tr(e.clientId,Date.now(),e.networkEnabled,e.inForeground,e.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(e.isPrimary)return e.verifyPrimaryLease(t).next(function(t){t||(e.isPrimary=!1,e.queue.enqueueAndForget(function(){return e.primaryStateListener(!1)}))})}).next(function(){return e.canActAsPrimary(t)}).next(function(n){var r=e.isPrimary;return e.isPrimary=n,r!==e.isPrimary&&e.queue.enqueueAndForget(function(){return e.primaryStateListener(e.isPrimary)}),r&&!e.isPrimary?e.releasePrimaryLeaseIfHeld(t):e.isPrimary?e.acquireOrExtendPrimaryLease(t):void 0})})},e.prototype.verifyPrimaryLease=function(e){var t=this;return Nr(e).get(Vn.key).next(function(e){return Tn.resolve(t.isLocalClient(e))})},e.prototype.removeClientMetadata=function(e){return Ar(e).delete(this.clientId)},e.prototype.maybeGarbageCollectMultiClientState=function(){return a.__awaiter(this,void 0,void 0,function(){var t,n,r=this;return a.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var o=e.getStore(i,tr.store);return o.loadAll().next(function(e){t=r.filterActiveClients(e,18e5),n=e.filter(function(e){return-1===t.indexOf(e)})}).next(function(){return Tn.forEach(n,function(e){return o.delete(e.clientId)})}).next(function(){if((t=t.filter(function(e){return e.clientId!==r.clientId})).length>0){var e=t.map(function(e){return e.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,e);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(e){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(e.clientId))}),i.label=2;case 2:return[2]}})})},e.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var e=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(sn.ClientMetadataRefresh,4e3,function(){return e.updateClientMetadataAndTryBecomePrimary().then(function(){return e.maybeGarbageCollectMultiClientState()}).then(function(){return e.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},e.prototype.isLocalClient=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.canActAsPrimary=function(e){var t=this;return Nr(e).get(Vn.key).next(function(n){if(null!==n&&t.isWithinAge(n.leaseTimestampMs,5e3)&&!t.isClientZombied(n.ownerId)){if(t.isLocalClient(n)&&t.networkEnabled)return!0;if(!t.isLocalClient(n)){if(!n.allowTabSynchronization)throw new w(b.FAILED_PRECONDITION,Sr);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ar(e).loadAll().next(function(e){return void 0===t.filterActiveClients(e,5e3).find(function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(e){return t.isPrimary!==e&&f(Er,"Client "+(e?"is":"is not")+" eligible for a primary lease."),e})},e.prototype.shutdown=function(e){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(n){switch(n.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[Vn.store,tr.store],function(e){return t.releasePrimaryLeaseIfHeld(e).next(function(){return t.removeClientMetadata(e)})})];case 1:return n.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),e?[4,Cn.delete(this.dbName)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.filterActiveClients=function(e,t){var n=this;return e.filter(function(e){return n.isWithinAge(e.updateTimeMs,t)&&!n.isClientZombied(e.clientId)})},e.prototype.getActiveClients=function(){var e=this;return this.simpleDb.runTransaction("readonly",[tr.store],function(t){return Ar(t).loadAll().next(function(t){return e.filterActiveClients(t,18e5).map(function(e){return e.clientId})})})},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getMutationQueue=function(e){return g(this.started,"Cannot initialize MutationQueue before persistence is started."),rr.forUser(e,this.serializer,this.referenceDelegate)},e.prototype.getQueryCache=function(){return g(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},e.prototype.getRemoteDocumentCache=function(){return g(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},e.prototype.runTransaction=function(e,t,n){var r=this;return f(Er,"Starting transaction:",e),this.simpleDb.runTransaction("readonly"===t?"readonly":"readwrite",nr,function(i){return"readwrite-primary"===t?r.verifyPrimaryLease(i).next(function(t){if(!t)throw p("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new w(b.FAILED_PRECONDITION,Tr);return n(new Cr(i,r.listenSequence.next()))}).next(function(e){return r.acquireOrExtendPrimaryLease(i).next(function(){return e})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new Cr(i,r.listenSequence.next()))})})},e.prototype.verifyAllowTabSynchronization=function(e){var t=this;return Nr(e).get(Vn.key).next(function(e){if(null!==e&&t.isWithinAge(e.leaseTimestampMs,5e3)&&!t.isClientZombied(e.ownerId)&&!t.isLocalClient(e)&&!e.allowTabSynchronization)throw new w(b.FAILED_PRECONDITION,Sr)})},e.prototype.acquireOrExtendPrimaryLease=function(e){var t=new Vn(this.clientId,this.allowTabSynchronization,Date.now());return Nr(e).put(Vn.key,t)},e.isAvailable=function(){return Cn.isAvailable()},e.buildStoragePrefix=function(e){var t=e.databaseId.projectId;return e.databaseId.isDefaultDatabase||(t+="."+e.databaseId.database),"firestore/"+e.persistenceKey+"/"+t+"/"},e.prototype.releasePrimaryLeaseIfHeld=function(e){var t=this,n=Nr(e);return n.get(Vn.key).next(function(e){return t.isLocalClient(e)?(f(Er,"Releasing primary lease."),n.delete(Vn.key)):Tn.resolve()})},e.prototype.isWithinAge=function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(p("Detected an update time that is in the future: "+e+" > "+n),!1))},e.prototype.attachVisibilityHandler=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){e.queue.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},e.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(g(null!==this.document&&"function"==typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},e.prototype.attachWindowUnloadHook=function(){var e=this;"function"==typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){e.markClientZombied(),e.queue.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},e.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(g("function"==typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},e.prototype.isClientZombied=function(e){try{var t=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(e));return f(Er,"Client '"+e+"' "+(t?"is":"is not")+" zombied in LocalStorage"),t}catch(e){return p(Er,"Failed to get zombied client id.",e),!1}},e.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(e){p("Failed to set zombie client id.",e)}},e.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(e){}},e.prototype.zombiedClientLocalStorageKey=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e.MAIN_DATABASE="main",e}();function Ir(e){return e.code===b.FAILED_PRECONDITION&&e.message===Tr}function Nr(e){return e.store(Vn.store)}function Ar(e){return e.store(tr.store)}var Dr=function(){function e(e){this.db=e,this.garbageCollector=new _r(this)}return e.prototype.getTargetCount=function(e){return this.db.getQueryCache().getQueryCount(e)},e.prototype.forEachTarget=function(e,t){return this.db.getQueryCache().forEachTarget(e,t)},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){return this.forEachOrphanedDocument(e,function(e,n){return t(n)})},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return Or(e,t)},e.prototype.removeReference=function(e,t){return Or(e,t)},e.prototype.removeTargets=function(e,t,n){return this.db.getQueryCache().removeTargets(e,t,n)},e.prototype.removeMutationReference=function(e,t){return Or(e,t)},e.prototype.isPinned=function(e,t){return this.inMemoryPins.containsKey(t)?Tn.resolve(!0):function(e,t){var n=!1;return cr(e).iterateSerial(function(r){return ir(e,r,t).next(function(e){return e&&(n=!0),Tn.resolve(!e)})}).next(function(){return n})}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=0,o=[];return this.forEachOrphanedDocument(e,function(a,s){if(s<=t){var u=n.isPinned(e,a).next(function(t){if(!t)return r++,n.removeOrphanedDocument(e,a).next(function(e){i+=e})});o.push(u)}}).next(function(){return Tn.waitFor(o)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(e,-i)}).next(function(){return r})},e.prototype.removeOrphanedDocument=function(e,t){var n=0,r=this.db.getRemoteDocumentCache();return Tn.waitFor([yr(e).delete(function(e){return[0,gn(e.path)]}(t)),r.removeEntry(e,t).next(function(e){n+=e})]).next(function(){return n})},e.prototype.removeTarget=function(e,t){var n=t.copy({sequenceNumber:e.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(e,n)},e.prototype.updateLimboDocument=function(e,t){return Or(e,t)},e.prototype.forEachOrphanedDocument=function(e,t){var n,r=yr(e),i=un.INVALID;return r.iterate({index:$n.documentTargetsIndex},function(e,r){var o=e[0],a=(e[1],r.path),s=r.sequenceNumber;0===o?(i!==un.INVALID&&t(new ue(bn(n)),i),i=s,n=a):i=un.INVALID}).next(function(){i!==un.INVALID&&t(new ue(bn(n)),i)})},e}();function Or(e,t){return yr(e).put(function(e,t){return new $n(0,gn(e.path),t)}(t,e.currentSequenceNumber))}var Pr=function(){function e(e,t){this.remoteDocumentCache=e,this.mutationQueue=t}return e.prototype.getDocument=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.getDocumentInternal(e,t,r)})},e.prototype.getDocumentInternal=function(e,t,n){return this.remoteDocumentCache.getEntry(e,t).next(function(e){for(var r=0,i=n;r<i.length;r++){e=i[r].applyToLocalView(t,e)}return e})},e.prototype.getDocuments=function(e,t){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(r){var i=[],o=bt();return t.forEach(function(t){i.push(n.getDocumentInternal(e,t,r).next(function(e){e||(e=new he(t,$e.forDeletedDoc())),o=o.insert(t,e)}))}),Tn.waitFor(i).next(function(){return o})})},e.prototype.getDocumentsMatchingQuery=function(e,t){return ue.isDocumentKey(t.path)?this.getDocumentsMatchingDocumentQuery(e,t.path):this.getDocumentsMatchingCollectionQuery(e,t)},e.prototype.getDocumentsMatchingDocumentQuery=function(e,t){return this.getDocument(e,new ue(t)).next(function(e){var t=_t();return e instanceof le&&(t=t.insert(e.key,e)),t})},e.prototype.getDocumentsMatchingCollectionQuery=function(e,t){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(e,t).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(e,t)}).next(function(e){for(var r=0,i=e;r<i.length;r++)for(var o=i[r],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key;if(t.path.isImmediateParentOf(c.path)){var l=n.get(c),h=u.applyToLocalView(l,l,o.localWriteTime);n=h instanceof le?n.insert(c,h):n.remove(c)}}}).next(function(){return n.forEach(function(e,r){t.matches(r)||(n=n.remove(e))}),n})},e}(),Rr=function(){function e(){this.refsByKey=new yt(Lr.compareByKey),this.refsByTarget=new yt(Lr.compareByTargetId)}return e.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},e.prototype.addReference=function(e,t){var n=new Lr(e,t);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},e.prototype.addReferences=function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})},e.prototype.removeReference=function(e,t){this.removeRef(new Lr(e,t))},e.prototype.removeReferences=function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})},e.prototype.removeReferencesForId=function(e){var t=this,n=ue.EMPTY,r=new Lr(n,e),i=new Lr(n,e+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(e){t.removeRef(e),o.push(e.key)}),o},e.prototype.removeAllReferences=function(){var e=this;this.refsByKey.forEach(function(t){return e.removeRef(t)})},e.prototype.removeRef=function(e){this.refsByKey=this.refsByKey.delete(e),this.refsByTarget=this.refsByTarget.delete(e)},e.prototype.referencesForId=function(e){var t=ue.EMPTY,n=new Lr(t,e),r=new Lr(t,e+1),i=kt();return this.refsByTarget.forEachInRange([n,r],function(e){i=i.add(e.key)}),i},e.prototype.containsKey=function(e){var t=new Lr(e,0),n=this.refsByKey.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),Lr=function(){function e(e,t){this.key=e,this.targetOrBatchId=t}return e.compareByKey=function(e,t){return ue.comparator(e.key,t.key)||K(e.targetOrBatchId,t.targetOrBatchId)},e.compareByTargetId=function(e,t){return K(e.targetOrBatchId,t.targetOrBatchId)||ue.comparator(e.key,t.key)},e}(),Mr=function(){function e(e,t){this.persistence=e,this.localViewReferences=new Rr,this.queryDataByTarget={},g(e.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=e.getMutationQueue(t),this.remoteDocuments=e.getRemoteDocumentCache(),this.queryCache=e.getQueryCache(),this.localDocuments=new Pr(this.remoteDocuments,this.mutationQueue)}return e.prototype.handleUserChange=function(e){var t=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return t.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,t.mutationQueue=t.persistence.getMutationQueue(e),t.localDocuments=new Pr(t.remoteDocuments,t.mutationQueue),t.mutationQueue.getAllMutationBatches(n)}).next(function(e){for(var i=[],o=[],a=kt(),s=0,u=r;s<u.length;s++){var c=u[s];i.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var p=0,d=e;p<d.length;p++){c=d[p];o.push(c.batchId);for(var m=0,g=c.mutations;m<g.length;m++){f=g[m];a=a.add(f.key)}}return t.localDocuments.getDocuments(n,a).next(function(e){return{affectedDocuments:e,removedBatchIds:i,addedBatchIds:o}})})})},e.prototype.localWrite=function(e){var t=this;return this.persistence.runTransaction("Locally write mutations","readwrite",function(n){var r,i=ee.now();return t.mutationQueue.addMutationBatch(n,i,e).next(function(e){var i=(r=e).keys();return t.localDocuments.getDocuments(n,i)}).next(function(e){return{batchId:r.batchId,changes:e}})})},e.prototype.lookupMutationDocuments=function(e){var t=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return t.mutationQueue.lookupMutationKeys(n,e).next(function(e){return e?t.localDocuments.getDocuments(n,e):Tn.resolve(null)})})},e.prototype.acknowledgeBatch=function(e){var t=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=e.batch.keys(),i=t.remoteDocuments.newChangeBuffer();return t.mutationQueue.acknowledgeBatch(n,e.batch,e.streamToken).next(function(){return t.applyWriteToRemoteDocuments(n,e,i)}).next(function(){return i.apply(n)}).next(function(){return t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,r)})})},e.prototype.rejectBatch=function(e){var t=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return t.mutationQueue.lookupMutationBatch(n,e).next(function(e){return g(null!==e,"Attempt to reject nonexistent batch!"),r=e.keys(),t.mutationQueue.removeMutationBatch(n,e)}).next(function(){return t.mutationQueue.performConsistencyCheck(n)}).next(function(){return t.localDocuments.getDocuments(n,r)})})},e.prototype.getLastStreamToken=function(){var e=this;return this.persistence.runTransaction("Get last stream token","readonly",function(t){return e.mutationQueue.getLastStreamToken(t)})},e.prototype.setLastStreamToken=function(e){var t=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return t.mutationQueue.setLastStreamToken(n,e)})},e.prototype.getLastRemoteSnapshotVersion=function(){var e=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.queryCache.getLastRemoteSnapshotVersion(t)})},e.prototype.applyRemoteEvent=function(t){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(i){var o=[],a=kt();S(t.targetChanges,function(r,s){var u=n.queryDataByTarget[r];if(u){s.addedDocuments.forEach(function(e){a=a.add(e)}),s.modifiedDocuments.forEach(function(e){a=a.add(e)}),o.push(n.queryCache.removeMatchingKeys(i,s.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(i,s.addedDocuments,r)}));var c=s.resumeToken;if(c.length>0){var l=u;u=u.copy({resumeToken:c,snapshotVersion:t.snapshotVersion}),n.queryDataByTarget[r]=u,e.shouldPersistQueryData(l,u,s)&&o.push(n.queryCache.updateQueryData(i,u))}}});var s=kt();t.documentUpdates.forEach(function(e,u){s=s.add(e),o.push(r.getEntry(i,e).next(function(t){null==t||u.version.isEqual($e.MIN)||a.has(u.key)&&!t.hasPendingWrites||u.version.compareTo(t.version)>=0?r.addEntry(u):f("LocalStore","Ignoring outdated watch update for ",e,". Current version:",t.version," Watch version:",u.version)})),t.resolvedLimboDocuments.has(e)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(i,e))});var u=t.snapshotVersion;if(!u.isEqual($e.MIN)){var c=n.queryCache.getLastRemoteSnapshotVersion(i).next(function(e){return g(u.compareTo(e)>=0,"Watch stream reverted to previous snapshot?? "+u+" < "+e),n.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,u)});o.push(c)}return Tn.waitFor(o).next(function(){return r.apply(i)}).next(function(){return n.localDocuments.getDocuments(i,s)})})},e.shouldPersistQueryData=function(e,t,n){return 0!==t.resumeToken.length&&(0===e.resumeToken.length||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0))},e.prototype.notifyLocalViewChanges=function(e){var t=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return Tn.forEach(e,function(e){return t.localViewReferences.addReferences(e.addedKeys,e.targetId),t.localViewReferences.removeReferences(e.removedKeys,e.targetId),Tn.forEach(e.removedKeys,function(e){return t.persistence.referenceDelegate.removeReference(n,e)})})})},e.prototype.nextMutationBatch=function(e){var t=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===e&&(e=wn),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)})},e.prototype.readDocument=function(e){var t=this;return this.persistence.runTransaction("read document","readonly",function(n){return t.localDocuments.getDocument(n,e)})},e.prototype.allocateQuery=function(e){var t=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return t.queryCache.getQueryData(n,e).next(function(i){return i?(r=i,Tn.resolve()):t.queryCache.allocateTargetId(n).next(function(i){return r=new Ze(e,i,Ue.Listen,n.currentSequenceNumber),t.queryCache.addQueryData(n,r)})}).next(function(){return g(!t.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+e),t.queryDataByTarget[r.targetId]=r,r})})},e.prototype.releaseQuery=function(e,t){var n=this,r=t?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,function(r){return n.queryCache.getQueryData(r,e).next(function(i){g(null!=i,"Tried to release nonexistent query: "+e);var o=i.targetId,a=n.queryDataByTarget[o],s=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],t?Tn.resolve():Tn.forEach(s,function(e){return n.persistence.referenceDelegate.removeReference(r,e)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,a)})})})},e.prototype.executeQuery=function(e){var t=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return t.localDocuments.getDocumentsMatchingQuery(n,e)})},e.prototype.remoteDocumentKeys=function(e){var t=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return t.queryCache.getMatchingKeysForTargetId(n,e)})},e.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},e.prototype.removeCachedMutationBatchMetadata=function(e){this.mutationQueue.removeCachedMutationKeys(e)},e.prototype.setNetworkEnabled=function(e){this.persistence.setNetworkEnabled(e)},e.prototype.applyWriteToRemoteDocuments=function(e,t,n){var r=this,i=t.batch,o=i.keys(),a=Tn.resolve();return o.forEach(function(r){a=a.next(function(){return n.getEntry(e,r)}).next(function(e){var o=e,a=t.docVersions.get(r);g(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&((o=i.applyToRemoteDocument(r,o,t))?n.addEntry(o):g(!e,"Mutation batch "+i+" applied to document "+e+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(e,i)})},e.prototype.getQueryForTarget=function(e){var t=this;return this.queryDataByTarget[e]?Promise.resolve(this.queryDataByTarget[e].query):this.persistence.runTransaction("Get query data","readonly",function(n){return t.queryCache.getQueryDataForTarget(n,e).next(function(e){return e?e.query:null})})},e.prototype.getNewDocumentChanges=function(){var e=this;return this.persistence.runTransaction("Get new document changes","readonly",function(t){return e.remoteDocuments.getNewDocumentChanges(t)})},e.RESUME_TOKEN_MAX_AGE_MICROS=3e8,e}(),Fr=function(){function e(e){this.referenceDelegate=e,this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=wn,this.lastStreamToken=v(),this.batchesByDocumentKey=new yt(Lr.compareByKey)}return e.prototype.checkEmpty=function(e){return Tn.resolve(0===this.mutationQueue.length)},e.prototype.acknowledgeBatch=function(e,t,n){var r=t.batchId;g(r>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var i=this.indexOfExistingBatchId(r,"acknowledged"),o=this.mutationQueue[i];return g(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),g(!o.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,Tn.resolve()},e.prototype.getLastStreamToken=function(e){return Tn.resolve(this.lastStreamToken)},e.prototype.setLastStreamToken=function(e,t){return this.lastStreamToken=t,Tn.resolve()},e.prototype.addMutationBatch=function(e,t,n){g(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;(this.nextBatchId++,this.mutationQueue.length>0)&&g(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order");var i=new _n(r,t,n);this.mutationQueue.push(i);for(var o=0,a=n;o<a.length;o++){var s=a[o];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Lr(s.key,r))}return Tn.resolve(i)},e.prototype.lookupMutationBatch=function(e,t){return Tn.resolve(this.findMutationBatch(t))},e.prototype.lookupMutationKeys=function(e,t){var n=this.findMutationBatch(t);return g(null!=n,"Failed to find local mutation batch."),Tn.resolve(n.isTombstone()?null:n.keys())},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){for(var n=this.mutationQueue.length,r=Math.max(t,this.highestAcknowledgedBatchId)+1,i=this.indexOfBatchId(r),o=i<0?0:i;o<n;o++){var a=this.mutationQueue[o];if(!a.isTombstone())return Tn.resolve(a)}return Tn.resolve(null)},e.prototype.getAllMutationBatches=function(e){return Tn.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new Lr(t,0),i=new Lr(t,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(e){g(t.isEqual(e.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(e.targetOrBatchId);g(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),Tn.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new yt(K);return t.forEach(function(e){var t=new Lr(e,0),i=new Lr(e,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([t,i],function(t){g(e.isEqual(t.key),"For each key, should only iterate over a single key's batches"),r=r.add(t.targetOrBatchId)})}),Tn.resolve(this.findMutationBatches(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;ue.isDocumentKey(i)||(i=i.child(""));var o=new Lr(new ue(i),0),a=new yt(K);return this.batchesByDocumentKey.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.targetOrBatchId)),!0)},o),Tn.resolve(this.findMutationBatches(a))},e.prototype.findMutationBatches=function(e){var t=this,n=[];return e.forEach(function(e){var r=t.findMutationBatch(e);null!==r&&n.push(r)}),n},e.prototype.removeMutationBatch=function(e,t){var n=this,r=this.indexOfExistingBatchId(t.batchId,"removed");if(g(this.mutationQueue[r].batchId===t.batchId,"Removed batches must exist in the queue"),0===r){for(var i=1;i<this.mutationQueue.length;i++){if(!this.mutationQueue[i].isTombstone())break}this.mutationQueue.splice(0,i)}else this.mutationQueue[r]=this.mutationQueue[r].toTombstone();var o=this.batchesByDocumentKey;return Tn.forEach(t.mutations,function(r){var i=new Lr(r.key,t.batchId);return o=o.delete(i),n.referenceDelegate.removeMutationReference(e,r.key)}).next(function(){n.batchesByDocumentKey=o})},e.prototype.removeCachedMutationKeys=function(e){},e.prototype.containsKey=function(e,t){var n=new Lr(t,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Tn.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return 0===this.mutationQueue.length&&g(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Tn.resolve()},e.prototype.getAllLiveMutationBatchesBeforeIndex=function(e){for(var t=[],n=0;n<e;n++){var r=this.mutationQueue[n];r.isTombstone()||t.push(r)}return t},e.prototype.indexOfExistingBatchId=function(e,t){var n=this.indexOfBatchId(e);return g(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+t),n},e.prototype.indexOfBatchId=function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId},e.prototype.findMutationBatch=function(e){var t=this.indexOfBatchId(e);if(t<0||t>=this.mutationQueue.length)return null;var n=this.mutationQueue[t];return g(n.batchId===e,"If found batch must match"),n.isTombstone()?null:n},e}(),jr=function(){function e(e){this.persistence=e,this.queries=new Sn(function(e){return e.canonicalId()}),this.lastRemoteSnapshotVersion=$e.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new Rr,this.targetCount=0,this.targetIdGenerator=fr.forQueryCache()}return e.prototype.getTargetCount=function(e){return Tn.resolve(this.targetCount)},e.prototype.forEachTarget=function(e,t){return this.queries.forEach(function(e,n){return t(n)}),Tn.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return Tn.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return Tn.resolve(this.highestSequenceNumber)},e.prototype.allocateTargetId=function(e){var t=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=t,Tn.resolve(t)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.highestSequenceNumber&&(this.highestSequenceNumber=t),Tn.resolve()},e.prototype.saveQueryData=function(e){this.queries.set(e.query,e);var t=e.targetId;t>this.highestTargetId&&(this.highestTargetId=t),e.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=e.sequenceNumber)},e.prototype.addQueryData=function(e,t){return g(!this.queries.has(t.query),"Adding a query that already exists"),this.saveQueryData(t),this.targetCount+=1,Tn.resolve()},e.prototype.updateQueryData=function(e,t){return g(this.queries.has(t.query),"Updating a non-existent query"),this.saveQueryData(t),Tn.resolve()},e.prototype.removeQueryData=function(e,t){return g(this.targetCount>0,"Removing a target from an empty cache"),g(this.queries.has(t.query),"Removing a non-existent target from the cache"),this.queries.delete(t.query),this.references.removeReferencesForId(t.targetId),this.targetCount-=1,Tn.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.queries.forEach(function(a,s){s.sequenceNumber<=t&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),Tn.waitFor(o).next(function(){return i})},e.prototype.getQueryCount=function(e){return Tn.resolve(this.targetCount)},e.prototype.getQueryData=function(e,t){var n=this.queries.get(t)||null;return Tn.resolve(n)},e.prototype.getQueryDataForTarget=function(e,t){return m("Not yet implemented.")},e.prototype.addMatchingKeys=function(e,t,n){this.references.addReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.addReference(e,t))}),Tn.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){this.references.removeReferences(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.removeReference(e,t))}),Tn.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this.references.removeReferencesForId(t),Tn.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this.references.referencesForId(t);return Tn.resolve(n)},e.prototype.containsKey=function(e,t){return Tn.resolve(this.references.containsKey(t))},e}();var Ur,qr=function(){function e(e){this.sizer=e,this.docs=new pe(ue.comparator),this.newDocumentChanges=kt(),this.size=0}return e.prototype.addEntries=function(e,t,n){for(var r=0,i=t;r<i.length;r++){var o=i[r],a=o.maybeDocument.key;this.docs=this.docs.insert(a,o),this.newDocumentChanges=this.newDocumentChanges.add(a)}return this.size+=n,Tn.resolve()},e.prototype.removeEntry=function(e,t){var n=this.docs.get(t);return n?(this.docs=this.docs.remove(t),this.size-=n.size,Tn.resolve(n.size)):Tn.resolve(0)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return Tn.resolve(n?n.maybeDocument:null)},e.prototype.getSizedEntry=function(e,t){return Tn.resolve(this.docs.get(t))},e.prototype.getDocumentsMatchingQuery=function(e,t){for(var n=_t(),r=new ue(t.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.key,s=o.value.maybeDocument;if(!t.path.isPrefixOf(a.path))break;s instanceof le&&t.matches(s)&&(n=n.insert(s.key,s))}return Tn.resolve(n)},e.prototype.forEachDocumentKey=function(e,t){return Tn.forEach(this.docs,function(e){return t(e)})},e.prototype.getNewDocumentChanges=function(e){var t=this,n=bt();return this.newDocumentChanges.forEach(function(e){var r=t.docs.get(e),i=r?r.maybeDocument:new he(e,$e.forDeletedDoc());n=n.insert(e,i)}),this.newDocumentChanges=kt(),Tn.resolve(n)},e.prototype.newChangeBuffer=function(){return new Br(this.sizer,this)},e.prototype.getSize=function(e){return Tn.resolve(this.size)},e}(),Br=function(e){function t(t,n){var r=e.call(this)||this;return r.sizer=t,r.documentCache=n,r}return a.__extends(t,e),t.prototype.applyChanges=function(e){var t=this,n=0,r=[];return this.assertChanges().forEach(function(e,i){var o=t.documentSizes.get(e);g(void 0!==o,"Attempting to change document "+e.toString()+" without having read it first");var a=t.sizer(i);n+=a-o,r.push({maybeDocument:i,size:a})}),this.documentCache.addEntries(e,r,n)},t.prototype.getFromCache=function(e,t){return this.documentCache.getSizedEntry(e,t)},t}(kn),Vr=function(){function e(e,t,n){var r=this;this.clientId=e,this.mutationQueues={},this.listenSequence=new un(0),this._started=!1,this._started=!0,this.referenceDelegate=t?new zr(this):new Kr(this,new vr(n)),this.queryCache=new jr(this);this.remoteDocumentCache=new qr(function(e){return r.referenceDelegate.documentSize(e)})}return e.createLruPersistence=function(t,n){return new e(t,!1,n)},e.createEagerPersistence=function(t,n){return new e(t,!0,n)},e.prototype.shutdown=function(e){return this._started=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),e.prototype.getActiveClients=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return[2,[this.clientId]]})})},e.prototype.setPrimaryStateListener=function(e){return e(!0)},e.prototype.setNetworkEnabled=function(e){},e.prototype.getMutationQueue=function(e){var t=this.mutationQueues[e.toKey()];return t||(t=new Fr(this.referenceDelegate),this.mutationQueues[e.toKey()]=t),t},e.prototype.getQueryCache=function(){return this.queryCache},e.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},e.prototype.runTransaction=function(e,t,n){var r=this;f("MemoryPersistence","Starting transaction:",e);var i=new Wr(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(e){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return e})}).toPromise()},e.prototype.mutationQueuesContainKey=function(e,t){return Tn.or(function(e){var t=[];return k(e,function(e,n){return t.push(n)}),t}(this.mutationQueues).map(function(n){return function(){return n.containsKey(e,t)}}))},e}(),Wr=function(){return function(e){this.currentSequenceNumber=e}}(),zr=function(){function e(e){this.persistence=e}return e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.addReference=function(e,t){return this.orphanedDocuments.delete(t),Tn.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedDocuments.add(t),Tn.resolve()},e.prototype.removeMutationReference=function(e,t){return this.orphanedDocuments.add(t),Tn.resolve()},e.prototype.removeTarget=function(e,t){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.orphanedDocuments.add(e)})}).next(function(){return r.removeQueryData(e,t)})},e.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},e.prototype.onTransactionCommitted=function(e){var t=this,n=this.persistence.getRemoteDocumentCache();return Tn.forEach(this.orphanedDocuments,function(r){return t.isReferenced(e,r).next(function(t){return t?Tn.resolve():n.removeEntry(e,r).next(function(){})})})},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.isReferenced(e,t).next(function(e){e?n.orphanedDocuments.delete(t):n.orphanedDocuments.add(t)})},e.prototype.documentSize=function(e){return 0},e.prototype.isReferenced=function(e,t){var n=this;return Tn.or([function(){return n.persistence.getQueryCache().containsKey(e,t)},function(){return n.persistence.mutationQueuesContainKey(e,t)},function(){return Tn.resolve(n.inMemoryPins.containsKey(t))}])},e}(),Kr=function(){function e(e,t){this.persistence=e,this.serializer=t,this.orphanedSequenceNumbers=new Sn(function(e){return gn(e.path)}),this.garbageCollector=new _r(this)}return e.prototype.onTransactionStarted=function(){},e.prototype.onTransactionCommitted=function(e){return Tn.resolve()},e.prototype.forEachTarget=function(e,t){return this.persistence.getQueryCache().forEachTarget(e,t)},e.prototype.getTargetCount=function(e){return this.persistence.getQueryCache().getTargetCount(e)},e.prototype.forEachOrphanedDocumentSequenceNumber=function(e,t){var n=this;return Tn.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(e,r,i).next(function(e){return e?Tn.resolve():t(i)})})},e.prototype.setInMemoryPins=function(e){this.inMemoryPins=e},e.prototype.removeTargets=function(e,t,n){return this.persistence.getQueryCache().removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=0,i=this.persistence.getRemoteDocumentCache();return i.forEachDocumentKey(e,function(o){return n.isPinned(e,o,t).next(function(t){return t?Tn.resolve():(r++,i.removeEntry(e,o).next())})}).next(function(){return r})},e.prototype.removeMutationReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Tn.resolve()},e.prototype.removeTarget=function(e,t){var n=t.copy({sequenceNumber:e.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(e,n)},e.prototype.addReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Tn.resolve()},e.prototype.removeReference=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Tn.resolve()},e.prototype.updateLimboDocument=function(e,t){return this.orphanedSequenceNumbers.set(t,e.currentSequenceNumber),Tn.resolve()},e.prototype.documentSize=function(e){var t,n=this.serializer.toDbRemoteDocument(e);if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw m("Unknown remote document type");t=n.noDocument}return JSON.stringify(t).length},e.prototype.isPinned=function(e,t,n){var r=this;return Tn.or([function(){return r.persistence.mutationQueuesContainKey(e,t)},function(){return Tn.resolve(r.inMemoryPins.containsKey(t))},function(){return r.persistence.getQueryCache().containsKey(e,t)},function(){var e=r.orphanedSequenceNumbers.get(t);return Tn.resolve(void 0!==e&&e>n)}])},e}(),Hr=function(){function e(e,t,n,r,i){this.queue=e,this.timerId=t,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return e.prototype.reset=function(){this.currentBaseMs=0},e.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},e.prototype.backoffAndRun=function(e){var t=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&f("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return t.lastAttemptTime=Date.now(),e()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},e.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},e.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},e}();!function(e){e[e.Initial=0]="Initial",e[e.Starting=1]="Starting",e[e.Open=2]="Open",e[e.Error=3]="Error",e[e.Backoff=4]="Backoff"}(Ur||(Ur={}));var Qr,Gr,Xr=1e3,Yr=6e4,$r=1.5,Jr=function(){function e(e,t,n,r,i,o){this.queue=e,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=Ur.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Hr(e,t,Xr,$r,Yr)}return e.prototype.isStarted=function(){return this.state===Ur.Starting||this.state===Ur.Open||this.state===Ur.Backoff},e.prototype.isOpen=function(){return this.state===Ur.Open},e.prototype.start=function(){this.state!==Ur.Error?(g(this.state===Ur.Initial,"Already started"),this.auth()):this.performBackoff()},e.prototype.stop=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.isStarted()?[4,this.close(Ur.Initial)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.inhibitBackoff=function(){g(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Ur.Initial,this.backoff.reset()},e.prototype.markIdle=function(){var e=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return e.handleIdleCloseTimer()}))},e.prototype.sendRequest=function(e){this.cancelIdleCheck(),this.stream.send(e)},e.prototype.handleIdleCloseTimer=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return this.isOpen()?[2,this.close(Ur.Initial)]:[2]})})},e.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},e.prototype.close=function(e,t){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(n){switch(n.label){case 0:return g(this.isStarted(),"Only started streams should be closed."),g(e===Ur.Error||Fe(t),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,e!==Ur.Error?this.backoff.reset():t&&t.code===b.RESOURCE_EXHAUSTED?(p(t.toString()),p("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):t&&t.code===b.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.onClose(t)];case 1:return n.sent(),[2]}})})},e.prototype.tearDown=function(){},e.prototype.auth=function(){var e=this;g(this.state===Ur.Initial,"Must be in initial state to auth"),this.state=Ur.Starting;var t=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(t){e.closeCount===n&&e.startStream(t)},function(n){t(function(){var t=new w(b.UNKNOWN,"Fetching auth token failed: "+n.message);return e.handleStreamClose(t)})})},e.prototype.startStream=function(e){var t=this;g(this.state===Ur.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(e),this.stream.onOpen(function(){n(function(){return g(t.state===Ur.Starting,"Expected stream to be in state Starting, but was "+t.state),t.state=Ur.Open,t.listener.onOpen()})}),this.stream.onClose(function(e){n(function(){return t.handleStreamClose(e)})}),this.stream.onMessage(function(e){n(function(){return t.onMessage(e)})})},e.prototype.performBackoff=function(){var e=this;g(this.state===Ur.Error,"Should only perform backoff when in Error state"),this.state=Ur.Backoff,this.backoff.backoffAndRun(function(){return a.__awaiter(e,void 0,void 0,function(){return a.__generator(this,function(e){return g(this.state===Ur.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Ur.Initial,this.start(),g(this.isStarted(),"PersistentStream should have started"),[2]})})})},e.prototype.handleStreamClose=function(e){return g(this.isStarted(),"Can't handle server close on non-started stream"),f("PersistentStream","close with error: "+e),this.stream=null,this.close(Ur.Error,e)},e.prototype.getCloseGuardedDispatcher=function(e){var t=this;return function(n){t.queue.enqueueAndForget(function(){return t.closeCount===e?n():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},e}(),Zr=function(e){function t(t,n,r,i,o){var a=e.call(this,t,sn.ListenStreamConnectionBackoff,sn.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return a.__extends(t,e),t.prototype.startRpc=function(e){return this.connection.openStream("Listen",e)},t.prototype.onMessage=function(e){this.backoff.reset();var t=this.serializer.fromWatchChange(e),n=this.serializer.versionFromListenResponse(e);return this.listener.onWatchChange(t,n)},t.prototype.watch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.addTarget=this.serializer.toTarget(e);var n=this.serializer.toListenRequestLabels(e);n&&(t.labels=n),this.sendRequest(t)},t.prototype.unwatch=function(e){var t={};t.database=this.serializer.encodedDatabaseId,t.removeTarget=e,this.sendRequest(t)},t}(Jr),ei=function(e){function t(t,n,r,i,o){var a=e.call(this,t,sn.WriteStreamConnectionBackoff,sn.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a}return a.__extends(t,e),Object.defineProperty(t.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.handshakeComplete_=!1,e.prototype.start.call(this)},t.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},t.prototype.startRpc=function(e){return this.connection.openStream("Write",e)},t.prototype.onMessage=function(e){if(g(!!e.streamToken,"Got a write response without a stream token"),this.lastStreamToken=e.streamToken,this.handshakeComplete_){this.backoff.reset();var t=this.serializer.fromWriteResults(e.writeResults,e.commitTime),n=this.serializer.fromVersion(e.commitTime);return this.listener.onMutationResult(n,t)}return g(!e.writeResults||0===e.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},t.prototype.writeHandshake=function(){g(this.isOpen(),"Writing handshake requires an opened stream"),g(!this.handshakeComplete_,"Handshake already completed");var e={};e.database=this.serializer.encodedDatabaseId,this.sendRequest(e)},t.prototype.writeMutations=function(e){var t=this;g(this.isOpen(),"Writing mutations requires an opened stream"),g(this.handshakeComplete_,"Handshake must be complete before writing mutations"),g(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:e.map(function(e){return t.serializer.toMutation(e)})};this.sendRequest(n)},t}(Jr),ti=function(){function e(e,t,n,r){this.queue=e,this.connection=t,this.credentials=n,this.serializer=r}return e.prototype.newPersistentWriteStream=function(e){return new ei(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.newPersistentWatchStream=function(e){return new Zr(this.queue,this.connection,this.credentials,this.serializer,e)},e.prototype.commit=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,writes:e.map(function(e){return t.serializer.toMutation(e)})};return this.invokeRPC("Commit",n).then(function(e){return t.serializer.fromWriteResults(e.writeResults,e.commitTime)})},e.prototype.lookup=function(e){var t=this,n={database:this.serializer.encodedDatabaseId,documents:e.map(function(e){return t.serializer.toName(e)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=bt();n.forEach(function(e){var n=t.serializer.fromMaybeDocument(e);r=r.insert(n.key,n)});var i=[];return e.forEach(function(e){var t=r.get(e);g(!!t,"Missing entity in write response for "+e),i.push(t)}),i})},e.prototype.invokeRPC=function(e,t){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(e,t,r)}).catch(function(e){throw e.code===b.UNAUTHENTICATED&&n.credentials.invalidateToken(),e})},e.prototype.invokeStreamingRPC=function(e,t){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(e,t,r)}).catch(function(e){throw e.code===b.UNAUTHENTICATED&&n.credentials.invalidateToken(),e})},e}(),ni=function(){function e(e){this.datastore=e,this.readVersions=Tt(),this.mutations=[],this.committed=!1}return e.prototype.recordVersion=function(e){var t;if(e instanceof le)t=e.version;else{if(!(e instanceof he))throw m("Document in a transaction was a "+e.constructor.name);t=$e.forDeletedDoc()}var n=this.readVersions.get(e.key);if(null!==n){if(!t.isEqual(n))throw new w(b.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(e.key,t)},e.prototype.lookup=function(e){var t=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(e).then(function(e){return e.forEach(function(e){e instanceof he||e instanceof le?t.recordVersion(e):m("Document in a transaction was a "+e.constructor.name)}),e})},e.prototype.write=function(e){if(this.committed)throw new w(b.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(e)},e.prototype.precondition=function(e){var t=this.readVersions.get(e);return t?rt.updateTime(t):rt.NONE},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e);if(t&&t.isEqual($e.forDeletedDoc()))throw new w(b.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return t?rt.updateTime(t):rt.exists(!0)},e.prototype.set=function(e,t){this.write(t.toMutations(e,this.precondition(e)))},e.prototype.update=function(e,t){this.write(t.toMutations(e,this.preconditionForUpdate(e)))},e.prototype.delete=function(e){this.write([new ut(e,this.precondition(e))]),this.readVersions=this.readVersions.insert(e,$e.forDeletedDoc())},e.prototype.commit=function(){var e=this,t=this.readVersions;return this.mutations.forEach(function(e){t=t.remove(e.key)}),t.isEmpty()?this.datastore.commit(this.mutations).then(function(){e.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},e}();!function(e){e[e.Unknown=0]="Unknown",e[e.Online=1]="Online",e[e.Offline=2]="Offline"}(Qr||(Qr={})),function(e){e[e.RemoteStore=0]="RemoteStore",e[e.SharedClientState=1]="SharedClientState"}(Gr||(Gr={}));var ri=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=Qr.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return e.prototype.handleWatchStreamStart=function(){var e=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Qr.Unknown),g(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(sn.OnlineStateTimeout,1e4,function(){return e.onlineStateTimer=null,g(e.state===Qr.Unknown,"Timer should be canceled if we transitioned to a different state."),e.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),e.setAndBroadcast(Qr.Offline),Promise.resolve()}))},e.prototype.handleWatchStreamFailure=function(e){this.state===Qr.Online?(this.setAndBroadcast(Qr.Unknown),g(0===this.watchStreamFailures,"watchStreamFailures must be 0"),g(null===this.onlineStateTimer,"onlineStateTimer must be null")):(this.watchStreamFailures++,this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+e.toString()),this.setAndBroadcast(Qr.Offline)))},e.prototype.set=function(e){this.clearOnlineStateTimer(),this.watchStreamFailures=0,e===Qr.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(e)},e.prototype.setAndBroadcast=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.logClientOfflineWarningIfNecessary=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(p(t),this.shouldWarnClientIsOffline=!1):f("OnlineStateTracker",t)},e.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},e}(),ii=function(){function e(e,t,n,r){this.localStore=e,this.datastore=t,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.onlineStateTracker=new ri(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return e.prototype.start=function(){return this.enableNetwork()},e.prototype.enableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){var e;return a.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(e=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return e.lastStreamToken=t.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Qr.Unknown),[4,this.fillWritePipeline()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.disableNetwork=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(Qr.Offline),[2]}})})},e.prototype.disableNetworkInternal=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return[4,this.writeStream.stop()];case 1:return e.sent(),[4,this.watchStream.stop()];case 2:return e.sent(),this.writePipeline.length>0&&(f("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},e.prototype.shutdown=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return f("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return e.sent(),this.onlineStateTracker.set(Qr.Unknown),[2]}})})},e.prototype.listen=function(e){g(!E(this.listenTargets,e.targetId),"listen called with duplicate targetId!"),this.listenTargets[e.targetId]=e,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(e)},e.prototype.unlisten=function(e){g(E(this.listenTargets,e),"unlisten called without assigned target ID!"),delete this.listenTargets[e],this.watchStream.isOpen()&&this.sendUnwatchRequest(e),C(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(Qr.Unknown))},e.prototype.getQueryDataForTarget=function(e){return this.listenTargets[e]||null},e.prototype.getRemoteKeysForTarget=function(e){return this.syncEngine.getRemoteKeysForTarget(e)},e.prototype.sendWatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e.targetId),this.watchStream.watch(e)},e.prototype.sendUnwatchRequest=function(e){this.watchChangeAggregator.recordPendingTargetRequest(e),this.watchStream.unwatch(e)},e.prototype.startWatchStream=function(){g(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new qt(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},e.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!C(this.listenTargets)},e.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},e.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},e.prototype.onWatchStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){var e=this;return a.__generator(this,function(t){return S(this.listenTargets,function(t,n){e.sendWatchRequest(n)}),[2]})})},e.prototype.onWatchStreamClose=function(e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return void 0===e&&g(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(e),this.startWatchStream()):this.onlineStateTracker.set(Qr.Unknown),[2]})})},e.prototype.onWatchStreamChange=function(e,t){return a.__awaiter(this,void 0,void 0,function(){var n;return a.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(Qr.Online),e instanceof jt&&e.state===Dt.Removed&&e.cause?[2,this.handleTargetError(e)]:(e instanceof Mt?this.watchChangeAggregator.handleDocumentChange(e):e instanceof Ft?this.watchChangeAggregator.handleExistenceFilter(e):(g(e instanceof jt,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(e)),t.isEqual($e.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),t.compareTo(n)>=0?[4,this.raiseWatchSnapshot(t)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.raiseWatchSnapshot=function(e){var t=this;g(!e.isEqual($e.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(e);return S(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=t.listenTargets[n];i&&(t.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:e}))}}),n.targetMismatches.forEach(function(e){var n=t.listenTargets[e];if(n){t.listenTargets[e]=n.copy({resumeToken:v()}),t.sendUnwatchRequest(e);var r=new Ze(n.query,e,Ue.ExistenceFilterMismatch,n.sequenceNumber);t.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},e.prototype.handleTargetError=function(e){var t=this;g(!!e.cause,"Handling target error without a cause");var n=e.cause,r=Promise.resolve();return e.targetIds.forEach(function(e){r=r.then(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){return E(this.listenTargets,e)?(delete this.listenTargets[e],this.watchChangeAggregator.removeTarget(e),[2,this.syncEngine.rejectListen(e,n)]):[2]})})})}),r},e.prototype.fillWritePipeline=function(){return a.__awaiter(this,void 0,void 0,function(){var e,t;return a.__generator(this,function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(e=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:wn,[4,this.localStore.nextMutationBatch(e)]):[3,4];case 1:return null!==(t=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(t),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},e.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},e.prototype.outstandingWrites=function(){return this.writePipeline.length},e.prototype.addToWritePipeline=function(e){g(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(e),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(e.mutations)},e.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},e.prototype.startWriteStream=function(){g(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},e.prototype.onWriteStreamOpen=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return this.writeStream.writeHandshake(),[2]})})},e.prototype.onWriteHandshakeComplete=function(){var e=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var t=0,n=e.writePipeline;t<n.length;t++){var r=n[t];e.writeStream.writeMutations(r.mutations)}}).catch(function(t){return e.ignoreIfPrimaryLeaseLoss(t)})},e.prototype.ignoreIfPrimaryLeaseLoss=function(e){if(!Ir(e))throw e;f("RemoteStore","Unexpectedly lost primary lease")},e.prototype.onMutationResult=function(e,t){var n=this;g(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=En.from(r,e,t,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},e.prototype.onWriteStreamClose=function(e){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(n){return void 0===e&&g(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),e&&this.writePipeline.length>0?(void 0,[2,(this.writeStream.handshakeComplete?this.handleWriteError(e):this.handleHandshakeError(e)).then(function(){t.shouldStartWriteStream()&&t.startWriteStream()})]):[2]})})},e.prototype.handleHandshakeError=function(e){return a.__awaiter(this,void 0,void 0,function(){var t=this;return a.__generator(this,function(n){return mt(e.code)||e.code===b.ABORTED?(f("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=v(),[2,this.localStore.setLastStreamToken(v()).catch(function(e){return t.ignoreIfPrimaryLeaseLoss(e)})]):[2]})})},e.prototype.handleWriteError=function(e){return a.__awaiter(this,void 0,void 0,function(){var t,n=this;return a.__generator(this,function(r){return mt(e.code)?(t=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(t.batchId,e).then(function(){return n.fillWritePipeline()})]):[2]})})},e.prototype.createTransaction=function(){return new ni(this.datastore)},e.prototype.handleCredentialChange=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){switch(e.label){case 0:return this.canUseNetwork()?(f("RemoteStore","RemoteStore restarting streams for new credential"),this.networkEnabled=!1,[4,this.disableNetworkInternal()]):[3,3];case 1:return e.sent(),this.onlineStateTracker.set(Qr.Unknown),[4,this.enableNetwork()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e.prototype.applyPrimaryState=function(e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return this.isPrimary=e,e&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return t.sent(),[3,4];case 2:return e?[3,4]:[4,this.disableNetworkInternal()];case 3:t.sent(),this.onlineStateTracker.set(Qr.Unknown),t.label=4;case 4:return[2]}})})},e}(),oi=function(){return function(){this.listeners=[]}}(),ai=function(){function e(e){this.syncEngine=e,this.queries=new Sn(function(e){return e.canonicalId()}),this.onlineState=Qr.Unknown,this.syncEngine.subscribe(this)}return e.prototype.listen=function(e){var t=e.query,n=!1,r=this.queries.get(t);return r||(n=!0,r=new oi,this.queries.set(t,r)),r.listeners.push(e),e.applyOnlineStateChange(this.onlineState),r.viewSnap&&e.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(t).then(function(e){return r.targetId=e,e}):Promise.resolve(r.targetId)},e.prototype.unlisten=function(e){return a.__awaiter(this,void 0,void 0,function(){var t,n,r,i;return a.__generator(this,function(o){return t=e.query,n=!1,(r=this.queries.get(t))&&(i=r.listeners.indexOf(e))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(t),[2,this.syncEngine.unlisten(t)]):[2]})})},e.prototype.onWatchChange=function(e){for(var t=0,n=e;t<n.length;t++){var r=n[t],i=r.query,o=this.queries.get(i);if(o){for(var a=0,s=o.listeners;a<s.length;a++){s[a].onViewSnapshot(r)}o.viewSnap=r}}},e.prototype.onWatchError=function(e,t){var n=this.queries.get(e);if(n)for(var r=0,i=n.listeners;r<i.length;r++){i[r].onError(t)}this.queries.delete(e)},e.prototype.onOnlineStateChange=function(e){this.onlineState=e,this.queries.forEach(function(t,n){for(var r=0,i=n.listeners;r<i.length;r++){i[r].applyOnlineStateChange(e)}})},e}(),si=function(){function e(e,t,n){this.query=e,this.queryObserver=t,this.raisedInitialEvent=!1,this.onlineState=Qr.Unknown,this.options=n||{}}return e.prototype.onViewSnapshot=function(e){if(g(e.docChanges.length>0||e.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];i.type!==It.Metadata&&t.push(i)}e=new Pt(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(e)&&this.queryObserver.next(e):this.shouldRaiseInitialEvent(e,this.onlineState)&&this.raiseInitialEvent(e),this.snap=e},e.prototype.onError=function(e){this.queryObserver.error(e)},e.prototype.applyOnlineStateChange=function(e){this.onlineState=e,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,e)&&this.raiseInitialEvent(this.snap)},e.prototype.shouldRaiseInitialEvent=function(e,t){if(g(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!e.fromCache)return!0;var n=t!==Qr.Offline;return this.options.waitForSyncWhenOnline&&n?(g(e.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!e.docs.isEmpty()||t===Qr.Offline},e.prototype.shouldRaiseEvent=function(e){if(e.docChanges.length>0)return!0;var t=this.snap&&this.snap.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.raiseInitialEvent=function(e){g(!this.raisedInitialEvent,"Trying to raise initial events for second time"),e=Pt.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(e)},e}(),ui=function(){function e(e,t,n){this.targetId=e,this.addedKeys=t,this.removedKeys=n}return e.fromSnapshot=function(t,n){for(var r=kt(),i=kt(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case It.Added:r=r.add(s.doc.key);break;case It.Removed:i=i.add(s.doc.key)}}return new e(t,r,i)},e}(),ci=function(){return function(e){this.key=e}}(),li=function(){return function(e){this.key=e}}(),hi=function(){function e(e,t){this.query=e,this._syncedDocuments=t,this.syncState=null,this.current=!1,this.limboDocuments=kt(),this.mutatedKeys=kt(),this.documentSet=new At(e.docComparator.bind(e))}return Object.defineProperty(e.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),e.prototype.computeDocChanges=function(e,t){var n=this,r=t?t.changeSet:new Ot,i=t?t.documentSet:this.documentSet,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(e.inorderTraversal(function(e,t){var c=i.get(e),l=t instanceof le?t:null;l&&(g(e.isEqual(l.key),"Mismatching keys found in document changes: "+e+" != "+l.key),l=n.query.matches(l)?l:null);var h=!!c&&n.mutatedKeys.has(c.key),f=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;c&&l?c.data.isEqual(l.data)?h!==f&&(r.track({type:It.Metadata,doc:l}),p=!0):n.shouldWaitForSyncedDocument(c,l)||(r.track({type:It.Modified,doc:l}),p=!0,u&&n.query.docComparator(l,u)>0&&(s=!0)):!c&&l?(r.track({type:It.Added,doc:l}),p=!0):c&&!l&&(r.track({type:It.Removed,doc:c}),p=!0,u&&(s=!0));p&&(l?(a=a.add(l),o=f?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))}),this.query.hasLimit())for(;a.size>this.query.limit;){var c=a.last();a=a.delete(c.key),o=o.delete(c.key),r.track({type:It.Removed,doc:c})}return g(!s||!t,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},e.prototype.shouldWaitForSyncedDocument=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this;g(!e.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=e.documentSet,this.mutatedKeys=e.mutatedKeys;var o=e.changeSet.getChanges();o.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case It.Added:return 1;case It.Modified:case It.Metadata:return 2;case It.Removed:return 0;default:return m("Unknown ChangeType: "+e)}};return n(e)-n(t)}(e.type,t.type)||r.query.docComparator(e.doc,t.doc)}),this.applyTargetChange(n);var a=t?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current?Nt.Synced:Nt.Local,u=s!==this.syncState;return this.syncState=s,0!==o.length||u?{snapshot:new Pt(this.query,e.documentSet,i,o,e.mutatedKeys,s===Nt.Local,u,!1),limboChanges:a}:{limboChanges:a}},e.prototype.applyOnlineStateChange=function(e){return this.current&&e===Qr.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new Ot,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},e.prototype.shouldBeInLimbo=function(e){return!this._syncedDocuments.has(e)&&(!!this.documentSet.has(e)&&!this.documentSet.get(e).hasLocalMutations)},e.prototype.applyTargetChange=function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t._syncedDocuments=t._syncedDocuments.add(e)}),e.modifiedDocuments.forEach(function(e){return g(t._syncedDocuments.has(e),"Modified document "+e+" not found in view.")}),e.removedDocuments.forEach(function(e){return t._syncedDocuments=t._syncedDocuments.delete(e)}),this.current=e.current)},e.prototype.updateLimboDocuments=function(){var e=this;if(!this.current)return[];var t=this.limboDocuments;this.limboDocuments=kt(),this.documentSet.forEach(function(t){e.shouldBeInLimbo(t.key)&&(e.limboDocuments=e.limboDocuments.add(t.key))});var n=[];return t.forEach(function(t){e.limboDocuments.has(t)||n.push(new li(t))}),this.limboDocuments.forEach(function(e){t.has(e)||n.push(new ci(e))}),n},e.prototype.synchronizeWithPersistedState=function(e,t){this._syncedDocuments=t,this.limboDocuments=kt();var n=this.computeDocChanges(e);return this.applyChanges(n,!0)},e.prototype.computeInitialSnapshot=function(){return Pt.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===Nt.Local)},e}();var fi=function(){return function(e,t,n){this.query=e,this.targetId=t,this.view=n}}(),pi=function(){return function(e){this.key=e}}(),di=function(){function e(e,t,n,r){this.localStore=e,this.remoteStore=t,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Sn(function(e){return e.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new pe(ue.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new Rr,this.mutationUserCallbacks={},this.limboTargetIdGenerator=fr.forSyncEngine(),this.isPrimary=void 0,this.onlineState=Qr.Unknown}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),e.prototype.subscribe=function(e){g(null!==e,"SyncEngine listener cannot be null"),g(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=e},e.prototype.listen=function(e){return a.__awaiter(this,void 0,void 0,function(){var t,n,r,i,o;return a.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(e))?(t=r.targetId,this.sharedClientState.addLocalQueryTarget(t),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(e)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),t=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,t]}})})},e.prototype.initializeViewAndComputeSnapshot=function(e,t){var n=this,r=e.query;return this.localStore.executeQuery(r).then(function(i){return n.localStore.remoteDocumentKeys(e.targetId).then(function(o){var a=new hi(r,o),s=a.computeDocChanges(i),u=Lt.createSynthesizedTargetChangeForCurrentChange(e.targetId,t&&n.onlineState!==Qr.Offline),c=a.applyChanges(s,!0===n.isPrimary,u);g(0===c.limboChanges.length,"View returned limbo docs before target ack from the server."),g(!!c.snapshot,"applyChanges for new view should always return a snapshot");var l=new fi(r,e.targetId,a);return n.queryViewsByQuery.set(r,l),n.queryViewsByTarget[e.targetId]=l,c.snapshot})})},e.prototype.synchronizeViewAndComputeSnapshot=function(e){var t=this;return this.localStore.executeQuery(e.query).then(function(n){return t.localStore.remoteDocumentKeys(e.targetId).then(function(r){return a.__awaiter(t,void 0,void 0,function(){var t;return a.__generator(this,function(i){return t=e.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(e.targetId,t.limboChanges),[2,t]})})})})},e.prototype.unlisten=function(e){return a.__awaiter(this,void 0,void 0,function(){var t,n=this;return a.__generator(this,function(r){switch(r.label){case 0:return this.assertSubscribed("unlisten()"),g(!!(t=this.queryViewsByQuery.get(e)),"Trying to unlisten on query not found:"+e),this.isPrimary?(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.sharedClientState.isActiveQueryTarget(t.targetId)?[3,2]:[4,this.localStore.releaseQuery(e,!1).then(function(){n.sharedClientState.clearQueryState(t.targetId),n.remoteStore.unlisten(t.targetId),n.removeAndCleanupQuery(t)}).catch(function(e){return n.ignoreIfPrimaryLeaseLoss(e)})]):[3,3];case 1:r.sent(),r.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(t),[4,this.localStore.releaseQuery(e,!0)];case 4:r.sent(),r.label=5;case 5:return[2]}})})},e.prototype.write=function(e,t){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(e).then(function(e){return n.sharedClientState.addPendingMutation(e.batchId),n.addMutationCallback(e.batchId,t),n.emitNewSnapsAndNotifyLocalStore(e.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},e.prototype.wrapUpdateFunctionError=function(e){return e},e.prototype.runTransaction=function(e,t){var n=this;void 0===t&&(t=5),g(t>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var t=e(r);return!Fe(t)&&t.catch&&t.then?t.catch(function(e){return Promise.reject(n.wrapUpdateFunctionError(e))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(e){return Promise.reject(n.wrapUpdateFunctionError(e))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===t?Promise.reject(r):n.runTransaction(e,t-1)})})},e.prototype.applyRemoteEvent=function(e){var t=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(e).then(function(n){return k(e.targetChanges,function(e,n){var r=t.limboResolutionsByTarget[e];r&&(g(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?g(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(g(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),t.emitNewSnapsAndNotifyLocalStore(n,e)}).catch(function(e){return t.ignoreIfPrimaryLeaseLoss(e)})},e.prototype.applyOnlineStateChange=function(e,t){if(this.isPrimary&&t===Gr.RemoteStore||!this.isPrimary&&t===Gr.SharedClientState){var n=[];this.queryViewsByQuery.forEach(function(t,r){var i=r.view.applyOnlineStateChange(e);g(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(e),this.syncEngineListener.onWatchChange(n),this.onlineState=e,this.isPrimary&&this.sharedClientState.setOnlineState(e)}},e.prototype.rejectListen=function(e,t){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s,u,c=this;return a.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("rejectListens()"),this.sharedClientState.updateQueryState(e,"rejected",t),n=this.limboResolutionsByTarget[e],(r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[e],i=(i=new pe(ue.comparator)).insert(r,new he(r,$e.forDeletedDoc())),o=kt().add(r),s=new Rt($e.MIN,{},new yt(K),i,o),[2,this.applyRemoteEvent(s)]):[3,1];case 1:return g(!!(u=this.queryViewsByTarget[e]),"Unknown targetId: "+e),[4,this.localStore.releaseQuery(u.query,!1).then(function(){return c.removeAndCleanupQuery(u)}).catch(function(e){return c.ignoreIfPrimaryLeaseLoss(e)})];case 2:a.sent(),this.syncEngineListener.onWatchError(u.query,t),a.label=3;case 3:return[2]}})})},e.prototype.applyBatchState=function(e,t,n){return a.__awaiter(this,void 0,void 0,function(){var r;return a.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(e)];case 1:return null===(r=i.sent())?(f("SyncEngine","Cannot apply mutation batch with id: "+e),[2]):"pending"!==t?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(this.processUserCallback(e,n||null),this.localStore.removeCachedMutationBatchMetadata(e)):m("Unknown batchState: "+t),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},e.prototype.applySuccessfulWrite=function(e){var t=this;this.assertSubscribed("applySuccessfulWrite()");var n=e.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(e).then(function(e){return t.sharedClientState.updateMutationState(n,"acknowledged"),t.emitNewSnapsAndNotifyLocalStore(e)}).catch(function(e){return t.ignoreIfPrimaryLeaseLoss(e)})},e.prototype.rejectFailedWrite=function(e,t){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(e,t),this.localStore.rejectBatch(e).then(function(r){return n.sharedClientState.updateMutationState(e,"rejected",t),n.emitNewSnapsAndNotifyLocalStore(r)}).catch(function(e){return n.ignoreIfPrimaryLeaseLoss(e)})},e.prototype.addMutationCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new pe(K)),n=n.insert(e,t),this.mutationUserCallbacks[this.currentUser.toKey()]=n},e.prototype.processUserCallback=function(e,t){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(e);r&&(g(e===n.minKey(),"Mutation callbacks processed out-of-order?"),t?r.reject(t):r.resolve(),n=n.remove(e)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},e.prototype.removeAndCleanupQuery=function(e){var t=this;if(this.sharedClientState.removeLocalQueryTarget(e.targetId),this.queryViewsByQuery.delete(e.query),delete this.queryViewsByTarget[e.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(e.targetId);this.limboDocumentRefs.removeReferencesForId(e.targetId),n.forEach(function(e){t.limboDocumentRefs.containsKey(e)||t.removeLimboTarget(e)})}},e.prototype.removeLimboTarget=function(e){var t=this.limboTargetsByKey.get(e);null!==t&&(this.remoteStore.unlisten(t),this.limboTargetsByKey=this.limboTargetsByKey.remove(e),delete this.limboResolutionsByTarget[t])},e.prototype.updateTrackedLimbos=function(e,t){for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i instanceof ci)this.limboDocumentRefs.addReference(i.key,e),this.trackLimboChange(i);else if(i instanceof li){f("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,e),this.limboDocumentRefs.containsKey(i.key)||this.removeLimboTarget(i.key)}else m("Unknown limbo change: "+JSON.stringify(i))}},e.prototype.trackLimboChange=function(e){var t=e.key;if(!this.limboTargetsByKey.get(t)){f("SyncEngine","New document in limbo: "+t);var n=this.limboTargetIdGenerator.next(),r=qe.atPath(t.path);this.limboResolutionsByTarget[n]=new pi(t),this.remoteStore.listen(new Ze(r,n,Ue.LimboResolution,un.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(t,n)}},e.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},e.prototype.emitNewSnapsAndNotifyLocalStore=function(e,t){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o=this;return a.__generator(this,function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(a,s){i.push(Promise.resolve().then(function(){var t=s.view.computeDocChanges(e);return t.needsRefill?o.localStore.executeQuery(s.query).then(function(e){return s.view.computeDocChanges(e,t)}):t}).then(function(e){var i=t&&t.targetChanges[s.targetId],a=s.view.applyChanges(e,!0===o.isPrimary,i);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=ui.fromSnapshot(s.targetId,a.snapshot);r.push(u)}}))}),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}})})},e.prototype.ignoreIfPrimaryLeaseLoss=function(e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){if(!Ir(e))throw e;return f("SyncEngine","Unexpectedly lost primary lease"),[2]})})},e.prototype.assertSubscribed=function(e){g(null!==this.syncEngineListener,"Trying to call "+e+" before calling subscribe().")},e.prototype.handleCredentialChange=function(e){return a.__awaiter(this,void 0,void 0,function(){var t,n;return a.__generator(this,function(r){switch(r.label){case 0:return t=!this.currentUser.isEqual(e),this.currentUser=e,t?[4,this.localStore.handleUserChange(e)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},e.prototype.applyPrimaryState=function(e){return a.__awaiter(this,void 0,void 0,function(){var t,n,r,i,o,s,u,c=this;return a.__generator(this,function(a){switch(a.label){case 0:return!0!==e||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return a.sent(),t=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t.toArray())];case 2:for(n=a.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==e||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,s=[],u=Promise.resolve(),S(this.queryViewsByTarget,function(e,t){c.sharedClientState.isLocalQueryTarget(e)?s.push(e):u=u.then(function(){return c.unlisten(t.query)}),c.remoteStore.unlisten(t.targetId)}),[4,u]);case 4:return a.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(s)];case 5:return a.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:a.sent(),a.label=7;case 7:return[2]}})})},e.prototype.resetLimboDocuments=function(){var e=this;S(this.limboResolutionsByTarget,function(t){e.remoteStore.unlisten(t)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new pe(ue.comparator)},e.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(e){for(var t=this,n=Promise.resolve(),r=[],i=[],o=function(e){n=n.then(function(){return a.__awaiter(t,void 0,void 0,function(){var t,n,o,s;return a.__generator(this,function(a){switch(a.label){case 0:return(n=this.queryViewsByTarget[e])?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return a.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return t=a.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return(o=a.sent()).snapshot&&i.push(o.snapshot),[3,8];case 4:return g(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(e)];case 5:return g(!!(s=a.sent()),"Query data for target "+e+" not found"),[4,this.localStore.allocateQuery(s)];case 6:return t=a.sent(),[4,this.initializeViewAndComputeSnapshot(t,!1)];case 7:a.sent(),a.label=8;case 8:return r.push(t),[2]}})})})},s=0,u=e;s<u.length;s++){o(u[s])}return n.then(function(){return t.syncEngineListener.onWatchChange(i),r})},e.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},e.prototype.applyTargetState=function(e,t,n){return a.__awaiter(this,void 0,void 0,function(){var r,i=this;return a.__generator(this,function(o){switch(o.label){case 0:if(this.isPrimary)return f("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[e])return[3,5];switch(t){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(n){return a.__awaiter(i,void 0,void 0,function(){var r;return a.__generator(this,function(i){switch(i.label){case 0:return r=Rt.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return i.sent(),[2]}})})},function(e){return a.__awaiter(i,void 0,void 0,function(){var t;return a.__generator(this,function(n){switch(n.label){case 0:return function(e){return e.code===b.DATA_LOSS&&e.message===Dn}(e)?(t=[],S(this.queryViewsByTarget,function(e){return t.push(e)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(t)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw e;case 3:return[2]}})})})];case 2:return r=this.queryViewsByTarget[e],this.removeAndCleanupQuery(r),[4,this.localStore.releaseQuery(r.query,!0)];case 3:return o.sent(),this.syncEngineListener.onWatchError(r.query,n),[3,5];case 4:m("Unexpected target state: "+t),o.label=5;case 5:return[2]}})})},e.prototype.applyActiveTargetsChange=function(e,t){return a.__awaiter(this,void 0,void 0,function(){var n,r,i,o,s,u,c,l,h,f=this;return a.__generator(this,function(p){switch(p.label){case 0:if(!this.isPrimary)return[2];n=0,r=e,p.label=1;case 1:return n<r.length?(h=r[n],g(!this.queryViewsByTarget[h],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(h)]):[3,6];case 2:return g(!!(i=p.sent()),"Query data for active target "+h+" not found"),[4,this.localStore.allocateQuery(i)];case 3:return o=p.sent(),[4,this.initializeViewAndComputeSnapshot(o,!1)];case 4:p.sent(),this.remoteStore.listen(o),p.label=5;case 5:return n++,[3,1];case 6:s=function(e){var t;return a.__generator(this,function(n){switch(n.label){case 0:return(t=u.queryViewsByTarget[e])?[4,u.localStore.releaseQuery(t.query,!1).then(function(){f.remoteStore.unlisten(e),f.removeAndCleanupQuery(t)}).catch(function(e){return f.ignoreIfPrimaryLeaseLoss(e)})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},u=this,c=0,l=t,p.label=7;case 7:return c<l.length?(h=l[c],[5,s(h)]):[3,10];case 8:p.sent(),p.label=9;case 9:return c++,[3,7];case 10:return[2]}})})},e.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},e.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},e.prototype.getRemoteKeysForTarget=function(e){var t=this.limboResolutionsByTarget[e];return t&&t.receivedDocument?kt().add(t.key):this.queryViewsByTarget[e]?this.queryViewsByTarget[e].view.syncedDocuments:kt()},e}(),mi=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e.UNAUTHENTICATED=new e(null),e.GOOGLE_CREDENTIALS=new e("google-credentials-uid"),e.FIRST_PARTY=new e("first-party-uid"),e}(),gi="SharedClientState",yi="firestore_clients",vi="firestore_mutations",bi="firestore_targets",wi="firestore_online_state",_i="firestore_sequence_number",Ei=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r,g(void 0!==r==("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new w(i.error.code,i.error.message)),o?new e(t,n,i.state,a):(p(gi,"Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Ti=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n,g(void 0!==n==("rejected"===t),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return e.fromWebStorageEntry=function(t,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new w(r.error.code,r.error.message)),i?new e(t,r.state,o):(p(gi,"Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.toWebStorageJSON=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),Si=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.fromWebStorageEntry=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=xt(),a=0;i&&a<r.activeTargetIds.length;++a)i=je(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(p(gi,"Failed to parse client data for instance '"+t+"': "+n),null)},e}(),ki=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.fromWebStorageEntry=function(t){var n=JSON.parse(t);return"object"==typeof n&&void 0!==Qr[n.onlineState]&&"string"==typeof n.clientId?new e(n.clientId,Qr[n.onlineState]):(p(gi,"Failed to parse online state: "+t),null)},e}(),Ci=function(){function e(){this.activeTargetIds=xt()}return e.prototype.addQueryTarget=function(e){g(!this.activeTargetIds.has(e),"Target with ID '"+e+"' already active."),this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.removeQueryTarget=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.toWebStorageJSON=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),xi=function(){function e(t,n,r,i,o){if(this.queue=t,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!e.isAvailable(this.platform))throw new w(b.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=_i+"_"+r,this.activeClients[this.localClientId]=new Ci,this.clientStateKeyRe=new RegExp("^"+yi+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+vi+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+bi+"_"+a+"_(\\d+)$"),this.onlineStateKey=wi+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return e.isAvailable=function(e){return!(!e.window||null==e.window.localStorage)},e.prototype.start=function(){return a.__awaiter(this,void 0,void 0,function(){var e,t,n,r,i,o,s,u,c,l,h,f=this;return a.__generator(this,function(a){switch(a.label){case 0:return g(!this.started,"WebStorageSharedClientState already started"),g(null!==this.syncEngine,"syncEngine property must be set before calling start()"),g(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(e=a.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Si.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),(s=this.storage.getItem(this.onlineStateKey))&&(u=this.fromWebStorageOnlineState(s))&&this.handleOnlineStateEvent(u),c=0,l=this.earlyEvents;c<l.length;c++)h=l[c],this.handleWebStorageEvent(h);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return f.shutdown()}),this.started=!0,[2]}})})},e.prototype.writeSequenceNumber=function(e){this.setItem(this.sequenceNumberKey,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){var e=xt();return k(this.activeClients,function(t,n){e=e.unionWith(n.activeTargetIds)}),e},e.prototype.isActiveQueryTarget=function(e){for(var t in this.activeClients)if(this.activeClients.hasOwnProperty(t)&&this.activeClients[t].activeTargetIds.has(e))return!0;return!1},e.prototype.addPendingMutation=function(e){this.persistMutationState(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.persistMutationState(e,t,n),this.removeMutationState(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(e));if(n){var r=Ti.fromWebStorageEntry(e,n);r&&(t=r.state)}}return this.localClientState.addQueryTarget(e),this.persistClientState(),t},e.prototype.removeLocalQueryTarget=function(e){this.localClientState.removeQueryTarget(e),this.persistClientState()},e.prototype.isLocalQueryTarget=function(e){return this.localClientState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(this.toWebStorageQueryTargetMetadataKey(e))},e.prototype.updateQueryState=function(e,t,n){this.persistQueryTargetState(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach(function(e){r.removeMutationState(e)}),this.currentUser=e,n.forEach(function(e){r.addPendingMutation(e)})},e.prototype.setOnlineState=function(e){this.persistOnlineState(e)},e.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return f(gi,"READ",e,t),t},e.prototype.setItem=function(e,t){f(gi,"SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){f(gi,"REMOVE",e),this.storage.removeItem(e)},e.prototype.handleWebStorageEvent=function(e){var t=this;if(e.storageArea===this.storage){if(f(gi,"EVENT",e.key,e.newValue),e.key===this.localClientStorageKey)return void p("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return a.__awaiter(t,void 0,void 0,function(){var t,n,r,i,o,s;return a.__generator(this,function(a){if(!this.started)return this.earlyEvents.push(e),[2];if(null===e.key)return[2];if(this.clientStateKeyRe.test(e.key)){if(null==e.newValue)return n=this.fromWebStorageClientStateKey(e.key),[2,this.handleClientStateEvent(n,null)];if(t=this.fromWebStorageClientState(e.key,e.newValue))return[2,this.handleClientStateEvent(t.clientId,t)]}else if(this.mutationBatchKeyRe.test(e.key)){if(null!==e.newValue&&(r=this.fromWebStorageMutationMetadata(e.key,e.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(e.key)){if(null!==e.newValue&&(i=this.fromWebStorageQueryTargetMetadata(e.key,e.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(e.key===this.onlineStateKey){if(null!==e.newValue&&(o=this.fromWebStorageOnlineState(e.newValue)))return[2,this.handleOnlineStateEvent(o)]}else e.key===this.sequenceNumberKey&&(g(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(s=function(e){var t=un.INVALID;if(null!=e)try{var n=JSON.parse(e);g("number"==typeof n,"Found non-numeric sequence number"),t=n}catch(e){p(gi,"Failed to read sequence number from WebStorage",e)}return t}(e.newValue))!==un.INVALID&&this.sequenceNumberHandler(s));return[2]})})})}},Object.defineProperty(e.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),e.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},e.prototype.persistMutationState=function(e,t,n){var r=new Ei(this.currentUser,e,t,n),i=this.toWebStorageMutationBatchKey(e);this.setItem(i,r.toWebStorageJSON())},e.prototype.removeMutationState=function(e){var t=this.toWebStorageMutationBatchKey(e);this.removeItem(t)},e.prototype.persistOnlineState=function(e){var t={clientId:this.localClientId,onlineState:Qr[e]};this.storage.setItem(this.onlineStateKey,JSON.stringify(t))},e.prototype.persistQueryTargetState=function(e,t,n){var r=this.toWebStorageQueryTargetMetadataKey(e),i=new Ti(e,t,n);this.setItem(r,i.toWebStorageJSON())},e.prototype.toWebStorageClientStateKey=function(e){return g(-1===e.indexOf("_"),"Client key cannot contain '_', but was '"+e+"'"),yi+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageQueryTargetMetadataKey=function(e){return bi+"_"+this.persistenceKey+"_"+e},e.prototype.toWebStorageMutationBatchKey=function(e){var t=vi+"_"+this.persistenceKey+"_"+e;return this.currentUser.isAuthenticated()&&(t+="_"+this.currentUser.uid),t},e.prototype.fromWebStorageClientStateKey=function(e){var t=this.clientStateKeyRe.exec(e);return t?t[1]:null},e.prototype.fromWebStorageClientState=function(e,t){var n=this.fromWebStorageClientStateKey(e);return g(null!==n,"Cannot parse client state key '"+e+"'"),Si.fromWebStorageEntry(n,t)},e.prototype.fromWebStorageMutationMetadata=function(e,t){var n=this.mutationBatchKeyRe.exec(e);g(null!==n,"Cannot parse mutation batch key '"+e+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Ei.fromWebStorageEntry(new mi(i),r,t)},e.prototype.fromWebStorageQueryTargetMetadata=function(e,t){var n=this.queryTargetKeyRe.exec(e);g(null!==n,"Cannot parse query target key '"+e+"'");var r=Number(n[1]);return Ti.fromWebStorageEntry(r,t)},e.prototype.fromWebStorageOnlineState=function(e){return ki.fromWebStorageEntry(e)},e.prototype.handleMutationBatchEvent=function(e){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(t){return e.user.uid!==this.currentUser.uid?(f(gi,"Ignoring mutation for non-active user "+e.user.uid),[2]):[2,this.syncEngine.applyBatchState(e.batchId,e.state,e.error)]})})},e.prototype.handleQueryTargetEvent=function(e){return this.syncEngine.applyTargetState(e.targetId,e.state,e.error)},e.prototype.handleClientStateEvent=function(e,t){var n=this,r=this.getAllActiveQueryTargets();t?this.activeClients[e]=t:delete this.activeClients[e];var i=this.getAllActiveQueryTargets(),o=[],s=[];return i.forEach(function(e){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(t){return r.has(e)||o.push(e),[2]})})}),r.forEach(function(e){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(t){return i.has(e)||s.push(e),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,s)},e.prototype.handleOnlineStateEvent=function(e){this.activeClients[e.clientId]&&this.onlineStateHandler(e.onlineState)},e}();var Ii=function(){function e(){this.localState=new Ci,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.localState.addQueryTarget(e),this.queryState[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.queryState[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.localState.removeQueryTarget(e)},e.prototype.isLocalQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.queryState[e]},e.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.localState.activeTargetIds.has(e)},e.prototype.start=function(){return this.localState=new Ci,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e}(),Ni=function(){function e(e,t,n,r){this.platform=e,this.databaseInfo=t,this.credentials=n,this.asyncQueue=r,this.clientId=z.newId()}return e.prototype.start=function(e){var t=this,n=new cn,r=new cn,i=!1;return this.credentials.setChangeListener(function(o){i?t.asyncQueue.enqueueAndForget(function(){return t.handleCredentialChange(o)}):(i=!0,t.initializePersistence(e,r,o).then(function(){return t.initializeRest(o)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},e.prototype.enableNetwork=function(){var e=this;return this.asyncQueue.enqueue(function(){return e.syncEngine.enableNetwork()})},e.prototype.initializePersistence=function(e,t,n){var r=this;return e.enabled?this.startIndexedDbPersistence(n,e).then(t.resolve).catch(function(e){return t.reject(e),r.canFallback(e)?(console.warn("Error enabling offline storage. Falling back to storage disabled: "+e),r.startMemoryPersistence()):Promise.reject(e)}):(t.resolve(),this.startMemoryPersistence())},e.prototype.canFallback=function(e){return e instanceof w?e.code===b.FAILED_PRECONDITION||e.code===b.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code)},e.prototype.startIndexedDbPersistence=function(e,t){var n=this;g(t.enabled,"Should only start IndexedDb persitence with offline persistence enabled.");var r=xr.buildStoragePrefix(this.databaseInfo),i=new Gt(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return a.__awaiter(n,void 0,void 0,function(){var n,o;return a.__generator(this,function(a){switch(a.label){case 0:if(t.experimentalTabSynchronization&&!xi.isAvailable(this.platform))throw new w(b.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return t.experimentalTabSynchronization?(this.sharedClientState=new xi(this.asyncQueue,this.platform,r,this.clientId,e),n=this,[4,xr.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n.persistence=a.sent(),[3,4];case 2:return this.sharedClientState=new Ii,o=this,[4,xr.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i)];case 3:o.persistence=a.sent(),a.label=4;case 4:return[2]}})})})},e.prototype.startMemoryPersistence=function(){var e=new Gt(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=Vr.createEagerPersistence(this.clientId,e),this.sharedClientState=new Ii,Promise.resolve()},e.prototype.initializeRest=function(e){var t=this;return f("FirestoreClient","Initializing. user=",e.uid),this.platform.loadConnection(this.databaseInfo).then(function(n){return a.__awaiter(t,void 0,void 0,function(){var t,r,i,o,s=this;return a.__generator(this,function(a){switch(a.label){case 0:return this.localStore=new Mr(this.persistence,e),t=this.platform.newSerializer(this.databaseInfo.databaseId),r=new ti(this.asyncQueue,n,this.credentials,t),i=function(e){return s.syncEngine.applyOnlineStateChange(e,Gr.RemoteStore)},o=function(e){return s.syncEngine.applyOnlineStateChange(e,Gr.SharedClientState)},this.remoteStore=new ii(this.localStore,r,this.asyncQueue,i),this.syncEngine=new di(this.localStore,this.remoteStore,this.sharedClientState,e),this.sharedClientState.onlineStateHandler=o,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new ai(this.syncEngine),[4,this.sharedClientState.start()];case 1:return a.sent(),[4,this.remoteStore.start()];case 2:return a.sent(),[4,this.persistence.setPrimaryStateListener(function(e){return s.syncEngine.applyPrimaryState(e)})];case 3:return a.sent(),[2]}})})})},e.prototype.handleCredentialChange=function(e){return this.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Credential Changed. Current user: "+e.uid),this.syncEngine.handleCredentialChange(e)},e.prototype.disableNetwork=function(){var e=this;return this.asyncQueue.enqueue(function(){return e.syncEngine.disableNetwork()})},e.prototype.shutdown=function(e){var t=this;return this.asyncQueue.enqueue(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(t){switch(t.label){case 0:return[4,this.remoteStore.shutdown()];case 1:return t.sent(),[4,this.sharedClientState.shutdown()];case 2:return t.sent(),[4,this.persistence.shutdown(e&&e.purgePersistenceWithDataLoss)];case 3:return t.sent(),this.credentials.removeChangeListener(),[2]}})})})},e.prototype.listen=function(e,t,n){var r=this,i=new si(e,t,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},e.prototype.unlisten=function(e){var t=this;this.asyncQueue.enqueueAndForget(function(){return t.eventMgr.unlisten(e)})},e.prototype.getDocumentFromLocalCache=function(e){var t=this;return this.asyncQueue.enqueue(function(){return t.localStore.readDocument(e)}).then(function(e){if(e instanceof le)return e;if(e instanceof he)return null;throw new w(b.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},e.prototype.getDocumentsFromLocalCache=function(e){var t=this;return this.asyncQueue.enqueue(function(){return t.localStore.executeQuery(e)}).then(function(t){var n=kt(),r=new hi(e,n),i=r.computeDocChanges(t);return r.applyChanges(i,!1).snapshot})},e.prototype.write=function(e){var t=this,n=new cn;return this.asyncQueue.enqueueAndForget(function(){return t.syncEngine.write(e,n)}),n.promise},e.prototype.databaseId=function(){return this.databaseInfo.databaseId},e.prototype.transaction=function(e){var t=this;return this.asyncQueue.enqueue(function(){return a.__awaiter(t,void 0,void 0,function(){return a.__generator(this,function(e){return[2]})})}).then(function(){return t.syncEngine.runTransaction(e)})},e}(),Ai=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.scheduleEvent(this.observer.next,e)},e.prototype.error=function(e){this.scheduleEvent(this.observer.error,e)},e.prototype.mute=function(){this.muted=!0},e.prototype.scheduleEvent=function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)},e}(),Di=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];!function(e,t,n,r){if(!(t instanceof Array)||t.length<r)throw new w(b.INVALID_ARGUMENT,"Function "+e+"() requires its "+n+" argument to be an array with at least "+W(r,"element")+".")}("FieldPath",e,"fieldNames",1);for(var n=0;n<e.length;++n)if(A("FieldPath","string",n,e[n]),0===e[n].length)throw new w(b.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new se(e)}return e.documentId=function(){return e._DOCUMENT_ID},e.prototype.isEqual=function(t){if(!(t instanceof e))throw B("isEqual","FieldPath",1,t);return this._internalPath.isEqual(t._internalPath)},e._DOCUMENT_ID=new e(se.keyField().canonicalString()),e}(),Oi=new RegExp("[~\\*/\\[\\]]");var Pi=function(){return function(e,t){this.user=t,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+e}}}(),Ri=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e){g(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,e(mi.UNAUTHENTICATED)},e.prototype.removeChangeListener=function(){g(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},e}(),Li=function(){function e(e){var t=this;this.app=e,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){t.tokenCounter++,t.currentUser=t.getUser(),t.changeListener&&t.changeListener(t.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return e.prototype.getToken=function(){var e=this;g(null!=this.tokenListener,"getToken cannot be called after listener removed.");var t=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(e.tokenCounter!==t)throw new w(b.ABORTED,"getToken aborted due to token change.");return n?(g("string"==typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new Pi(n.accessToken,e.currentUser)):null})},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e){g(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=e,this.currentUser&&e(this.currentUser)},e.prototype.removeChangeListener=function(){g(null!=this.tokenListener,"removeChangeListener() called twice"),g(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},e.prototype.getUser=function(){var e=this.app.INTERNAL.getUid();return g(null===e||"string"==typeof e,"Received invalid UID: "+e),new mi(e)},e}(),Mi=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,this.type="FirstParty",this.user=mi.FIRST_PARTY,g(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),e}(),Fi=function(){function e(e,t){this.gapi=e,this.sessionIndex=t,g(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return e.prototype.getToken=function(){return Promise.resolve(new Mi(this.gapi,this.sessionIndex))},e.prototype.setChangeListener=function(e){e(mi.FIRST_PARTY)},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function ji(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=t;r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e,["next","error","complete"])}var Ui,qi=function(){function e(e){this._methodName=e}return e.delete=function(){return Bi.instance},e.serverTimestamp=function(){return Vi.instance},e.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return I("FieldValue.arrayUnion",arguments,1),new Wi(e)},e.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return I("FieldValue.arrayRemove",arguments,1),new zi(e)},e.prototype.isEqual=function(e){return this===e},e}(),Bi=function(e){function t(){return e.call(this,"FieldValue.delete")||this}return a.__extends(t,e),t.instance=new t,t}(qi),Vi=function(e){function t(){return e.call(this,"FieldValue.serverTimestamp")||this}return a.__extends(t,e),t.instance=new t,t}(qi),Wi=function(e){function t(t){var n=e.call(this,"FieldValue.arrayUnion")||this;return n._elements=t,n}return a.__extends(t,e),t}(qi),zi=function(e){function t(t){var n=e.call(this,"FieldValue.arrayRemove")||this;return n._elements=t,n}return a.__extends(t,e),t}(qi),Ki=_(qi,"Use FieldValue.<field>() instead."),Hi=/^__.*__$/,Qi=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[];return null!==this.fieldMask?n.push(new at(e,this.data,this.fieldMask,t)):n.push(new ot(e,this.data,t)),this.fieldTransforms.length>0&&n.push(new st(e,this.fieldTransforms)),n},e}(),Gi=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutations=function(e,t){var n=[new at(e,this.data,this.fieldMask,t)];return this.fieldTransforms.length>0&&n.push(new st(e,this.fieldTransforms)),n},e}();function Xi(e){switch(e){case Ui.Set:case Ui.MergeSet:case Ui.Update:return!0;case Ui.Argument:return!1;default:throw m("Unexpected case for UserDataSource: "+e)}}!function(e){e[e.Set=0]="Set",e[e.Update=1]="Update",e[e.MergeSet=2]="MergeSet",e[e.Argument=3]="Argument"}(Ui||(Ui={}));var Yi=function(){function e(e,t,n,r,i,o){this.dataSource=e,this.methodName=t,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return e.prototype.childContextForField=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(t),r},e.prototype.childContextForFieldPath=function(t){var n=null==this.path?null:this.path.child(t),r=new e(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},e.prototype.childContextForArray=function(t){return new e(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},e.prototype.createError=function(e){var t=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new w(b.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+e+t)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},e.prototype.validatePath=function(){if(null!==this.path)for(var e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))},e.prototype.validatePathSegment=function(e){if(Xi(this.dataSource)&&Hi.test(e))throw this.createError("Document fields cannot begin and end with __")},e}(),$i=function(){return function(e,t){this.databaseId=e,this.key=t}}(),Ji=function(){function e(e){this.preConverter=e}return e.prototype.parseSetData=function(e,t){var n=new Yi(Ui.Set,e,se.EMPTY_PATH);eo("Data must be an object, but it was:",n,t);var r=this.parseData(t,n);return new Qi(r,null,n.fieldTransforms)},e.prototype.parseMergeData=function(e,t,n){var r=new Yi(Ui.MergeSet,e,se.EMPTY_PATH);eo("Data must be an object, but it was:",r,t);var i,o,a=this.parseData(t,r);if(n){for(var s=[],u=0,c=n;u<c.length;u++){var l=c[u],h=void 0;if(l instanceof Di)h=l._internalPath;else{if("string"!=typeof l)throw m("Expected stringOrFieldPath to be a string or a FieldPath");h=no(e,l)}if(!r.contains(h))throw new w(b.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s.push(h)}i=new et(s),o=r.fieldTransforms.filter(function(e){return i.covers(e.field)})}else i=new et(r.fieldMask),o=r.fieldTransforms;return new Qi(a,i,o)},e.prototype.parseUpdateData=function(e,t){var n=this,r=new Yi(Ui.Update,e,se.EMPTY_PATH);eo("Data must be an object, but it was:",r,t);var i=[],o=De.EMPTY;k(t,function(t,a){var s=no(e,t),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof Bi)i.push(s);else{var c=n.parseData(a,u);null!=c&&(i.push(s),o=o.set(s,c))}});var a=new et(i);return new Gi(o,a,r.fieldTransforms)},e.prototype.parseUpdateVarargs=function(e,t,n,r){var i=new Yi(Ui.Update,e,se.EMPTY_PATH),o=[to(e,t)],a=[n];if(r.length%2!=0)throw new w(b.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(to(e,r[s])),a.push(r[s+1]);var u=[],c=De.EMPTY;for(s=0;s<o.length;++s){var l=o[s],h=i.childContextForFieldPath(l),f=this.runPreConverter(a[s],h);if(f instanceof Bi)u.push(l);else{var p=this.parseData(f,h);null!=p&&(u.push(l),c=c.set(l,p))}}var d=new et(u);return new Gi(c,d,i.fieldTransforms)},e.prototype.parseQueryValue=function(e,t){var n=new Yi(Ui.Argument,e,se.EMPTY_PATH),r=this.parseData(t,n);return g(null!=r,"Parsed data should not be null."),g(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},e.prototype.runPreConverter=function(e,t){try{return this.preConverter(e)}catch(e){var n=ro(e);throw t.createError(n)}},e.prototype.parseData=function(e,t){if(Zi(e=this.runPreConverter(e,t)))return eo("Unsupported field value:",t,e),this.parseObject(e,t);if(e instanceof qi)return this.parseSentinelFieldValue(e,t),null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.arrayElement)throw t.createError("Nested arrays are not supported");return this.parseArray(e,t)}return this.parseScalarValue(e,t)},e.prototype.parseObject=function(e,t){var n=this,r=new pe(K);return C(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):k(e,function(e,i){var o=n.parseData(i,t.childContextForField(e));null!=o&&(r=r.insert(e,o))}),new De(r)},e.prototype.parseArray=function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=o[i],s=this.parseData(a,t.childContextForArray(r));null==s&&(s=be.INSTANCE),n.push(s),r++}return new Oe(n)},e.prototype.parseSentinelFieldValue=function(e,t){if(!Xi(t.dataSource))throw t.createError(e._methodName+"() can only be used with update() and set()");if(null===t.path)throw t.createError(e._methodName+"() is not currently supported inside arrays");if(e instanceof Bi){if(t.dataSource!==Ui.MergeSet)throw t.dataSource===Ui.Update?(g(t.path.length>0,"FieldValue.delete() at the top level should have already been handled."),t.createError("FieldValue.delete() can only appear at the top level of your update data")):t.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");t.fieldMask.push(t.path)}else if(e instanceof Vi)t.fieldTransforms.push(new tt(t.path,ct.instance));else if(e instanceof Wi){var n=this.parseArrayTransformElements(e._methodName,e._elements),r=new lt(n);t.fieldTransforms.push(new tt(t.path,r))}else if(e instanceof zi){n=this.parseArrayTransformElements(e._methodName,e._elements);var i=new ht(n);t.fieldTransforms.push(new tt(t.path,i))}else m("Unknown FieldValue type: "+e)},e.prototype.parseScalarValue=function(e,t){if(null===e)return be.INSTANCE;if("number"==typeof e)return je(e)?new Te(e):new Se(e);if("boolean"==typeof e)return we.of(e);if("string"==typeof e)return new ke(e);if(e instanceof Date)return new Ce(ee.fromDate(e));if(e instanceof ee)return new Ce(new ee(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)));if(e instanceof Z)return new Ae(e);if(e instanceof $)return new Ie(e);if(e instanceof $i)return new Ne(e.databaseId,e.key);throw t.createError("Unsupported field value: "+j(e))},e.prototype.parseArrayTransformElements=function(e,t){var n=this;return t.map(function(t,r){var i=new Yi(Ui.Argument,e,se.EMPTY_PATH);return n.parseData(t,i.childContextForArray(r))})},e}();function Zi(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof ee||e instanceof Z||e instanceof $||e instanceof $i||e instanceof qi)}function eo(e,t,n){if(!Zi(n)||!F(n)){var r=j(n);throw"an object"===r?t.createError(e+" a custom object"):t.createError(e+" "+r)}}function to(e,t){if(t instanceof Di)return t._internalPath;if("string"==typeof t)return no(e,t);throw new w(b.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function no(e,t){try{return function(e){if(e.search(Oi)>=0)throw new w(b.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Di.bind.apply(Di,[void 0].concat(e.split("."))))}catch(t){throw new w(b.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(t)._internalPath}catch(t){var n=ro(t);throw new w(b.INVALID_ARGUMENT,"Function "+e+"() called with invalid data. "+n)}}function ro(e){return e instanceof Error?e.message:e.toString()}var io="firestore.googleapis.com",oo=!0,ao=!1,so=!1,uo=function(){function e(e){if(void 0===e.host){if(void 0!==e.ssl)throw new w(b.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=io,this.ssl=oo}else O("settings","non-empty string","host",e.host),this.host=e.host,P("settings","boolean","ssl",e.ssl),this.ssl=T(e.ssl,oo);q("settings",e,["host","ssl","credentials","timestampsInSnapshots"]),P("settings","object","credentials",e.credentials),this.credentials=e.credentials,P("settings","boolean","timestampsInSnapshots",e.timestampsInSnapshots),this.timestampsInSnapshots=T(e.timestampsInSnapshots,ao)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.timestampsInSnapshots===e.timestampsInSnapshots&&this.credentials===e.credentials},e}(),co=function(){return function(){}}(),lo=function(){function e(e,t){this.enabled=e,g(e||!t,"Can only provide PersistenceSettings with persistence enabled"),t=t||{},this.experimentalTabSynchronization=T(t.experimentalTabSynchronization,so)}return e.prototype.isEqual=function(e){return this.enabled===e.enabled&&this.experimentalTabSynchronization===e.experimentalTabSynchronization},e}(),ho=function(){function e(t){var n=this;this._queue=new hn,this.INTERNAL={delete:function(e){return a.__awaiter(n,void 0,void 0,function(){return a.__generator(this,function(t){return this._firestoreClient?[2,this._firestoreClient.shutdown(e)]:[2]})})}};var r=new co;if("object"==typeof t.options){var i=t;r.firebaseApp=i,r.databaseId=e.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Li(i)}else{var o=t;if(!o.projectId)throw new w(b.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new re(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new Ri}r.settings=new uo({}),this._config=r,this._databaseId=r.databaseId}return e.prototype.settings=function(e){if(x("Firestore.settings",arguments,1),A("Firestore.settings","object",1,e),E(e,"persistence"))throw new w(b.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var t=new uo(e);if(this._firestoreClient&&!this._config.settings.isEqual(t))throw new w(b.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=t,void 0!==t.credentials&&(this._config.credentials=function(e){if(!e)return new Ri;switch(e.type){case"gapi":return new Fi(e.client,e.sessionIndex||"0");case"provider":return e.client;default:throw new w(b.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},e.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},e.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},e.prototype.enablePersistence=function(e){if(this._firestoreClient)throw new w(b.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new lo(!0,e))},e.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new lo(!1)),this._firestoreClient},e.prototype.configureClient=function(e){var t=this;g(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),this._config.settings.timestampsInSnapshots||p("\nThe behavior for Date objects stored in Firestore is going to change\nAND YOUR APP MAY BREAK.\nTo hide this warning and ensure your app does not break, you need to add the\nfollowing code to your app before calling any other Cloud Firestore methods:\n\n  const firestore = firebase.firestore();\n  const settings = {/* your settings... */ timestampsInSnapshots: true};\n  firestore.settings(settings);\n\nWith this change, timestamps stored in Cloud Firestore will be read back as\nFirebase Timestamp objects instead of as system Date objects. So you will also\nneed to update code expecting a Date to instead expect a Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at');\n  const date = timestamp.toDate();\n\nPlease audit all existing usages of Date when you enable the new behavior. In a\nfuture release, the behavior will change to the new behavior, so if you do not\nfollow these steps, YOUR APP MAY BREAK."),g(!this._firestoreClient,"configureClient() called multiple times");var n=new te(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl);return this._dataConverter=new Ji(function(e){if(e instanceof mo){var n=t._config.databaseId,r=e.firestore._config.databaseId;if(!r.isEqual(n))throw new w(b.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new $i(t._config.databaseId,e._key)}return e}),this._firestoreClient=new Ni(y.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(e)},e.databaseIdFromApp=function(e){var t=e.options;if(!E(t,"projectId"))throw new w(b.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=t.projectId;if(!n||"string"!=typeof n)throw new w(b.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new re(n)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new w(b.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(x("Firestore.collection",arguments,1),A("Firestore.collection","non-empty string",1,e),!e)throw new w(b.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new _o(oe.fromString(e),this)},e.prototype.doc=function(e){if(x("Firestore.doc",arguments,1),A("Firestore.doc","non-empty string",1,e),!e)throw new w(b.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),mo.forPath(oe.fromString(e),this)},e.prototype.runTransaction=function(e){var t=this;return x("Firestore.runTransaction",arguments,1),A("Firestore.runTransaction","function",1,e),this.ensureClientConfigured().transaction(function(n){return e(new fo(t,n))})},e.prototype.batch=function(){return this.ensureClientConfigured(),new po(this)},Object.defineProperty(e,"logLevel",{get:function(){switch(l()){case r.DEBUG:return"debug";case r.ERROR:return"error";case r.SILENT:return"silent";default:return m("Unknown log level: "+l())}},enumerable:!0,configurable:!0}),e.setLogLevel=function(e){switch(x("Firestore.setLogLevel",arguments,1),A("Firestore.setLogLevel","non-empty string",1,e),e){case"debug":h(r.DEBUG);break;case"error":h(r.ERROR);break;case"silent":h(r.SILENT);break;default:throw new w(b.INVALID_ARGUMENT,"Invalid log level: "+e)}},e.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},e}(),fo=function(){function e(e,t){this._firestore=e,this._transaction=t}return e.prototype.get=function(e){var t=this;x("Transaction.get",arguments,1);var n=ko("Transaction.get",e,this._firestore);return this._transaction.lookup([n._key]).then(function(e){if(!e||1!==e.length)return m("Mismatch in docs returned from document lookup.");var r=e[0];if(r instanceof he)return new yo(t._firestore,n._key,null,!1,!1);if(r instanceof le)return new yo(t._firestore,n._key,r,!1,!1);throw m("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},e.prototype.set=function(e,t,n){N("Transaction.set",arguments,2,3);var r=ko("Transaction.set",e,this._firestore),i=(n=Eo("Transaction.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",t);return this._transaction.set(r._key,i),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return"string"==typeof t||t instanceof Di?(I("Transaction.update",arguments,3),r=ko("Transaction.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",t,n,o)):(x("Transaction.update",arguments,2),r=ko("Transaction.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateData("Transaction.update",t)),this._transaction.update(r._key,i),this},e.prototype.delete=function(e){x("Transaction.delete",arguments,1);var t=ko("Transaction.delete",e,this._firestore);return this._transaction.delete(t._key),this},e}(),po=function(){function e(e){this._firestore=e,this._mutations=[],this._committed=!1}return e.prototype.set=function(e,t,n){N("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=ko("WriteBatch.set",e,this._firestore),i=(n=Eo("WriteBatch.set",n)).merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",t,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",t);return this._mutations=this._mutations.concat(i.toMutations(r._key,rt.NONE)),this},e.prototype.update=function(e,t,n){for(var r,i,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];return this.verifyNotCommitted(),"string"==typeof t||t instanceof Di?(I("WriteBatch.update",arguments,3),r=ko("WriteBatch.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",t,n,o)):(x("WriteBatch.update",arguments,2),r=ko("WriteBatch.update",e,this._firestore),i=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",t)),this._mutations=this._mutations.concat(i.toMutations(r._key,rt.exists(!0))),this},e.prototype.delete=function(e){x("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var t=ko("WriteBatch.delete",e,this._firestore);return this._mutations=this._mutations.concat(new ut(t._key,rt.NONE)),this},e.prototype.commit=function(){return a.__awaiter(this,void 0,void 0,function(){return a.__generator(this,function(e){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},e.prototype.verifyNotCommitted=function(){if(this._committed)throw new w(b.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}(),mo=function(){function e(e,t){this._key=e,this.firestore=t,this._firestoreClient=this.firestore.ensureClientConfigured()}return e.forPath=function(t,n){if(t.length%2!=0)throw new w(b.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(new ue(t),n)},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new _o(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.collection=function(e){if(x("DocumentReference.collection",arguments,1),A("DocumentReference.collection","non-empty string",1,e),!e)throw new w(b.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var t=oe.fromString(e);return new _o(this._key.path.child(t),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw B("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this._key.isEqual(t._key)},e.prototype.set=function(e,t){N("DocumentReference.set",arguments,1,2);var n=(t=Eo("DocumentReference.set",t)).merge||t.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",e,t.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",e);return this._firestoreClient.write(n.toMutations(this._key,rt.NONE))},e.prototype.update=function(e,t){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof e||e instanceof Di?(I("DocumentReference.update",arguments,2),n=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",e,t,r)):(x("DocumentReference.update",arguments,1),n=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",e)),this._firestoreClient.write(n.toMutations(this._key,rt.exists(!0)))},e.prototype.delete=function(){return x("DocumentReference.delete",arguments,0),this._firestoreClient.write([new ut(this._key,rt.NONE)])},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];N("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!=typeof e[i]||ji(e[i])||(q("DocumentReference.onSnapshot",r=e[i],["includeMetadataChanges"]),P("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return ji(e[i])?n=e[i]:(A("DocumentReference.onSnapshot","function",i,e[i]),D("DocumentReference.onSnapshot","function",i+1,e[i+1]),D("DocumentReference.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(o,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Ai({next:function(e){if(t.next){g(e.docs.size<=1,"Too many documents returned on a document query");var r=e.docs.get(n._key);t.next(new yo(n.firestore,n._key,r,e.fromCache,e.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(qe.atPath(this._key.path),i,e);return function(){i.mute(),n._firestoreClient.unlisten(o)}},e.prototype.get=function(e){var t=this;return N("DocumentReference.get",arguments,0,1),So("DocumentReference.get",e),new Promise(function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentFromLocalCache(t._key).then(function(e){n(new yo(t.firestore,t._key,e,!0,e instanceof le&&e.hasLocalMutations))},r):t.getViaSnapshotListener(n,r,e)})},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?t(new w(b.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?t(new w(b.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):e(i)},error:t})},e}(),go=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),yo=function(){function e(e,t,n,r,i){this._firestore=e,this._key=t,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return e.prototype.data=function(e){return N("DocumentSnapshot.data",arguments,0,1),e=To("DocumentSnapshot.data",e),this._document?this.convertObject(this._document.data,ye.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},e.prototype.get=function(e,t){if(N("DocumentSnapshot.get",arguments,1,2),t=To("DocumentSnapshot.get",t),this._document){var n=this._document.data.field(to("DocumentSnapshot.get",e));if(void 0!==n)return this.convertValue(n,ye.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new mo(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return new go(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){if(!(t instanceof e))throw B("isEqual","DocumentSnapshot",1,t);return this._firestore===t._firestore&&this._fromCache===t._fromCache&&this._key.isEqual(t._key)&&(null===this._document?null===t._document:this._document.isEqual(t._document))},e.prototype.convertObject=function(e,t){var n=this,r={};return e.forEach(function(e,i){r[e]=n.convertValue(i,t)}),r},e.prototype.convertValue=function(e,t){if(e instanceof De)return this.convertObject(e,t);if(e instanceof Oe)return this.convertArray(e,t);if(e instanceof Ne){var n=e.value(t),r=this._firestore.ensureClientConfigured().databaseId();return e.databaseId.isEqual(r)||p("Document "+this._key.path+" contains a document reference within a different database ("+e.databaseId.projectId+"/"+e.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new mo(n,this._firestore)}return e.value(t)},e.prototype.convertArray=function(e,t){var n=this;return e.internalValue.map(function(e){return n.convertValue(e,t)})},e}(),vo=function(e){function t(t,n,r,i,o){return e.call(this,t,n,r,i,o)||this}return a.__extends(t,e),t.prototype.data=function(t){var n=e.prototype.data.call(this,t);return g("object"==typeof n,"Document in a QueryDocumentSnapshot should exist"),n},t}(yo),bo=function(){function e(e,t){this._query=e,this.firestore=t}return e.prototype.where=function(t,n,r){var i;x("Query.where",arguments,3),A("Query.where","non-empty string",2,n),U("Query.where",3,r);var o=to("Query.where",t),a=Ve.fromString(n);if(o.isKeyField()){if(a===Ve.ARRAY_CONTAINS)throw new w(b.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"==typeof r){if(-1!==r.indexOf("/"))throw new w(b.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new w(b.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var s=this._query.path.child(new oe([r]));g(s.length%2==0,"Path should be a document key"),i=new Ne(this.firestore._databaseId,new ue(s))}else{if(!(r instanceof mo))throw new w(b.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+j(r)+".");var u=r;i=new Ne(this.firestore._databaseId,u._key)}}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var c=Be.create(o,a,i);return this.validateNewFilter(c),new e(this._query.addFilter(c),this.firestore)},e.prototype.orderBy=function(t,n){var r;if(N("Query.orderBy",arguments,1,2),D("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r=He.ASCENDING;else{if("desc"!==n)throw new w(b.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=He.DESCENDING}if(null!==this._query.startAt)throw new w(b.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new w(b.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=to("Query.orderBy",t),o=new Ge(i,r);return this.validateNewOrderBy(o),new e(this._query.addOrderBy(o),this.firestore)},e.prototype.limit=function(t){if(x("Query.limit",arguments,1),A("Query.limit","number",1,t),t<=0)throw new w(b.INVALID_ARGUMENT,"Invalid Query. Query limit ("+t+") is invalid. Limit must be positive.");return new e(this._query.withLimit(t),this.firestore)},e.prototype.startAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];I("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",t,n,!0);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.startAfter=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];I("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",t,n,!1);return new e(this._query.withStartAt(i),this.firestore)},e.prototype.endBefore=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];I("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",t,n,!0);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.endAt=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];I("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",t,n,!1);return new e(this._query.withEndAt(i),this.firestore)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw B("isEqual","Query",1,t);return this.firestore===t.firestore&&this._query.isEqual(t._query)},e.prototype.boundFromDocOrFields=function(e,t,n,r){if(U(e,1,t),t instanceof yo){if(n.length>0)throw new w(b.INVALID_ARGUMENT,"Too many arguments provided to "+e+"().");var i=t;if(!i.exists)throw new w(b.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+e+"().");return this.boundFromDocument(e,i._document,r)}var o=[t].concat(n);return this.boundFromFields(e,o,r)},e.prototype.boundFromDocument=function(e,t,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new Ne(this.firestore._databaseId,t.key));else{var s=t.field(a.field);if(void 0===s){var u=a.field.canonicalString();throw new w(b.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new Qe(r,n)},e.prototype.boundFromFields=function(e,t,n){var r=this._query.explicitOrderBy;if(t.length>r.length)throw new w(b.INVALID_ARGUMENT,"Too many arguments provided to "+e+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<t.length;o++){var a=t[o];if(r[o].field.isKeyField()){if("string"!=typeof a)throw new w(b.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+e+"(), but got a "+typeof a);if(-1!==a.indexOf("/"))throw new w(b.INVALID_ARGUMENT,"Invalid query. Document ID '"+a+"' contains a slash in "+e+"()");var s=new ue(this._query.path.child(a));i.push(new Ne(this.firestore._databaseId,s))}else{var u=this.firestore._dataConverter.parseQueryValue(e,a);i.push(u)}}return new Qe(i,n)},e.prototype.onSnapshot=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];N("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!=typeof e[i]||ji(e[i])||(q("Query.onSnapshot",r=e[i],["includeMetadataChanges"]),P("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),ji(e[i])?n=e[i]:(A("Query.onSnapshot","function",i,e[i]),D("Query.onSnapshot","function",i+1,e[i+1]),D("Query.onSnapshot","function",i+2,e[i+2]),n={next:e[i],error:e[i+1],complete:e[i+2]}),this.onSnapshotInternal(r,n)},e.prototype.onSnapshotInternal=function(e,t){var n=this,r=function(e){console.error("Uncaught Error in onSnapshot:",e)};t.error&&(r=t.error.bind(t));var i=new Ai({next:function(e){t.next&&t.next(new wo(n.firestore,n._query,e))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,e);return function(){i.mute(),o.unlisten(a)}},e.prototype.get=function(e){var t=this;return N("Query.get",arguments,0,1),So("Query.get",e),new Promise(function(n,r){e&&"cache"===e.source?t.firestore.ensureClientConfigured().getDocumentsFromLocalCache(t._query).then(function(e){n(new wo(t.firestore,t._query,e))},r):t.getViaSnapshotListener(n,r,e)})},e.prototype.getViaSnapshotListener=function(e,t,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?t(new w(b.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):e(i)},error:t})},e.prototype.validateNewFilter=function(e){if(e instanceof We)if(e.isInequality()){var t=this._query.getInequalityFilterField();if(null!==t&&!t.isEqual(e.field))throw new w(b.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+t.toString()+"' and '"+e.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(e.field,n)}else if(e.op===Ve.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new w(b.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},e.prototype.validateNewOrderBy=function(e){if(null===this._query.getFirstOrderByField()){var t=this._query.getInequalityFilterField();null!==t&&this.validateOrderByAndInequalityMatch(t,e.field)}},e.prototype.validateOrderByAndInequalityMatch=function(e,t){if(!t.isEqual(e))throw new w(b.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+t.toString()+"' instead.")},e}(),wo=function(){function e(e,t,n){this._firestore=e,this._originalQuery=t,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new go(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;N("QuerySnapshot.forEach",arguments,1,2),A("QuerySnapshot.forEach","function",1,e),this._snapshot.docs.forEach(function(r){e.call(t,n.convertToDocumentImpl(r))})},Object.defineProperty(e.prototype,"query",{get:function(){return new bo(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),e.prototype.docChanges=function(e){e&&(q("QuerySnapshot.docChanges",e,["includeMetadataChanges"]),P("QuerySnapshot.docChanges","boolean","includeMetadataChanges",e.includeMetadataChanges));var t=!(!e||!e.includeMetadataChanges);if(t&&this._snapshot.excludesMetadataChanges)throw new w(b.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(t){var o=new vo(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key));return g(t.type===It.Added,"Invalid event type for first snapshot"),g(!r||n.query.docComparator(r,t.doc)<0,"Got added events in wrong order"),r=t.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(e){return t||e.type!==It.Metadata}).map(function(t){var r=new vo(e,t.doc.key,t.doc,n.fromCache,n.mutatedKeys.has(t.doc.key)),i=-1,a=-1;return t.type!==It.Added&&(g((i=o.indexOf(t.doc.key))>=0,"Index for document not found"),o=o.delete(t.doc.key)),t.type!==It.Removed&&(o=o.add(t.doc),a=o.indexOf(t.doc.key)),{type:function(e){switch(e){case It.Added:return"added";case It.Modified:case It.Metadata:return"modified";case It.Removed:return"removed";default:return m("Unknown change type: "+e)}}(t.type),doc:r,oldIndex:i,newIndex:a}})}(this._firestore,t,this._snapshot),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e.prototype.isEqual=function(t){if(!(t instanceof e))throw B("isEqual","QuerySnapshot",1,t);return this._firestore===t._firestore&&this._originalQuery.isEqual(t._originalQuery)&&this._snapshot.isEqual(t._snapshot)},e.prototype.convertToDocumentImpl=function(e){return new vo(this._firestore,e.key,e,this.metadata.fromCache,this._snapshot.mutatedKeys.has(e.key))},e}();["length","forEach","map"].concat("undefined"!=typeof Symbol?[Symbol.iterator]:[]).forEach(function(e){try{Object.defineProperty(wo.prototype.docChanges,e,{get:function(){return function(){throw new w(b.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}()}})}catch(e){}});var _o=function(e){function t(t,n){var r=e.call(this,qe.atPath(t),n)||this;if(t.length%2!=1)throw new w(b.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t.canonicalString()+" has "+t.length);return r}return a.__extends(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._query.path.popLast();return e.isEmpty()?null:new mo(new ue(e),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.doc=function(e){if(N("CollectionReference.doc",arguments,0,1),0===arguments.length&&(e=z.newId()),A("CollectionReference.doc","non-empty string",1,e),""===e)throw new w(b.INVALID_ARGUMENT,"Document path must be a non-empty string");var t=oe.fromString(e);return mo.forPath(this._query.path.child(t),this.firestore)},t.prototype.add=function(e){x("CollectionReference.add",arguments,1),A("CollectionReference.add","object",1,e);var t=this.doc();return t.set(e).then(function(){return t})},t}(bo);function Eo(e,t){if(void 0===t)return{merge:!1};if(q(e,t,["merge","mergeFields"]),P(e,"boolean","merge",t.merge),R(e,"mergeFields","a string or a FieldPath",t.mergeFields,function(e){return"string"==typeof e||e instanceof Di}),void 0!==t.mergeFields&&void 0!==t.merge)throw new w(b.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function To(e,t){return void 0===t?{}:(q(e,t,["serverTimestamps"]),L(e,0,"serverTimestamps",t.serverTimestamps,["estimate","previous","none"]),t)}function So(e,t){D(e,"object",1,t),t&&(q(e,t,["source"]),L(e,0,"source",t.source,["default","server","cache"]))}function ko(e,t,n){if(t instanceof mo){if(t.firestore!==n)throw new w(b.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}throw B(e,"DocumentReference",1,t)}var Co=_(ho,"Use firebase.firestore() instead."),xo=_(fo,"Use firebase.firestore().runTransaction() instead."),Io=_(po,"Use firebase.firestore().batch() instead."),No=_(mo,"Use firebase.firestore().doc() instead."),Ao=_(yo),Do=_(vo),Oo=_(bo),Po=_(wo),Ro=_(_o,"Use firebase.firestore().collection() instead."),Lo={Firestore:Co,GeoPoint:Z,Timestamp:ee,Blob:J,Transaction:xo,WriteBatch:Io,DocumentReference:No,DocumentSnapshot:Ao,Query:Oo,QueryDocumentSnapshot:Do,QuerySnapshot:Po,CollectionReference:Ro,FieldPath:Di,FieldValue:Ki,setLogLevel:ho.setLogLevel};function Mo(e){e.INTERNAL.registerService("firestore",function(e){return new ho(e)},function(e){g(e&&"object"==typeof e,"shallowCopy() expects object parameter.");var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}(Lo))}function Fo(e){Mo(e)}Fo(i),t.registerFirestore=Fo}).call(this,n(11))},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return i}),n.d(t,"__assign",function(){return o}),n.d(t,"__rest",function(){return a}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return u}),n.d(t,"__metadata",function(){return c}),n.d(t,"__awaiter",function(){return l}),n.d(t,"__generator",function(){return h}),n.d(t,"__exportStar",function(){return f}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return d}),n.d(t,"__spread",function(){return m}),n.d(t,"__await",function(){return g}),n.d(t,"__asyncGenerator",function(){return y}),n.d(t,"__asyncDelegator",function(){return v}),n.d(t,"__asyncValues",function(){return b}),n.d(t,"__makeTemplateObject",function(){return w}),n.d(t,"__importStar",function(){return _}),n.d(t,"__importDefault",function(){return E});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{!function(e){e.value instanceof g?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(e){l(o[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){e[r]&&(t[r]=function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:i?i(t):t})}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):p(e)}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"createWebChannelTransport",function(){return An}),n.d(t,"ErrorCode",function(){return Dn}),n.d(t,"EventType",function(){return On}),n.d(t,"WebChannel",function(){return Pn}),n.d(t,"XhrIoPool",function(){return Rn});var r,i="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},o=o||{},a=i;function s(e){return"string"==typeof e}function u(e,t){e=e.split("."),t=t||a;for(var n=0;n<e.length;n++)if(null==(t=t[e[n]]))return null;return t}function c(){}function l(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}function h(e){return"array"==l(e)}function f(e){var t=l(e);return"array"==t||"object"==t&&"number"==typeof e.length}function p(e){return"function"==l(e)}function d(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var m="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function v(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:v).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var _=Date.now||function(){return+new Date};function E(e,t){function n(){}n.prototype=t.prototype,e.L=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.mh=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function T(e){if(Error.captureStackTrace)Error.captureStackTrace(this,T);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function S(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");T.call(this,n+e[r])}function k(){0!=C&&(x[this[m]||(this[m]=++g)]=this),this.Ka=this.Ka,this.Qa=this.Qa}E(T,Error),T.prototype.name="CustomError",E(S,T),S.prototype.name="AssertionError";var C=0,x={};k.prototype.Ka=!1,k.prototype.bb=function(){if(!this.Ka&&(this.Ka=!0,this.F(),0!=C)){var e=this[m]||(this[m]=++g);if(0!=C&&this.Qa&&0<this.Qa.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete x[e]}},k.prototype.F=function(){if(this.Qa)for(;this.Qa.length;)this.Qa.shift()()};var I=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(s(e))return s(t)&&1==t.length?e.indexOf(t,0):-1;for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},N=Array.prototype.lastIndexOf?function(e,t){return Array.prototype.lastIndexOf.call(e,t,e.length-1)}:function(e,t){var n=e.length-1;if(0>n&&(n=Math.max(0,e.length+n)),s(e))return s(t)&&1==t.length?e.lastIndexOf(t,n):-1;for(;0<=n;n--)if(n in e&&e[n]===t)return n;return-1},A=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i=s(e)?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)},D=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=s(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function O(e){if(!h(e))for(var t=e.length-1;0<=t;t--)delete e[t];e.length=0}function P(e,t){var n;return(n=0<=(t=I(e,t)))&&Array.prototype.splice.call(e,t,1),n}function R(e){return Array.prototype.concat.apply([],arguments)}function L(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function M(e){return/^[\s\xa0]*$/.test(e)}var F,j=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function U(e,t){return e<t?-1:e>t?1:0}e:{var q=a.navigator;if(q){var B=q.userAgent;if(B){F=B;break e}}F=""}function V(e){return-1!=F.indexOf(e)}function W(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function z(e){var t,n=[],r=0;for(t in e)n[r++]=e[t];return n}function K(e){var t,n=[],r=0;for(t in e)n[r++]=t;return n}function H(e){var t,n={};for(t in e)n[t]=e[t];return n}var Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<Q.length;o++)n=Q[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function X(e){return X[" "](e),e}X[" "]=c;var Y,$=V("Opera"),J=V("Trident")||V("MSIE"),Z=V("Edge"),ee=Z||J,te=V("Gecko")&&!(-1!=F.toLowerCase().indexOf("webkit")&&!V("Edge"))&&!(V("Trident")||V("MSIE"))&&!V("Edge"),ne=-1!=F.toLowerCase().indexOf("webkit")&&!V("Edge");function re(){var e=a.document;return e?e.documentMode:void 0}e:{var ie="",oe=function(){var e=F;return te?/rv:([^\);]+)(\)|;)/.exec(e):Z?/Edge\/([\d\.]+)/.exec(e):J?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ne?/WebKit\/(\S+)/.exec(e):$?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(oe&&(ie=oe?oe[1]:""),J){var ae=re();if(null!=ae&&ae>parseFloat(ie)){Y=String(ae);break e}}Y=ie}var se,ue={};function ce(e){return function(e,t){var n=ue;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(){for(var t=0,n=j(String(Y)).split("."),r=j(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=U(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||U(0==a[2].length,0==s[2].length)||U(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t})}var le=a.document;se=le&&J?re()||("CSS1Compat"==le.compatMode?parseInt(Y,10):5):void 0;var he=Object.freeze||function(e){return e},fe=!J||9<=Number(se),pe=J&&!ce("9"),de=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{a.addEventListener("test",c,t),a.removeEventListener("test",c,t)}catch(e){}return e}();function me(e,t){this.type=e,this.currentTarget=this.target=t,this.defaultPrevented=this.Ea=!1,this.Be=!0}function ge(e,t){me.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.fb=null,e&&this.Kf(e,t)}me.prototype.stopPropagation=function(){this.Ea=!0},me.prototype.preventDefault=function(){this.defaultPrevented=!0,this.Be=!1},E(ge,me);var ye=he({2:"touch",3:"pen",4:"mouse"});ge.prototype.Kf=function(e,t){var n=this.type=e.type,r=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.currentTarget=t,t=e.relatedTarget){if(te){e:{try{X(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,null===r?(this.offsetX=ne||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=ne||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.key=e.key||"",this.charCode=e.charCode||("keypress"==n?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=s(e.pointerType)?e.pointerType:ye[e.pointerType]||"",this.state=e.state,this.fb=e,e.defaultPrevented&&this.preventDefault()},ge.prototype.stopPropagation=function(){ge.L.stopPropagation.call(this),this.fb.stopPropagation?this.fb.stopPropagation():this.fb.cancelBubble=!0},ge.prototype.preventDefault=function(){ge.L.preventDefault.call(this);var e=this.fb;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,pe)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(e){}};var ve="closure_listenable_"+(1e6*Math.random()|0);function be(e){return!(!e||!e[ve])}var we=0;function _e(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Ob=i,this.key=++we,this.Sa=this.Eb=!1}function Ee(e){this.src=e,this.J={},this.xb=0}function Te(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.Sa&&o.listener==t&&o.capture==!!n&&o.Ob==r)return i}return-1}_e.prototype.Vb=function(){this.Sa=!0,this.Ob=this.src=this.proxy=this.listener=null},(r=Ee.prototype).add=function(e,t,n,r,i){var o=e.toString();(e=this.J[o])||(e=this.J[o]=[],this.xb++);var a=Te(e,t,r,i);return-1<a?(t=e[a],n||(t.Eb=!1)):((t=new _e(t,this.src,o,!!r,i)).Eb=n,e.push(t)),t},r.remove=function(e,t,n,r){if(!((e=e.toString())in this.J))return!1;var i=this.J[e];return-1<(t=Te(i,t,n,r))&&(i[t].Vb(),Array.prototype.splice.call(i,t,1),0==i.length&&(delete this.J[e],this.xb--),!0)},r.ye=function(e){var t=e.type;t in this.J&&P(this.J[t],e)&&(e.Vb(),0==this.J[t].length&&(delete this.J[t],this.xb--))},r.pb=function(e){var t;for(t in e=e&&e.toString(),this.J)if(!e||t==e){for(var n=this.J[t],r=0;r<n.length;r++)n[r].Vb();delete this.J[t],this.xb--}},r.jb=function(e,t,n,r){var i=-1;return(e=this.J[e.toString()])&&(i=Te(e,t,n,r)),-1<i?e[i]:null};var Se="closure_lm_"+(1e6*Math.random()|0),ke={};function Ce(e,t,n,r,i){if(r&&r.once)return Ie(e,t,n,r,i);if(h(t)){for(var o=0;o<t.length;o++)Ce(e,t[o],n,r,i);return null}return n=Me(n),be(e)?e.nb(t,n,d(r)?!!r.capture:!!r,i):xe(e,t,n,!1,r,i)}function xe(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=d(i)?!!i.capture:!!i,s=Re(e);if(s||(e[Se]=s=new Ee(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){var e=Pe,t=fe?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)de||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ae(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ie(e,t,n,r,i){if(h(t)){for(var o=0;o<t.length;o++)Ie(e,t[o],n,r,i);return null}return n=Me(n),be(e)?e.Oc(t,n,d(r)?!!r.capture:!!r,i):xe(e,t,n,!0,r,i)}function Ne(e){if("number"!=typeof e&&e&&!e.Sa){var t=e.src;if(be(t))t.Le(e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ae(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Re(t))?(n.ye(e),0==n.xb&&(n.src=null,t[Se]=null)):e.Vb()}}}function Ae(e){return e in ke?ke[e]:ke[e]="on"+e}function De(e,t,n,r){var i=!0;if((e=Re(e))&&(t=e.J[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.Sa&&(o=Oe(o,r),i=i&&!1!==o)}return i}function Oe(e,t){var n=e.listener,r=e.Ob||e.src;return e.Eb&&Ne(e),n.call(r,t)}function Pe(e,t){if(e.Sa)return!0;if(!fe){var n=t||u("window.event");t=new ge(n,this);var r=!0;if(!(0>n.keyCode||void 0!=n.returnValue)){e:{var i=!1;if(0==n.keyCode)try{n.keyCode=-1;break e}catch(e){i=!0}(i||void 0==n.returnValue)&&(n.returnValue=!0)}for(n=[],i=t.currentTarget;i;i=i.parentNode)n.push(i);for(e=e.type,i=n.length-1;!t.Ea&&0<=i;i--){t.currentTarget=n[i];var o=De(n[i],e,!0,t);r=r&&o}for(i=0;!t.Ea&&i<n.length;i++)t.currentTarget=n[i],o=De(n[i],e,!1,t),r=r&&o}return r}return Oe(e,new ge(t,this))}function Re(e){return(e=e[Se])instanceof Ee?e:null}var Le="__closure_events_fn_"+(1e9*Math.random()>>>0);function Me(e){return p(e)?e:(e[Le]||(e[Le]=function(t){return e.handleEvent(t)}),e[Le])}function Fe(){k.call(this),this.ka=new Ee(this),this.Pe=this,this.Uc=null}E(Fe,k),Fe.prototype[ve]=!0,(r=Fe.prototype).addEventListener=function(e,t,n,r){Ce(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,o){if(h(n))for(var a=0;a<n.length;a++)e(t,n[a],r,i,o);else i=d(i)?!!i.capture:!!i,r=Me(r),be(t)?t.ed(n,r,i,o):t&&(t=Re(t))&&(n=t.jb(n,r,i,o))&&Ne(n)}(this,e,t,n,r)},r.dispatchEvent=function(e){var t,n=this.Uc;if(n)for(t=[];n;n=n.Uc)t.push(n);n=this.Pe;var r=e.type||e;if(s(e))e=new me(e,n);else if(e instanceof me)e.target=e.target||n;else{var i=e;G(e=new me(r,n),i)}if(i=!0,t)for(var o=t.length-1;!e.Ea&&0<=o;o--){var a=e.currentTarget=t[o];i=a.Lb(r,!0,e)&&i}if(e.Ea||(i=(a=e.currentTarget=n).Lb(r,!0,e)&&i,e.Ea||(i=a.Lb(r,!1,e)&&i)),t)for(o=0;!e.Ea&&o<t.length;o++)i=(a=e.currentTarget=t[o]).Lb(r,!1,e)&&i;return i},r.F=function(){Fe.L.F.call(this),this.pg(),this.Uc=null},r.nb=function(e,t,n,r){return this.ka.add(String(e),t,!1,n,r)},r.Oc=function(e,t,n,r){return this.ka.add(String(e),t,!0,n,r)},r.ed=function(e,t,n,r){this.ka.remove(String(e),t,n,r)},r.Le=function(e){this.ka.ye(e)},r.pg=function(){this.ka&&this.ka.pb(void 0)},r.Lb=function(e,t,n){if(!(e=this.ka.J[String(e)]))return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.Sa&&o.capture==t){var a=o.listener,s=o.Ob||o.src;o.Eb&&this.Le(o),r=!1!==a.call(s,n)&&r}}return r&&0!=n.Be},r.jb=function(e,t,n,r){return this.ka.jb(String(e),t,n,r)};var je=a.JSON.stringify;function Ue(e,t){this.Sf=100,this.ef=e,this.ug=t,this.Zb=0,this.Pb=null}function qe(){this.lc=this.Va=null}Ue.prototype.get=function(){if(0<this.Zb){this.Zb--;var e=this.Pb;this.Pb=e.next,e.next=null}else e=this.ef();return e},Ue.prototype.put=function(e){this.ug(e),this.Zb<this.Sf&&(this.Zb++,e.next=this.Pb,this.Pb=e)};var Be,Ve,We=new Ue(function(){return new ze},function(e){e.reset()});function ze(){this.next=this.scope=this.Gc=null}function Ke(e){a.setTimeout(function(){throw e},0)}function He(){if(a.Promise&&a.Promise.resolve){var e=a.Promise.resolve(void 0);Ve=function(){e.then(Xe)}}else Ve=function(){var e=Xe;!p(a.setImmediate)||a.Window&&a.Window.prototype&&!V("Edge")&&a.Window.prototype.setImmediate==a.setImmediate?(Be||(Be=function(){var e=a.MessageChannel;if(void 0===e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!V("Presto")&&(e=function(){var e=document.createElement("IFRAME");e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.write(""),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=b(function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()},this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),void 0!==e&&!V("Trident")&&!V("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).rd;n.rd=null,e()}},function(e){r.next={rd:e},r=r.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(e){var t=document.createElement("SCRIPT");t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){a.setTimeout(e,0)}}()),Be(e)):a.setImmediate(e)}}qe.prototype.add=function(e,t){var n=this.Af();n.set(e,t),this.lc?this.lc.next=n:this.Va=n,this.lc=n},qe.prototype.remove=function(){var e=null;return this.Va&&(e=this.Va,this.Va=this.Va.next,this.Va||(this.lc=null),e.next=null),e},qe.prototype.wg=function(e){We.put(e)},qe.prototype.Af=function(){return We.get()},ze.prototype.set=function(e,t){this.Gc=e,this.scope=t,this.next=null},ze.prototype.reset=function(){this.next=this.scope=this.Gc=null};var Qe=!1,Ge=new qe;function Xe(){for(var e;e=Ge.remove();){try{e.Gc.call(e.scope)}catch(e){Ke(e)}Ge.wg(e)}Qe=!1}function Ye(e,t){Fe.call(this),this.Na=e||1,this.wb=t||a,this.nd=b(this.Rg,this),this.ie=_()}function $e(e,t,n){if(p(e))n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:a.setTimeout(e,t||0)}function Je(e,t,n){k.call(this),this.Uf=null!=n?b(e,n):e,this.Na=t,this.Xe=b(this.fg,this),this.qc=[]}function Ze(e){k.call(this),this.i=e,this.o={}}E(Ye,Fe),(r=Ye.prototype).enabled=!1,r.B=null,r.setInterval=function(e){this.Na=e,this.B&&this.enabled?(this.stop(),this.start()):this.B&&this.stop()},r.Rg=function(){if(this.enabled){var e=_()-this.ie;0<e&&e<.8*this.Na?this.B=this.wb.setTimeout(this.nd,this.Na-e):(this.B&&(this.wb.clearTimeout(this.B),this.B=null),this.ff(),this.enabled&&(this.stop(),this.start()))}},r.ff=function(){this.dispatchEvent("tick")},r.start=function(){this.enabled=!0,this.B||(this.B=this.wb.setTimeout(this.nd,this.Na),this.ie=_())},r.stop=function(){this.enabled=!1,this.B&&(this.wb.clearTimeout(this.B),this.B=null)},r.F=function(){Ye.L.F.call(this),this.stop(),delete this.wb},E(Je,k),(r=Je.prototype).Ta=!1,r.ob=0,r.B=null,r.mf=function(e){this.qc=arguments,this.B||this.ob?this.Ta=!0:this.Cc()},r.stop=function(){this.B&&(a.clearTimeout(this.B),this.B=null,this.Ta=!1,this.qc=[])},r.pause=function(){this.ob++},r.resume=function(){this.ob--,this.ob||!this.Ta||this.B||(this.Ta=!1,this.Cc())},r.F=function(){Je.L.F.call(this),this.stop()},r.fg=function(){this.B=null,this.Ta&&!this.ob&&(this.Ta=!1,this.Cc())},r.Cc=function(){this.B=$e(this.Xe,this.Na),this.Uf.apply(null,this.qc)},E(Ze,k);var et=[];function tt(e,t,n){this.reset(e,t,n,void 0,void 0)}function nt(e){this.pe=e,this.Zd=this.uc=this.mb=this.$b=null}function rt(e,t){this.name=e,this.value=t}(r=Ze.prototype).nb=function(e,t,n,r){return this.Tf(e,t,n,r)},r.Tf=function(e,t,n,r){h(t)||(t&&(et[0]=t.toString()),t=et);for(var i=0;i<t.length;i++){var o=Ce(e,t[i],n||this.handleEvent,r||!1,this.i||this);if(!o)break;this.o[o.key]=o}return this},r.Oc=function(e,t,n,r){return this.je(e,t,n,r)},r.je=function(e,t,n,r,i){if(h(t))for(var o=0;o<t.length;o++)this.je(e,t[o],n,r,i);else{if(!(e=Ie(e,t,n||this.handleEvent,r,i||this.i||this)))return this;this.o[e.key]=e}return this},r.ed=function(e,t,n,r,i){if(h(t))for(var o=0;o<t.length;o++)this.ed(e,t[o],n,r,i);else n=n||this.handleEvent,r=d(r)?!!r.capture:!!r,i=i||this.i||this,n=Me(n),r=!!r,(t=be(e)?e.jb(t,n,r,i):e&&(e=Re(e))?e.jb(t,n,r,i):null)&&(Ne(t),delete this.o[t.key])},r.pb=function(){W(this.o,function(e,t){this.o.hasOwnProperty(t)&&Ne(e)},this),this.o={}},r.F=function(){Ze.L.F.call(this),this.pb()},r.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},tt.prototype.Md=null,tt.prototype.reset=function(e,t,n,r,i){this.mb=e,delete this.Md},tt.prototype.Bg=function(e){this.Md=e},tt.prototype.Ge=function(e){this.mb=e},rt.prototype.toString=function(){return this.name};var it=new rt("SEVERE",1e3),ot=new rt("WARNING",900),at=new rt("INFO",800),st=new rt("CONFIG",700),ut=new rt("FINE",500);(r=nt.prototype).getName=function(){return this.pe},r.getParent=function(){return this.$b},r.pf=function(){return this.uc||(this.uc={}),this.uc},r.Ge=function(e){this.mb=e},r.Qd=function(){return this.mb?this.mb:this.$b?this.$b.Qd():(function(e,t){throw new S("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}("Root logger has no level set."),null)},r.Pf=function(e){return e.value>=this.Qd().value},r.log=function(e,t,n){this.Pf(e)&&(p(t)&&(t=t()),this.gf(this.uf(e,t,n)))},r.uf=function(e,t,n){return e=new tt(e,String(t),this.pe),n&&e.Bg(n),e},r.ca=function(e,t){this.log(it,e,t)},r.T=function(e,t){this.log(ot,e,t)},r.info=function(e,t){this.log(at,e,t)},r.lf=function(e){this.log(ut,e,void 0)},r.gf=function(e){for(var t=this;t;)t.We(e),t=t.getParent()},r.We=function(e){if(this.Zd)for(var t,n=0;t=this.Zd[n];n++)t(e)},r.Fg=function(e){this.$b=e},r.Qe=function(e,t){this.pf()[e]=t};var ct={},lt=null;function ht(e){var t;if(lt||(lt=new nt(""),ct[""]=lt,lt.Ge(st)),!(t=ct[e])){t=new nt(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ht(e.substr(0,n))).Qe(r,t),t.Fg(n),ct[e]=t}return t}function ft(e,t){e&&e.info(t,void 0)}function pt(e,t){e&&e.lf(t)}function dt(){this.s=ht("goog.labs.net.webChannel.WebChannelDebug"),this.Wc=!0}(r=dt.prototype).Id=function(){this.Wc=!1},r.Tg=function(e,t,n,r,i){var o=this;this.info(function(){return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+e+"\n"+t+"\n"+o.Xf(i)})},r.Ug=function(e,t,n,r,i,o){this.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+i+" "+o})},r.Wa=function(e,t,n){var r=this;this.info(function(){return"XMLHTTP TEXT ("+e+"): "+r.ng(t)+(n?" "+n:"")})},r.Sg=function(e){this.info(function(){return"TIMEOUT: "+e})},r.debug=function(e){pt(this.s,e)},r.cb=function(e,t){var n=this.s;n&&n.ca(t||"Exception",e)},r.info=function(e){ft(this.s,e)},r.T=function(e){var t=this.s;t&&t.T(e,void 0)},r.ca=function(e){var t=this.s;t&&t.ca(e,void 0)},r.ng=function(e){if(!this.Wc)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(var n=0;n<t.length;n++)h(t[n])&&this.Wf(t[n]);return je(t)}catch(t){return this.debug("Exception parsing expected JS array - probably was not JS"),e}},r.Wf=function(e){if(!(2>e.length||(e=e[1],!h(e)||1>e.length))){var t=e[0];if("noop"!=t&&"stop"!=t&&"close"!=t)for(t=1;t<e.length;t++)e[t]=""}},r.Xf=function(e){if(!this.Wc)return e;if(!e)return null;var t="";e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].split("=");if(1<r.length){var i=r[0];r=r[1];var o=i.split("_");t=2<=o.length&&"type"==o[1]?t+(i+"=")+r+"&":t+(i+"=redacted&")}}return t};var mt=new Fe;function gt(e){me.call(this,"serverreachability",e)}function yt(e){mt.dispatchEvent(new gt(mt,e))}function vt(e,t){me.call(this,"statevent",e),this.stat=t}function bt(e){mt.dispatchEvent(new vt(mt,e))}function wt(e,t,n){me.call(this,"timingevent",e),this.size=t,this.rtt=n}function _t(e,t){if(!p(e))throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){e()},t)}E(gt,me),E(vt,me),E(wt,me);var Et={NO_ERROR:0,Vg:1,bh:2,ah:3,Yg:4,$g:5,dh:6,Ne:7,TIMEOUT:8,gh:9},Tt={Xg:"complete",kh:"success",Oe:"error",Ne:"abort",ih:"ready",jh:"readystatechange",TIMEOUT:"timeout",eh:"incrementaldata",hh:"progress",Zg:"downloadprogress",lh:"uploadprogress"};function St(){}function kt(){}St.prototype.pd=null,St.prototype.Vd=function(){return this.pd||(this.pd=this.Mf())};var Ct,xt={OPEN:"a",Wg:"b",Oe:"c",fh:"d"};function It(){me.call(this,"d")}function Nt(){me.call(this,"c")}function At(){}function Dt(e,t,n,r,i){this.b=e,this.a=t,this.ra=n,this.R=r,this.Xc=i||1,this.Fc=new Ze(this),this.Ua=Ot,e=ee?125:void 0,this.Vc=new Ye(e),this.A=null,this.S=!1,this.Da=this.pa=this.ua=this.ic=this.qb=this.hd=this.Ga=null,this.ba=[],this.h=null,this.Bb=0,this.I=this.Fa=null,this.w=-1,this.Za=!1,this.Ra=0,this.ac=null,this.lb=this.Ed=this.yc=!1}E(It,me),E(Nt,me),E(At,St),At.prototype.Dd=function(){var e=this.Wd();return e?new ActiveXObject(e):new XMLHttpRequest},At.prototype.Mf=function(){var e={};return this.Wd()&&(e[0]=!0,e[1]=!0),e},At.prototype.Wd=function(){if(!this.be&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],t=0;t<e.length;t++){var n=e[t];try{return new ActiveXObject(n),this.be=n}catch(e){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return this.be},Ct=new At;var Ot=45e3;var Pt={},Rt={};function Lt(e){if(e.H&&"function"==typeof e.H)return e.H();if(s(e))return e.split("");if(f(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}return z(e)}function Mt(e,t,n){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,n);else if(f(e)||s(e))A(e,t,n);else{if(e.W&&"function"==typeof e.W)var r=e.W();else if(e.H&&"function"==typeof e.H)r=void 0;else if(f(e)||s(e)){r=[];for(var i=e.length,o=0;o<i;o++)r.push(o)}else r=K(e);o=(i=Lt(e)).length;for(var a=0;a<o;a++)t.call(n,i[a],r&&r[a],e)}}function Ft(e,t){this.D={},this.o=[],this.j=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else e&&this.addAll(e)}function jt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=Dt.prototype).ga=function(e){this.A=e},r.setTimeout=function(e){this.Ua=e},r.He=function(e){this.Ra=e},r.Gg=function(e){this.ba=e},r.la=function(){return this.ba},r.kd=function(e,t){this.ic=1,this.ua=e.clone().Ub(),this.Da=t,this.yc=!0,this.Ce(null)},r.jd=function(e,t,n){this.ic=1,this.ua=e.clone().Ub(),this.Da=null,this.yc=t,this.Ce(n)},r.Ce=function(e){this.qb=_(),this.eb(),this.pa=this.ua.clone(),this.pa.dc("t",this.Xc),this.Bb=0,this.h=this.b.Jb(this.b.fc()?e:null),0<this.Ra&&(this.ac=new Je(b(this.Me,this,this.h),this.Ra)),this.Fc.nb(this.h,"readystatechange",this.mg),e=this.A?H(this.A):{},this.Da?(this.Fa||(this.Fa="POST"),e["Content-Type"]="application/x-www-form-urlencoded",this.h.send(this.pa,this.Fa,this.Da,e)):(this.Fa="GET",this.h.send(this.pa,this.Fa,null,e)),yt(1),this.a.Tg(this.Fa,this.pa,this.R,this.Xc,this.Da)},r.mg=function(e){e=e.target;var t=this.ac;t&&3==e.ma()?(this.a.debug("Throttling readystatechange."),t.mf()):this.Me(e)},r.Me=function(e){try{e==this.h?this.hg():this.a.T("Called back with an unexpected xmlhttp")}catch(e){if(this.a.debug("Failed call to OnXmlHttpReadyStateChanged_"),this.h&&this.h.ya()){var t=this;this.a.cb(e,function(){return"ResponseText: "+t.h.ya()})}else this.a.cb(e,"No response text")}},r.hg=function(){var e=this.h.ma(),t=this.h.Ud(),n=this.h.za();if(!(3>e||3==e&&!ee&&!this.h.ya())){this.Za||4!=e||7==t||yt(8==t||0>=n?3:2),this.Fb();var r=this.h.za();if(this.w=r,!(t=this.h.ya())){var i=this;this.a.debug(function(){return"No response text for uri "+i.pa+" status "+r})}if(this.S=200==r,this.a.Ug(this.Fa,this.pa,this.R,this.Xc,e,r),this.S){if(this.Ig()){if(!(n=this.sf()))return this.S=!1,this.I=3,bt(12),this.a.T("XMLHTTP Missing X_HTTP_INITIAL_RESPONSE ("+this.R+")"),this.Ia(),void this.Kb();this.a.Wa(this.R,n,"Initial handshake response via X-HTTP-Initial-Response"),this.lb=!0,this.Yc(n)}this.yc?(this.Fd(e,t),ee&&this.S&&3==e&&this.Ng()):(this.a.Wa(this.R,t,null),this.Yc(t)),4==e&&this.Ia(),this.S&&!this.Za&&(4==e?this.b.Tc(this):(this.S=!1,this.eb()))}else 400==r&&0<t.indexOf("Unknown SID")?(this.I=3,bt(12),this.a.T("XMLHTTP Unknown SID ("+this.R+")")):(this.I=0,bt(13),this.a.T("XMLHTTP Bad status "+r+" ("+this.R+")")),this.Ia(),this.Kb()}},r.Ig=function(){return this.Ed&&!this.lb},r.sf=function(){if(this.h){var e=this.h.kb("X-HTTP-Initial-Response");if(e&&!M(e))return e}return null},r.Ag=function(){this.Ed=!0},r.Fd=function(e,t){for(var n=!0;!this.Za&&this.Bb<t.length;){var r=this.vf(t);if(r==Rt){4==e&&(this.I=4,bt(14),n=!1),this.a.Wa(this.R,null,"[Incomplete Response]");break}if(r==Pt){this.I=4,bt(15),this.a.Wa(this.R,t,"[Invalid Chunk]"),n=!1;break}this.a.Wa(this.R,r,null),this.Yc(r)}4==e&&0==t.length&&(this.I=1,bt(16),n=!1),this.S=this.S&&n,n||(this.a.Wa(this.R,t,"[Invalid Chunked Response]"),this.Ia(),this.Kb())},r.kg=function(){if(this.h){var e=this.h.ma(),t=this.h.ya();this.Bb<t.length&&(this.Fb(),this.Fd(e,t),this.S&&4!=e&&this.eb())}},r.Ng=function(){this.Fc.nb(this.Vc,"tick",this.kg),this.Vc.start()},r.vf=function(e){var t=this.Bb,n=e.indexOf("\n",t);return-1==n?Rt:(t=Number(e.substring(t,n)),isNaN(t)?Pt:(n+=1)+t>e.length?Rt:(e=e.substr(n,t),this.Bb=n+t,e))},r.yg=function(e){this.ic=2,this.ua=e.clone().Ub(),e=!1,a.navigator&&a.navigator.sendBeacon&&(e=a.navigator.sendBeacon(this.ua.toString(),"")),!e&&a.Image&&((new Image).src=this.ua,e=!0),e||(this.h=this.b.Jb(null),this.h.send(this.ua)),this.qb=_(),this.eb()},r.cancel=function(){this.Za=!0,this.Ia()},r.tg=function(e){e&&this.setTimeout(e),this.Ga&&(this.Fb(),this.eb())},r.eb=function(){this.hd=_()+this.Ua,this.Ke(this.Ua)},r.Ke=function(e){if(null!=this.Ga)throw Error("WatchDog timer not null");this.Ga=_t(b(this.gg,this),e)},r.Fb=function(){this.Ga&&(a.clearTimeout(this.Ga),this.Ga=null)},r.gg=function(){this.Ga=null;var e=_();0<=e-this.hd?this.Df():(this.a.T("WatchDog timer called too early"),this.Ke(this.hd-e))},r.Df=function(){this.S&&this.a.ca("Received watchdog timeout even though request loaded successfully"),this.a.Sg(this.pa),2!=this.ic&&(yt(3),bt(17)),this.Ia(),this.I=2,this.Kb()},r.Kb=function(){this.b.de()||this.Za||this.b.Tc(this)},r.Ia=function(){this.Fb();var e=this.ac;e&&"function"==typeof e.bb&&e.bb(),this.ac=null,this.Vc.stop(),this.Fc.pb(),this.h&&(e=this.h,this.h=null,e.abort(),e.bb())},r.Hc=function(){return this.I},r.Yc=function(e){try{this.b.ue(this,e),yt(4)}catch(e){this.a.cb(e,"Error in httprequest callback")}},(r=Ft.prototype).C=function(){return this.j},r.H=function(){this.wc();for(var e=[],t=0;t<this.o.length;t++)e.push(this.D[this.o[t]]);return e},r.W=function(){return this.wc(),this.o.concat()},r.va=function(e){return jt(this.D,e)},r.X=function(){return 0==this.j},r.clear=function(){this.D={},this.j=this.o.length=0},r.remove=function(e){return!!jt(this.D,e)&&(delete this.D[e],this.j--,this.o.length>2*this.j&&this.wc(),!0)},r.wc=function(){if(this.j!=this.o.length){for(var e=0,t=0;e<this.o.length;){var n=this.o[e];jt(this.D,n)&&(this.o[t++]=n),e++}this.o.length=t}if(this.j!=this.o.length){var r={};for(t=e=0;e<this.o.length;)jt(r,n=this.o[e])||(this.o[t++]=n,r[n]=1),e++;this.o.length=t}},r.get=function(e,t){return jt(this.D,e)?this.D[e]:t},r.set=function(e,t){jt(this.D,e)||(this.j++,this.o.push(e)),this.D[e]=t},r.addAll=function(e){if(e instanceof Ft)for(var t=e.W(),n=0;n<t.length;n++)this.set(t[n],e.get(t[n]));else for(t in e)this.set(t,e[t])},r.forEach=function(e,t){for(var n=this.W(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}},r.clone=function(){return new Ft(this)};var Ut=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function qt(e,t){var n;this.xa=this.zb=this.qa="",this.Ca=null,this.ib=this.K="",this.O=this.Qf=!1,e instanceof qt?(this.O=void 0!==t?t:e.O,this.tb(e.qa),this.cd(e.zb),this.rb(e.xa),this.sb(e.Ca),this.ec(e.K),this.bd(e.P.clone()),this.$c(e.ib)):e&&(n=String(e).match(Ut))?(this.O=!!t,this.tb(n[1]||"",!0),this.cd(n[2]||"",!0),this.rb(n[3]||"",!0),this.sb(n[4]),this.ec(n[5]||"",!0),this.bd(n[6]||"",!0),this.$c(n[7]||"",!0)):(this.O=!!t,this.P=new Xt(null,this.O))}function Bt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Vt(e,t,n){return s(e)?(e=encodeURI(e).replace(t,Wt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Wt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}(r=qt.prototype).toString=function(){var e=[],t=this.qa;t&&e.push(Vt(t,zt,!0),":");var n=this.xa;return(n||"file"==t)&&(e.push("//"),(t=this.zb)&&e.push(Vt(t,zt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.Ca)&&e.push(":",String(n))),(n=this.K)&&(this.Ic()&&"/"!=n.charAt(0)&&e.push("/"),e.push(Vt(n,"/"==n.charAt(0)?Ht:Kt,!0))),(n=this.Rd())&&e.push("?",n),(n=this.ib)&&e.push("#",Vt(n,Gt)),e.join("")},r.resolve=function(e){var t=this.clone(),n=e.Hf();n?t.tb(e.qa):n=e.If(),n?t.cd(e.zb):n=e.Ic(),n?t.rb(e.xa):n=e.Ff();var r=e.K;if(n)t.sb(e.Ca);else if(n=e.ae()){if("/"!=r.charAt(0))if(this.Ic()&&!this.ae())r="/"+r;else{var i=t.K.lastIndexOf("/");-1!=i&&(r=t.K.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.ec(r):n=e.Gf(),n?t.bd(e.P.clone()):n=e.Ef(),n&&t.$c(e.ib),t},r.clone=function(){return new qt(this)},r.tb=function(e,t){this.U(),(this.qa=t?Bt(e,!0):e)&&(this.qa=this.qa.replace(/:$/,""))},r.Hf=function(){return!!this.qa},r.cd=function(e,t){this.U(),this.zb=t?Bt(e):e},r.If=function(){return!!this.zb},r.rb=function(e,t){this.U(),this.xa=t?Bt(e,!0):e},r.Ic=function(){return!!this.xa},r.sb=function(e){if(this.U(),e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);this.Ca=e}else this.Ca=null},r.Ff=function(){return null!=this.Ca},r.ec=function(e,t){this.U(),this.K=t?Bt(e,!0):e},r.ae=function(){return!!this.K},r.Gf=function(){return""!==this.P.toString()},r.bd=function(e,t){this.U(),e instanceof Xt?(this.P=e,this.P.ad(this.O)):(t||(e=Vt(e,Qt)),this.P=new Xt(e,this.O))},r.Rd=function(){return this.P.toString()},r.getQuery=function(){return this.Rd()},r.l=function(e,t){this.U(),this.P.set(e,t)},r.dc=function(e,t){this.U(),h(t)||(t=[String(t)]),this.P.Ie(e,t)},r.$c=function(e,t){this.U(),this.ib=t?Bt(e):e},r.Ef=function(){return!!this.ib},r.Ub=function(){return this.U(),this.l("zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_()).toString(36)),this},r.removeParameter=function(e){return this.U(),this.P.remove(e),this},r.U=function(){if(this.Qf)throw Error("Tried to modify a read-only Uri")},r.ad=function(e){this.O=e,this.P&&this.P.ad(e)};var zt=/[#\/\?@]/g,Kt=/[#\?:]/g,Ht=/[#\?]/g,Qt=/[#\?@]/g,Gt=/#/g;function Xt(e,t){this.j=this.m=null,this.ja=e||null,this.O=!!t}function Yt(e,t){this.b=e,this.a=t,this.f=this.A=null,this.bc=!1,this.K=null,this.w=-1,this.Ad=this.na=null}function $t(e){this.D=new Ft,e&&this.addAll(e)}function Jt(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+(e[m]||(e[m]=++g)):t.substr(0,1)+e}function Zt(e){this.me=e||en,a.PerformanceNavigationTiming?e=0<(e=a.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(a.vc&&a.vc.ke&&a.vc.ke()&&a.vc.ke().nh),this.Xb=e?this.me:1,this.v=null,1<this.Xb&&(this.v=new $t),this.f=null,this.ba=[]}(r=Xt.prototype).$=function(){if(!this.m&&(this.m=new Ft,this.j=0,this.ja)){var e=this;!function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(this.ja,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})}},r.C=function(){return this.$(),this.j},r.add=function(e,t){this.$(),this.Oa(),e=this.Ma(e);var n=this.m.get(e);return n||this.m.set(e,n=[]),n.push(t),this.j+=1,this},r.remove=function(e){return this.$(),e=this.Ma(e),!!this.m.va(e)&&(this.Oa(),this.j-=this.m.get(e).length,this.m.remove(e))},r.clear=function(){this.Oa(),this.m=null,this.j=0},r.X=function(){return this.$(),0==this.j},r.va=function(e){return this.$(),e=this.Ma(e),this.m.va(e)},r.forEach=function(e,t){this.$(),this.m.forEach(function(n,r){A(n,function(n){e.call(t,n,r,this)},this)},this)},r.W=function(){this.$();for(var e=this.m.H(),t=this.m.W(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},r.H=function(e){this.$();var t=[];if(s(e))this.va(e)&&(t=R(t,this.m.get(this.Ma(e))));else{e=this.m.H();for(var n=0;n<e.length;n++)t=R(t,e[n])}return t},r.set=function(e,t){return this.$(),this.Oa(),e=this.Ma(e),this.va(e)&&(this.j-=this.m.get(e).length),this.m.set(e,[t]),this.j+=1,this},r.get=function(e,t){return e&&0<(e=this.H(e)).length?String(e[0]):t},r.Ie=function(e,t){this.remove(e),0<t.length&&(this.Oa(),this.m.set(this.Ma(e),L(t)),this.j+=t.length)},r.toString=function(){if(this.ja)return this.ja;if(!this.m)return"";for(var e=[],t=this.m.W(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.H(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.ja=e.join("&")},r.Oa=function(){this.ja=null},r.clone=function(){var e=new Xt;return e.ja=this.ja,this.m&&(e.m=this.m.clone(),e.j=this.j),e},r.Ma=function(e){return e=String(e),this.O&&(e=e.toLowerCase()),e},r.ad=function(e){e&&!this.O&&(this.$(),this.Oa(),this.m.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(this.remove(t),this.Ie(n,e))},this)),this.O=e},r.extend=function(e){for(var t=0;t<arguments.length;t++)Mt(arguments[t],function(e,t){this.add(t,e)},this)},E(function(){},function(){}),(r=Yt.prototype).g=null,r.ga=function(e){this.A=e},r.connect=function(e){this.K=e,e=this.b.Sd(this.K),bt(3);var t=this.b.Ib.$d;null!=t?(this.na=this.b.$a(t[0]),this.g=1,this.xd()):(e.dc("MODE","init"),!this.b.ta&&this.b.aa&&e.dc("X-HTTP-Session-Id",this.b.aa),this.f=new Dt(this,this.a,void 0,void 0,void 0),this.f.ga(this.A),this.f.jd(e,!1,null),this.g=0)},r.xd=function(){this.a.debug("TestConnection: starting stage 2");var e=this.b.Ib.od;if(null!=e)this.a.debug(function(){return"Buffered"}),bt(4),e?(bt(10),this.b.ub(this,!1)):(bt(11),this.b.ub(this,!0));else{this.f=new Dt(this,this.a,void 0,void 0,void 0),this.f.ga(this.A);var t=this.b.Pd(this.na,this.K);bt(4),t.dc("TYPE","xmlhttp");var n=this.b.aa,r=this.b.Kc;n&&r&&t.l(n,r),this.f.jd(t,!1,this.na)}},r.Jb=function(e){return this.b.Jb(e)},r.abort=function(){this.f&&(this.f.cancel(),this.f=null),this.w=-1},r.de=function(){return!1},r.ue=function(e,t){if(this.w=e.w,0==this.g)if(this.a.debug("TestConnection: Got data for stage 1"),this.pc(e),t){try{var n=this.b.kc.zc(t)}catch(e){return this.a.cb(e),void this.b.dd(this)}this.na=this.b.$a(n[0])}else this.a.debug("TestConnection: Null responseText"),this.b.dd(this);else 1==this.g&&(this.bc?bt(6):"11111"==t?(bt(5),this.bc=!0,this.Ze()&&(this.w=200,this.f.cancel(),this.a.debug("Test connection succeeded; using streaming connection"),bt(11),this.b.ub(this,!0))):(bt(7),this.bc=!1))},r.Tc=function(){this.w=this.f.w,this.f.S?0==this.g?(this.g=1,this.a.debug("TestConnection: request complete for initial check"),this.xd()):1==this.g&&(this.a.debug("TestConnection: request complete for stage 2"),this.bc?(this.a.debug("Test connection succeeded; using streaming connection"),bt(11),this.b.ub(this,!0)):(this.a.debug("Test connection failed; not using streaming"),bt(10),this.b.ub(this,!1))):(this.a.debug("TestConnection: request failed, in state "+this.g),0==this.g?bt(8):1==this.g&&bt(9),this.b.dd(this))},r.pc=function(e){if(!this.b.ta&&(e=e.h)){var t=e.kb("X-Client-Wire-Protocol");this.Ad=t||null,this.b.aa&&((e=e.kb("X-HTTP-Session-Id"))?this.b.Fe(e):this.a.T("Missing X_HTTP_SESSION_ID in the handshake response"))}},r.fc=function(){return this.b.fc()},r.Ba=function(){return this.b.Ba()},r.Ze=function(){return!J||10<=Number(se)},(r=$t.prototype).C=function(){return this.D.C()},r.add=function(e){this.D.set(Jt(e),e)},r.addAll=function(e){for(var t=(e=Lt(e)).length,n=0;n<t;n++)this.add(e[n])},r.pb=function(e){for(var t=(e=Lt(e)).length,n=0;n<t;n++)this.remove(e[n])},r.remove=function(e){return this.D.remove(Jt(e))},r.clear=function(){this.D.clear()},r.X=function(){return this.D.X()},r.contains=function(e){return this.D.va(Jt(e))},r.H=function(){return this.D.H()},r.clone=function(){return new $t(this)};var en=10;function tn(){this.xg=this.rg=void 0}function nn(){this.jg=new tn}function rn(e,t,n,r,i){try{e.debug(n),t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(t){e.cb(t)}}(r=Zt.prototype).ld=function(e){this.v||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(this.Xb=this.me,this.v=new $t,this.f&&(this.oc(this.f),this.f=null))},r.ee=function(){return!!this.f||!!this.v&&this.v.C()>=this.Xb},r.xf=function(){return this.f?1:this.v?this.v.C():0},r.Jc=function(e){return this.f?this.f==e:!!this.v&&this.v.contains(e)},r.oc=function(e){this.v?this.v.add(e):this.f=e},r.ze=function(e){this.f&&this.f==e?this.f=null:this.v&&this.v.contains(e)&&this.v.remove(e)},r.cancel=function(){this.ba=this.la(),this.f?(this.f.cancel(),this.f=null):this.v&&!this.v.X()&&(A(this.v.H(),function(e){e.cancel()}),this.v.clear())},r.la=function(){if(null!=this.f)return this.ba.concat(this.f.la());if(null!=this.v&&!this.v.X()){var e=this.ba;return A(this.v.H(),function(t){e=e.concat(t.la())}),e}return L(this.ba)},r.Re=function(e){this.ba=this.ba.concat(e)},r.$e=function(){this.ba.length=0},tn.prototype.stringify=function(e){return a.JSON.stringify(e,this.rg)},tn.prototype.parse=function(e){return a.JSON.parse(e,this.xg)},nn.prototype.hf=function(e,t,n){var r=n||"";try{Mt(e,function(e,n){var i=e;d(e)&&(i=je(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}},nn.prototype.jf=function(e,t,n){for(var r=-1;;){var i=["count="+t];-1==r?0<t?(r=e[0].Pc,i.push("ofs="+r)):r=0:i.push("ofs="+r);for(var o=!0,a=0;a<t;a++){var s=e[a].Pc,u=e[a].map;if(0>(s-=r))r=Math.max(0,e[a].Pc-100),o=!1;else try{this.hf(u,i,"req"+s+"_")}catch(e){n&&n(u)}}if(o)return i.join("&")}},nn.prototype.zc=function(e){return this.jg.parse(e)};var on=a.JSON.parse;function an(e){Fe.call(this),this.headers=new Ft,this.Xa=e||null,this.ha=!1,this.mc=this.c=null,this.ge=this.Tb="",this.Pa=0,this.I="",this.Aa=this.Lc=this.Qb=this.Ec=!1,this.vb=0,this.hc=null,this.Ae=sn,this.jc=this.lg=this.Ab=!1}E(an,Fe);var sn="";an.prototype.s=ht("goog.net.XhrIo");var un=/^https?$/i,cn=["POST","PUT"];function ln(e){return"content-type"==e.toLowerCase()}function hn(e,t){return{type:t,lengthComputable:e.lengthComputable,loaded:e.loaded,total:e.total}}function fn(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}if(r)return e;if(n=function(e){var t="";return W(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),s(e)){if(t=encodeURIComponent(String(t)),t+=n=null!=n?"="+encodeURIComponent(String(n)):""){if(0>(n=e.indexOf("#"))&&(n=e.length),0>(r=e.indexOf("?"))||r>n){r=n;var i=""}else i=e.substring(r+1,n);n=(e=[e.substr(0,r),i,e.substr(n)])[1],e[1]=t?n?n+"&"+t:t:n,e=e[0]+(e[1]?"?"+e[1]:"")+e[2]}return e}return e.l(t,n),e}function pn(e){this.Bd=22,this.De=0,this.M=[],this.a=new dt,this.Ib=new function(){this.od=this.$d=null},this.na=this.md=this.hb=this.K=this.u=this.Kc=this.aa=this.gb=this.N=this.Rb=this.A=null,this.Te=!0,this.ag=this.Yb=0,this.kf=!!u("internalChannelParams.failFast",e),this.fd=this.Ja=this.wa=this.ia=this.ea=this.i=null,this.Se=!0,this.w=this.he=this.Sb=-1,this.rc=this.Ha=this.La=0,this.Ve=u("internalChannelParams.baseRetryDelayMs",e)||5e3,this.vg=u("internalChannelParams.retryDelaySeedMs",e)||1e4,this.nf=u("internalChannelParams.forwardChannelMaxRetries",e)||2,this.Od=u("internalChannelParams.forwardChannelRequestTimeoutMs",e)||2e4,this.Xa=e&&e.oh||void 0,this.Db=void 0,this.Ra=0,this.gc=e&&e.supportsCrossDomainXhr||!1,this.ra="",this.G=new Zt(e&&e.concurrentRequestLimit),this.kc=new nn,this.ta=!e||void 0===e.backgroundChannelTest||e.backgroundChannelTest,(this.Nd=e&&e.fastHandshake||!1)&&!this.ta&&(this.a.T("Force backgroundChannelTest when fastHandshake is enabled."),this.ta=!0),e&&e.Id&&this.a.Id()}function dn(){}function mn(){if(J&&!(10<=Number(se)))throw Error("Environmental error: no available transport.")}function gn(e,t){Fe.call(this),this.b=new pn(t),this.yb=e,this.Qg=t&&t.testUrl?t.testUrl:function(e){for(var t=arguments[0],n=1;n<arguments.length;n++){var r,i=arguments[n];0==i.lastIndexOf("/",0)?t=i:((r=""==t)||(r=0<=(r=t.length-1)&&t.indexOf("/",r)==r),t=r?t+i:t+"/"+i)}return t}(this.yb,"test"),this.s=ht("goog.labs.net.webChannel.WebChannelBaseTransport"),this.Rc=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.b.ga(e),e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.zd&&(e?e["X-WebChannel-Client-Profile"]=t.zd:e={"X-WebChannel-Client-Profile":t.zd}),this.b.Eg(e),(e=t&&t.httpHeadersOverwriteParam)&&!M(e)&&this.b.Cg(e),this.Og=t&&t.supportsCrossDomainXhr||!1,this.zg=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!M(t)&&(this.b.Dg(t),null!==(e=this.Rc)&&t in e&&(t in(e=this.Rc)&&delete e[t],(e=this.s)&&e.T("Ignore httpSessionIdParam also specified with messageUrlParams: "+t,void 0))),this.vd=new bn(this)}function yn(e){It.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.ne=e)&&(e=this.ne,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(e){Nt.call(this),this.status=1,this.errorCode=e}function bn(e){this.b=e}(r=an.prototype).Je=function(e){this.Ab=e},r.send=function(e,t,n,r){if(this.c)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Tb+"; newUri="+e);t=t?t.toUpperCase():"GET",this.Tb=e,this.I="",this.Pa=0,this.ge=t,this.Ec=!1,this.ha=!0,this.c=this.df(),this.mc=this.Xa?this.Xa.Vd():Ct.Vd(),this.c.onreadystatechange=b(this.te,this),this.lg&&"onprogress"in this.c&&(this.c.onprogress=b(function(e){this.re(e,!0)},this),this.c.upload&&(this.c.upload.onprogress=b(this.re,this)));try{pt(this.s,this.da("Opening Xhr")),this.Lc=!0,this.c.open(t,String(e),!0),this.Lc=!1}catch(e){return pt(this.s,this.da("Error opening Xhr: "+e.message)),void this.Ld(e)}e=n||"";var i=this.headers.clone();r&&Mt(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=ln,n=e.length,r=s(e)?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:s(e)?e.charAt(t):e[t]}(i.W()),n=a.FormData&&e instanceof a.FormData,!(0<=I(cn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.c.setRequestHeader(t,e)},this),this.Ae&&(this.c.responseType=this.Ae),"withCredentials"in this.c&&this.c.withCredentials!==this.Ab&&(this.c.withCredentials=this.Ab);try{this.yd(),0<this.vb&&(this.jc=function(e){return J&&ce(9)&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.c),pt(this.s,this.da("Will abort after "+this.vb+"ms if incomplete, xhr2 "+this.jc)),this.jc?(this.c.timeout=this.vb,this.c.ontimeout=b(this.Ua,this)):this.hc=$e(this.Ua,this.vb,this)),pt(this.s,this.da("Sending request")),this.Qb=!0,this.c.send(e),this.Qb=!1}catch(e){pt(this.s,this.da("Send error: "+e.message)),this.Ld(e)}},r.df=function(){return this.Xa?this.Xa.Dd():Ct.Dd()},r.Ua=function(){void 0!==o&&this.c&&(this.I="Timed out after "+this.vb+"ms, aborting",this.Pa=8,pt(this.s,this.da(this.I)),this.dispatchEvent("timeout"),this.abort(8))},r.Ld=function(e){this.ha=!1,this.c&&(this.Aa=!0,this.c.abort(),this.Aa=!1),this.I=e,this.Pa=5,this.Jd(),this.Gb()},r.Jd=function(){this.Ec||(this.Ec=!0,this.dispatchEvent("complete"),this.dispatchEvent("error"))},r.abort=function(e){this.c&&this.ha&&(pt(this.s,this.da("Aborting")),this.ha=!1,this.Aa=!0,this.c.abort(),this.Aa=!1,this.Pa=e||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),this.Gb())},r.F=function(){this.c&&(this.ha&&(this.ha=!1,this.Aa=!0,this.c.abort(),this.Aa=!1),this.Gb(!0)),an.L.F.call(this)},r.te=function(){this.Ka||(this.Lc||this.Qb||this.Aa?this.se():this.eg())},r.eg=function(){this.se()},r.se=function(){if(this.ha&&void 0!==o)if(this.mc[1]&&4==this.ma()&&2==this.za())pt(this.s,this.da("Local request error detected and ignored"));else if(this.Qb&&4==this.ma())$e(this.te,0,this);else if(this.dispatchEvent("readystatechange"),this.Mc()){pt(this.s,this.da("Request complete")),this.ha=!1;try{this.Rf()?(this.dispatchEvent("complete"),this.dispatchEvent("success")):(this.Pa=6,this.I=this.Yd()+" ["+this.za()+"]",this.Jd())}finally{this.Gb()}}},r.re=function(e,t){this.dispatchEvent(hn(e,"progress")),this.dispatchEvent(hn(e,t?"downloadprogress":"uploadprogress"))},r.Gb=function(e){if(this.c){this.yd();var t=this.c,n=this.mc[0]?c:null;this.mc=this.c=null,e||this.dispatchEvent("ready");try{t.onreadystatechange=n}catch(t){(e=this.s)&&e.ca("Problem encountered resetting onreadystatechange: "+t.message,void 0)}}},r.yd=function(){this.c&&this.jc&&(this.c.ontimeout=null),this.hc&&(a.clearTimeout(this.hc),this.hc=null)},r.Ba=function(){return!!this.c},r.Mc=function(){return 4==this.ma()},r.Rf=function(){var e=this.za();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}return t||0===e&&!this.Of()},r.Of=function(){var e=String(this.Tb).match(Ut)[1]||null;return!e&&a.self&&a.self.location&&(e=(e=a.self.location.protocol).substr(0,e.length-1)),un.test(e?e.toLowerCase():"")},r.ma=function(){return this.c?this.c.readyState:0},r.za=function(){try{return 2<this.ma()?this.c.status:-1}catch(e){return-1}},r.Yd=function(){try{return 2<this.ma()?this.c.statusText:""}catch(e){return pt(this.s,"Can not get status: "+e.message),""}},r.ya=function(){try{return this.c?this.c.responseText:""}catch(e){return pt(this.s,"Can not get responseText: "+e.message),""}},r.yf=function(e){if(this.c){var t=this.c.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),on(t)}},r.getResponseHeader=function(e){if(this.c&&this.Mc())return null===(e=this.c.getResponseHeader(e))?void 0:e},r.getAllResponseHeaders=function(){return this.c&&this.Mc()&&this.c.getAllResponseHeaders()||""},r.kb=function(e){return this.c?this.c.getResponseHeader(e):null},r.Ud=function(){return this.Pa},r.Hc=function(){return s(this.I)?this.I:String(this.I)},r.da=function(e){return e+" ["+this.ge+" "+this.Tb+" "+this.za()+"]"},(r=pn.prototype).tc=8,r.g=1,r.connect=function(e,t,n,r,i){this.a.debug("connect()"),bt(0),this.K=t,this.gb=n||{},r&&void 0!==i&&(this.gb.OSID=r,this.gb.OAID=i),this.ta&&(this.a.debug("connect() bypassed channel-test."),this.Ib.$d=[],this.Ib.od=!1),this.bf(e)},r.disconnect=function(){if(this.a.debug("disconnect()"),this.qd(),3==this.g){var e=this.Yb++,t=this.hb.clone();t.l("SID",this.ra),t.l("RID",e),t.l("TYPE","terminate"),this.Ya(t),new Dt(this,this.a,this.ra,e,void 0).yg(t)}this.qe()},r.bf=function(e){this.a.debug("connectTest_()"),this.Ja=new Yt(this,this.a),null===this.N&&this.Ja.ga(this.A);var t=e;this.N&&this.A&&(t=fn(e,this.N,this.A)),this.Ja.connect(t)},r.af=function(){this.a.debug("connectChannel_()"),this.hb=this.Sd(this.K),this.Dc()},r.qd=function(){this.Ja&&(this.Ja.abort(),this.Ja=null),this.u&&(this.u.cancel(),this.u=null),this.ia&&(a.clearTimeout(this.ia),this.ia=null),this.Hb(),this.G.cancel(),this.ea&&(a.clearTimeout(this.ea),this.ea=null)},r.ga=function(e){this.A=e},r.Eg=function(e){this.Rb=e},r.Cg=function(e){this.N=e},r.Dg=function(e){this.aa=e},r.Fe=function(e){this.Kc=e},r.He=function(e){this.Ra=e},r.Hg=function(){this.gc=!0},r.Ee=function(e){this.i=e},r.Nf=function(){return!this.fd},r.Zc=function(e){1e3==this.M.length&&this.a.ca(function(){return"Already have 1000 queued maps upon queueing "+je(e)}),this.M.push(new function(e,t){this.Pc=e,this.map=t,this.context=null}(this.ag++,e)),3==this.g&&this.Dc()},r.qf=function(){return this.kf?0:this.nf},r.de=function(){return 0==this.g},r.getState=function(){return this.g},r.Dc=function(){this.G.ee()||this.ea||(this.ea=_t(b(this.we,this),0),this.La=0)},r.Yf=function(e){return this.G.xf()>=this.G.Xb-(this.ea?1:0)?(this.a.ca("Unexpected retry request is scheduled."),!1):this.ea?(this.a.debug("Use the retry request that is already scheduled."),this.M=e.la().concat(this.M),!0):!(1==this.g||2==this.g||this.La>=this.qf())&&(this.a.debug("Going to retry POST"),this.ea=_t(b(this.we,this,e),this.Xd(this.La)),this.La++,!0)},r.we=function(e){this.ea=null,this.Mg(e)},r.Mg=function(e){this.a.debug("startForwardChannel_"),1==this.g?e?this.a.ca("Not supposed to retry the open"):(this.ig(),this.g=2):3==this.g&&(e?this.le(e):0==this.M.length?this.a.debug("startForwardChannel_ returned: nothing to send"):this.G.ee()?this.a.ca("startForwardChannel_ returned: connection already in progress"):(this.le(),this.a.debug("startForwardChannel_ finished, sent request")))},r.ig=function(){this.a.debug("open_()"),this.Yb=Math.floor(1e5*Math.random());var e=this.Yb++,t=new Dt(this,this.a,"",e,void 0),n=this.A;this.Rb&&(n?G(n=H(n),this.Rb):n=this.Rb),null===this.N&&t.ga(n);var r=this.Hd(t),i=this.hb.clone();i.l("RID",e),0<this.Bd&&i.l("CVER",this.Bd),this.ta&&this.aa&&i.l("X-HTTP-Session-Id",this.aa),this.Ya(i),this.N&&n&&fn(i,this.N,n),this.G.oc(t),this.Nd?(i.l("$req",r),i.l("SID","null"),t.Ag(),t.kd(i,null)):t.kd(i,r)},r.le=function(e){var t=e?e.R:this.Yb++,n=this.hb.clone();n.l("SID",this.ra),n.l("RID",t),n.l("AID",this.Sb),this.Ya(n),this.N&&this.A&&fn(n,this.N,this.A),t=new Dt(this,this.a,this.ra,t,this.La+1),null===this.N&&t.ga(this.A),e&&this.sg(e),e=this.Hd(t),t.setTimeout(Math.round(.5*this.Od)+Math.round(.5*this.Od*Math.random())),this.G.oc(t),t.kd(n,e)},r.Ya=function(e){this.i&&Mt({},function(t,n){e.l(n,t)})},r.Hd=function(e){var t=Math.min(this.M.length,1e3),n=this.i?b(this.i.Ue,this.i,this):null;return n=this.kc.jf(this.M,t,n),e.Gg(this.M.splice(0,t)),n},r.sg=function(e){this.M=e.la().concat(this.M)},r.Kd=function(){if(!this.u&&!this.ia){this.rc=1;var e=this.ve;Ve||He(),Qe||(Ve(),Qe=!0),Ge.add(e,this),this.Ha=0}},r.Qc=function(){return this.u||this.ia?(this.a.ca("Request already in progress"),!1):!(3<=this.Ha)&&(this.a.debug("Going to retry GET"),this.rc++,this.ia=_t(b(this.ve,this),this.Xd(this.Ha)),this.Ha++,!0)},r.ve=function(){this.ia=null,this.Kg()},r.Kg=function(){this.a.debug("Creating new HttpRequest"),this.u=new Dt(this,this.a,this.ra,"rpc",this.rc),null===this.N&&this.u.ga(this.A),this.u.He(this.Ra);var e=this.md.clone();e.l("RID","rpc"),e.l("SID",this.ra),e.l("CI",this.fd?"0":"1"),e.l("AID",this.Sb),this.Ya(e),e.l("TYPE","xmlhttp"),this.N&&this.A&&fn(e,this.N,this.A),this.Db&&this.u.setTimeout(this.Db),this.u.jd(e,!0,this.na),this.a.debug("New Request created")},r.ub=function(e,t){this.a.debug("Test Connection Finished");var n=e.Ad;n&&this.G.ld(n),this.fd=this.Se&&t,this.w=e.w,this.af()},r.dd=function(e){this.a.debug("Test Connection Failed"),this.w=e.w,this.sa(2)},r.ue=function(e,t){if(0!=this.g&&(this.u==e||this.G.Jc(e)))if(this.w=e.w,!e.lb&&this.G.Jc(e)&&3==this.g){try{var n=this.kc.zc(t)}catch(e){n=null}h(n)&&3==n.length?this.Cf(n,e):(this.a.debug("Bad POST response data returned"),this.sa(11))}else(e.lb||this.u==e)&&this.Hb(),M(t)||(n=this.kc.zc(t),this.dg(n,e))},r.Cf=function(e,t){0==e[0]?this.Bf(t):(this.he=e[1],0<(t=this.he-this.Sb)&&(e=e[2],this.a.debug(e+" bytes (in "+t+" arrays) are outstanding on the BackChannel"),this.Jg(e)&&!this.wa&&(this.wa=_t(b(this.bg,this),6e3))))},r.Bf=function(e){if(this.a.debug("Server claims our backchannel is missing."),this.ia)this.a.debug("But we are currently starting the request.");else{if(this.u){if(!(this.u.qb+3e3<e.qb))return;this.Hb(),this.u.cancel(),this.u=null}else this.a.T("We do not have a BackChannel established");this.Qc(),bt(18)}},r.Jg=function(e){return 37500>e&&!this.Nf()&&0==this.Ha},r.$a=function(e){return this.Te?this.i?this.i.$a(e):e:null},r.bg=function(){null!=this.wa&&(this.wa=null,this.u.cancel(),this.u=null,this.Qc(),bt(19))},r.Hb=function(){null!=this.wa&&(a.clearTimeout(this.wa),this.wa=null)},r.Tc=function(e){this.a.debug("Request complete");var t=null;if(this.u==e){this.Hb(),this.u=null;var n=2}else{if(!this.G.Jc(e))return;t=e.la(),this.G.ze(e),n=1}if(this.w=e.w,0!=this.g)if(e.S)1==n?(function(e,t,n){mt.dispatchEvent(new wt(mt,e,t,n))}(e.Da?e.Da.length:0,_()-e.qb,this.La),this.Dc()):this.Kd();else{var r=e.Hc();if(3==r||0==r&&0<this.w)this.a.debug("Not retrying due to error type");else{var i=this;if(this.a.debug(function(){return"Maybe retrying, last error: "+function(e,t){switch(e){case 0:return"Non-200 return code ("+t+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}(r,i.w)}),1==n&&this.Yf(e)||2==n&&this.Qc())return;this.a.debug("Exceeded max number of retries")}switch(t&&0<t.length&&this.G.Re(t),this.a.debug("Error: HTTP request failed"),r){case 1:this.sa(5);break;case 4:this.sa(10);break;case 3:this.sa(6);break;default:this.sa(2)}}},r.Xd=function(e){var t=this.Ve+Math.floor(Math.random()*this.vg);return this.Ba()||(this.a.debug("Inactive channel"),t*=2),t*e},r.pc=function(e){if(this.ta&&(e=e.h)){var t=e.kb("X-Client-Wire-Protocol");t&&this.G.ld(t),this.aa&&((e=e.kb("X-HTTP-Session-Id"))?(this.Fe(e),this.hb.l(this.aa,e)):this.a.T("Missing X_HTTP_SESSION_ID in the handshake response"))}},r.dg=function(e,t){for(var n=this.i&&this.i.sc?[]:null,r=0;r<e.length;r++){var i=e[r];if(this.Sb=i[0],i=i[1],2==this.g)if("c"==i[0]){this.ra=i[1],this.na=this.$a(i[2]);var o=i[3];null!=o&&(this.tc=o,this.a.info("VER="+this.tc)),null!=(o=i[4])&&(this.De=o,this.a.info("SVER="+this.De)),null!=(i=i[5])&&"number"==typeof i&&0<i&&(this.Db=i*=1.5,this.a.info("backChannelRequestTimeoutMs_="+i)),this.pc(t),this.g=3,this.i&&this.i.wd(),this.Lg(t)}else"stop"!=i[0]&&"close"!=i[0]||this.sa(7);else 3==this.g&&("stop"==i[0]||"close"==i[0]?(n&&0!=n.length&&(this.i.sc(this,n),n.length=0),"stop"==i[0]?this.sa(7):this.disconnect()):"noop"!=i[0]&&(n?n.push(i):this.i&&this.i.ud(i)),this.Ha=0)}n&&0!=n.length&&this.i.sc(this,n)},r.Lg=function(e){this.md=this.Pd(this.na,this.K),e.lb?(this.a.debug("Upgrade the handshake request to a backchannel."),this.G.ze(e),e.tg(this.Db),this.u=e):this.Kd()},r.sa=function(e){if(this.a.info("Error code "+e),2==e){var t=null;this.i&&(t=null);var n=b(this.Pg,this);t||(t=new qt("//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||t.tb("https"),t.Ub()),function(e,t){var n=new dt;n.debug("TestLoadImage: loading "+e);var r=new Image;r.onload=w(rn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(rn,n,r,"TestLoadImage: error",!1,t),r.onabort=w(rn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(rn,n,r,"TestLoadImage: timeout",!1,t),a.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}(t.toString(),n)}else bt(2);this.cg(e)},r.Pg=function(e){e?(this.a.info("Successfully pinged google.com"),bt(2)):(this.a.info("Failed to ping google.com"),bt(1))},r.cg=function(e){this.a.debug("HttpChannel: error - "+e),this.g=0,this.i&&this.i.td(e),this.qe(),this.qd()},r.qe=function(){if(this.g=0,this.w=-1,this.i){var e=this.G.la();if(0!=e.length||0!=this.M.length){var t=this;this.a.debug(function(){return"Number of undelivered maps, pending: "+e.length+", outgoing: "+t.M.length}),this.G.$e(),L(this.M),this.M.length=0}this.i.sd()}},r.Sd=function(e){return e=this.Cd(null,e),this.a.debug("GetForwardChannelUri: "+e),e},r.Pd=function(e,t){return e=this.Cd(this.fc()?e:null,t),this.a.debug("GetBackChannelUri: "+e),e},r.Cd=function(e,t){var n=function(e){return e instanceof qt?e.clone():new qt(e,void 0)}(t);if(""!=n.xa)e&&n.rb(e+"."+n.xa),n.sb(n.Ca);else{var r=a.location;n=function(e,t,n,r){var i=new qt(null,void 0);return e&&i.tb(e),t&&i.rb(t),n&&i.sb(n),r&&i.ec(r),i}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return this.gb&&W(this.gb,function(e,t){n.l(t,e)}),e=this.aa,t=this.Kc,e&&t&&n.l(e,t),n.l("VER",this.tc),this.Ya(n),n},r.Jb=function(e){if(e&&!this.gc)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new an(this.Xa)).Je(this.gc),e},r.Ba=function(){return!!this.i&&this.i.Ba()},r.fc=function(){return this.gc},(r=dn.prototype).sc=null,r.wd=function(){},r.ud=function(){},r.td=function(){},r.sd=function(){},r.Ba=function(){return!0},r.Ue=function(){},r.$a=function(e){return e},mn.prototype.cf=function(e,t){return new gn(e,t)},E(gn,Fe),(r=gn.prototype).addEventListener=function(e,t,n,r){gn.L.addEventListener.call(this,e,t,n,r)},r.removeEventListener=function(e,t,n,r){gn.L.removeEventListener.call(this,e,t,n,r)},r.open=function(){this.b.Ee(this.vd),this.Og&&this.b.Hg(),this.b.connect(this.Qg,this.yb,this.Rc||void 0)},r.close=function(){this.b.disconnect()},r.send=function(e){if(s(e)){var t={};t.__data__=e,this.b.Zc(t)}else this.zg?((t={}).__data__=je(e),this.b.Zc(t)):this.b.Zc(e)},r.F=function(){this.b.Ee(null),delete this.vd,this.b.disconnect(),delete this.b,gn.L.F.call(this)},E(yn,It),E(vn,Nt),E(bn,dn),bn.prototype.wd=function(){ft(this.b.s,"WebChannel opened on "+this.b.yb),this.b.dispatchEvent("a")},bn.prototype.ud=function(e){this.b.dispatchEvent(new yn(e))},bn.prototype.td=function(e){ft(this.b.s,"WebChannel aborted on "+this.b.yb+" due to channel error: "+e),this.b.dispatchEvent(new vn(e))},bn.prototype.sd=function(){ft(this.b.s,"WebChannel closed on "+this.b.yb),this.b.dispatchEvent("b")};var wn=w(function(e,t){function n(){}n.prototype=e.prototype;var r=new n;return e.apply(r,Array.prototype.slice.call(arguments,1)),r},mn);function _n(){this.V=[],this.Z=[]}function En(e,t){if(k.call(this),this.oe=e||0,this.Wb=t||10,this.oe>this.Wb)throw Error(Tn);this.fa=new _n,this.oa=new $t,this.Ac=0,this.Nc=null,this.Cb()}(r=_n.prototype).Vf=function(){0==this.V.length&&(this.V=this.Z,this.V.reverse(),this.Z=[])},r.enqueue=function(e){this.Z.push(e)},r.ab=function(){return this.Vf(),this.V.pop()},r.C=function(){return this.V.length+this.Z.length},r.X=function(){return 0==this.V.length&&0==this.Z.length},r.clear=function(){this.V=[],this.Z=[]},r.contains=function(e){return 0<=I(this.V,e)||0<=I(this.Z,e)},r.remove=function(e){var t=this.V,n=N(t,e);return 0<=n?(Array.prototype.splice.call(t,n,1),t=!0):t=!1,t||P(this.Z,e)},r.H=function(){for(var e=[],t=this.V.length-1;0<=t;--t)e.push(this.V[t]);var n=this.Z.length;for(t=0;t<n;++t)e.push(this.Z[t]);return e},E(En,k);var Tn="[goog.structs.Pool] Min can not be greater than max";function Sn(e,t){this.fe=e,this.gd=t}function kn(e){this.Y=[],e&&this.Lf(e)}function Cn(){kn.call(this)}function xn(e,t){this.Gd=void 0,this.cc=new Cn,En.call(this,e,t)}function In(e,t,n,r){this.Jf=e,this.Ab=!!r,xn.call(this,t,n)}(r=En.prototype).Mb=function(){var e=_();if(!(null!=this.Nc&&e-this.Nc<this.Ac)){var t=this.qg();return t&&(this.Nc=e,this.oa.add(t)),t}},r.og=function(e){return!!this.oa.remove(e)&&(this.nc(e),!0)},r.qg=function(){for(var e;0<this.Td()&&(e=this.fa.ab(),!this.Sc(e));)this.Cb();return!e&&this.C()<this.Wb&&(e=this.xc()),e},r.nc=function(e){this.oa.remove(e),this.Sc(e)&&this.C()<this.Wb?this.fa.enqueue(e):this.Bc(e)},r.Cb=function(){for(var e=this.fa;this.C()<this.oe;)e.enqueue(this.xc());for(;this.C()>this.Wb&&0<this.Td();)this.Bc(e.ab())},r.xc=function(){return{}},r.Bc=function(e){if("function"==typeof e.bb)e.bb();else for(var t in e)e[t]=null},r.Sc=function(e){return"function"!=typeof e.Ye||e.Ye()},r.contains=function(e){return this.fa.contains(e)||this.oa.contains(e)},r.C=function(){return this.fa.C()+this.oa.C()},r.rf=function(){return this.oa.C()},r.Td=function(){return this.fa.C()},r.X=function(){return this.fa.X()&&this.oa.X()},r.F=function(){if(En.L.F.call(this),0<this.rf())throw Error("[goog.structs.Pool] Objects not released");delete this.oa;for(var e=this.fa;!e.X();)this.Bc(e.ab());delete this.fa},Sn.prototype.getKey=function(){return this.fe},Sn.prototype.clone=function(){return new Sn(this.fe,this.gd)},(r=kn.prototype).ce=function(e,t){var n=this.Y;n.push(new Sn(e,t)),this.$f(n.length-1)},r.Lf=function(e){if(e instanceof kn){var t=e.W();if(e=e.H(),0>=this.C()){for(var n=this.Y,r=0;r<t.length;r++)n.push(new Sn(t[r],e[r]));return}}else t=K(e),e=z(e);for(r=0;r<t.length;r++)this.ce(t[r],e[r])},r.remove=function(){var e=this.Y,t=e.length,n=e[0];if(!(0>=t))return 1==t?O(e):(e[0]=e.pop(),this.Zf()),n.gd},r.Zf=function(){for(var e=0,t=this.Y,n=t.length,r=t[e];e<n>>1;){var i=this.tf(e),o=this.zf(e);if(t[i=o<n&&t[o].getKey()<t[i].getKey()?o:i].getKey()>r.getKey())break;t[e]=t[i],e=i}t[e]=r},r.$f=function(e){for(var t=this.Y,n=t[e];0<e;){var r=this.wf(e);if(!(t[r].getKey()>n.getKey()))break;t[e]=t[r],e=r}t[e]=n},r.tf=function(e){return 2*e+1},r.zf=function(e){return 2*e+2},r.wf=function(e){return e-1>>1},r.H=function(){for(var e=this.Y,t=[],n=e.length,r=0;r<n;r++)t.push(e[r].gd);return t},r.W=function(){for(var e=this.Y,t=[],n=e.length,r=0;r<n;r++)t.push(e[r].getKey());return t},r.va=function(e){return D(this.Y,function(t){return t.getKey()==e})},r.clone=function(){return new kn(this)},r.C=function(){return this.Y.length},r.X=function(){return 0==this.Y.length},r.clear=function(){O(this.Y)},E(Cn,kn),Cn.prototype.enqueue=function(e,t){this.ce(e,t)},Cn.prototype.ab=function(){return this.remove()},E(xn,En),(r=xn.prototype).Mb=function(e,t){if(!e)return(e=xn.L.Mb.call(this))&&this.Ac&&(this.Gd=a.setTimeout(b(this.Nb,this),this.Ac)),e;this.cc.enqueue(void 0!==t?t:100,e),this.Nb()},r.Nb=function(){for(var e=this.cc;0<e.C();){var t=this.Mb();if(!t)break;e.ab().apply(this,[t])}},r.nc=function(e){xn.L.nc.call(this,e),this.Nb()},r.Cb=function(){xn.L.Cb.call(this),this.Nb()},r.F=function(){xn.L.F.call(this),a.clearTimeout(this.Gd),this.cc.clear(),this.cc=null},E(In,xn),In.prototype.xc=function(){var e=new an,t=this.Jf;return t&&t.forEach(function(t,n){e.headers.set(n,t)}),this.Ab&&e.Je(!0),e},In.prototype.Sc=function(e){return!e.Ka&&!e.Ba()},mn.prototype.createWebChannel=mn.prototype.cf,gn.prototype.send=gn.prototype.send,gn.prototype.open=gn.prototype.open,gn.prototype.close=gn.prototype.close,Et.NO_ERROR=0,Et.TIMEOUT=8,Et.HTTP_ERROR=6,Tt.COMPLETE="complete",kt.EventType=xt,xt.OPEN="a",xt.CLOSE="b",xt.ERROR="c",xt.MESSAGE="d",Fe.prototype.listen=Fe.prototype.nb,In.prototype.getObject=In.prototype.Mb,In.prototype.releaseObject=In.prototype.og,an.prototype.listenOnce=an.prototype.Oc,an.prototype.getLastError=an.prototype.Hc,an.prototype.getLastErrorCode=an.prototype.Ud,an.prototype.getStatus=an.prototype.za,an.prototype.getStatusText=an.prototype.Yd,an.prototype.getResponseJson=an.prototype.yf,an.prototype.getResponseText=an.prototype.ya,an.prototype.getResponseText=an.prototype.ya,an.prototype.send=an.prototype.send;var Nn={createWebChannelTransport:wn,ErrorCode:Et,EventType:Tt,WebChannel:kt,XhrIoPool:In},An=Nn.createWebChannelTransport,Dn=Nn.ErrorCode,On=Nn.EventType,Pn=Nn.WebChannel,Rn=Nn.XhrIoPool;t.default=Nn}.call(this,n(9))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(62),i=function(e){return e&&"object"==typeof e&&"default"in e?e.default:e}(n(1)),o={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},a=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return r.__extends(t,e),t}(Error);var s=function(){function e(e){this.app=e}return e.prototype.getAuthToken=function(){return r.__awaiter(this,void 0,void 0,function(){var e;return r.__generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.app.INTERNAL.getToken()];case 1:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 2:return t.sent(),[2,void 0];case 3:return[2]}})})},e.prototype.getInstanceIdToken=function(){return r.__awaiter(this,void 0,void 0,function(){var e;return r.__generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),this.app.messaging?[4,this.app.messaging().getToken()]:[2,void 0];case 1:return(e=t.sent())?[2,e]:[2,void 0];case 2:return t.sent(),[2,void 0];case 3:return[2]}})})},e.prototype.getContext=function(){return r.__awaiter(this,void 0,void 0,function(){var e,t;return r.__generator(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}})})},e}();function u(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var c=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null===e||void 0===e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"==typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(Array.isArray(e))return e.map(function(e){return t.encode(e)});if("function"==typeof e||"object"==typeof e)return u(e,function(e){return t.encode(e)});throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null===e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=parseFloat(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(function(e){return t.decode(e)}):"function"==typeof e||"object"==typeof e?u(e,function(e){return t.decode(e)}):e},e}(),l=function(){function e(e,t){void 0===t&&(t="us-central1"),this.app_=e,this.region_=t,this.serializer=new c,this.emulatorOrigin=null,this.contextProvider=new s(e)}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId,n=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+n+"/"+e:"https://"+n+"-"+t+".cloudfunctions.net/"+e},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e){var t=this;return function(n){return t.call(e,n)}},e.prototype.postJSON=function(e,t,n){return r.__awaiter(this,void 0,void 0,function(){var i,o;return r.__generator(this,function(r){switch(r.label){case 0:n.append("Content-Type","application/json"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,fetch(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 2:return i=r.sent(),[3,4];case 3:return r.sent(),[2,{status:0,json:null}];case 4:o=null,r.label=5;case 5:return r.trys.push([5,7,,8]),[4,i.json()];case 6:return o=r.sent(),[3,8];case 7:return r.sent(),[3,8];case 8:return[2,{status:i.status,json:o}]}})})},e.prototype.call=function(e,t){return r.__awaiter(this,void 0,void 0,function(){var n,i,s,u,c,l,h;return r.__generator(this,function(r){switch(r.label){case 0:return n=this._url(e),t=this.serializer.encode(t),i={data:t},s=new Headers,[4,this.contextProvider.getContext()];case 1:return(u=r.sent()).authToken&&s.append("Authorization","Bearer "+u.authToken),u.instanceIdToken&&s.append("Firebase-Instance-ID-Token",u.instanceIdToken),[4,this.postJSON(n,i,s)];case 2:if(c=r.sent(),l=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,s=void 0;try{var u=t.error;if(u){var c=u.status;if("string"==typeof c){if(!o[c])return new a("internal","internal");r=o[c]}i=c;var l=u.message;"string"==typeof l&&(i=l),void 0!==(s=u.details)&&(s=n.decode(s))}}catch(e){}return"ok"===r?null:new a(r,i,s)}(c.status,c.json,this.serializer))throw l;if(!c.json)throw new a("internal","Response is not valid JSON object.");if(void 0===(h=c.json.data)&&(h=c.json.result),void 0===h)throw new a("internal","Response is missing data field.");return[2,{data:this.serializer.decode(h)}]}})})},e}(),h="functions";function f(e,t,n){return new l(e,n)}function p(e){var t={Functions:l};e.INTERNAL.registerService(h,f,t,void 0,!0)}p(i),t.registerFunctions=p},function(e,t,n){"use strict";n.r(t),n.d(t,"__extends",function(){return i}),n.d(t,"__assign",function(){return o}),n.d(t,"__rest",function(){return a}),n.d(t,"__decorate",function(){return s}),n.d(t,"__param",function(){return u}),n.d(t,"__metadata",function(){return c}),n.d(t,"__awaiter",function(){return l}),n.d(t,"__generator",function(){return h}),n.d(t,"__exportStar",function(){return f}),n.d(t,"__values",function(){return p}),n.d(t,"__read",function(){return d}),n.d(t,"__spread",function(){return m}),n.d(t,"__await",function(){return g}),n.d(t,"__asyncGenerator",function(){return y}),n.d(t,"__asyncDelegator",function(){return v}),n.d(t,"__asyncValues",function(){return b}),n.d(t,"__makeTemplateObject",function(){return w}),n.d(t,"__importStar",function(){return _}),n.d(t,"__importDefault",function(){return E});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function h(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function f(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function d(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function m(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e}function g(e){return this instanceof g?(this.v=e,this):new g(e)}function y(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise(function(n,r){o.push([e,t,n,r])>1||s(e,t)})})}function s(e,t){try{!function(e){e.value instanceof g?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(e){l(o[0][3],e)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function v(e){var t,n;return t={},r("next"),r("throw",function(e){throw e}),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){e[r]&&(t[r]=function(t){return(n=!n)?{value:g(e[r](t)),done:"return"===r}:i?i(t):t})}}function b(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator];return t?t.call(e):p(e)}function w(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function _(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";n.r(t),n.d(t,"registerStorage",function(){return He});var r=n(1),i=n.n(r),o="https://firebasestorage.googleapis.com",a="https://firebasestorage.googleapis.com",s="/v0",u="/v0",c=12e4,l=6e4,h=-9007199254740991,f=function(){function e(e,t){this.code_=d(e),this.message_="Firebase Storage: "+t,this.serverResponse_=null,this.name_="FirebaseError"}return e.prototype.codeProp=function(){return this.code},e.prototype.codeEquals=function(e){return d(e)===this.codeProp()},e.prototype.serverResponseProp=function(){return this.serverResponse_},e.prototype.setServerResponseProp=function(e){this.serverResponse_=e},Object.defineProperty(e.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),e}(),p={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function d(e){return"storage/"+e}function m(){return new f(p.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function g(){return new f(p.CANCELED,"User canceled the upload/download.")}function y(){return new f(p.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function v(e,t,n){return new f(p.INVALID_ARGUMENT,"Invalid argument in `"+t+"` at index "+e+": "+n)}function b(){return new f(p.APP_DELETED,"The Firebase app was deleted.")}function w(e,t){return new f(p.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function _(e){throw new f(p.INTERNAL_ERROR,"Internal error: "+e)}var E={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function T(e){switch(e){case E.RAW:case E.BASE64:case E.BASE64URL:case E.DATA_URL:return;default:throw"Expected one of the event types: ["+E.RAW+", "+E.BASE64+", "+E.BASE64URL+", "+E.DATA_URL+"]."}}var S=function(){return function(e,t){this.data=e,this.contentType=t||null}}();function k(e,t){switch(e){case E.RAW:return new S(C(t));case E.BASE64:case E.BASE64URL:return new S(x(e,t));case E.DATA_URL:return new S(function(e){var t=new I(e);return t.base64?x(E.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(e){throw w(E.DATA_URL,"Malformed data URL.")}return C(t)}(t.rest)}(t),function(e){return new I(e).contentType}(t))}throw m()}function C(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<e.length-1&&56320==(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function x(e,t){switch(e){case E.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw w(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case E.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw w(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(t){throw w(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var I=function(){return function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw w(E.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}();var N,A={STATE_CHANGED:"state_changed"},D={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},O={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function P(e){switch(e){case D.RUNNING:case D.PAUSING:case D.CANCELING:return O.RUNNING;case D.PAUSED:return O.PAUSED;case D.SUCCESS:return O.SUCCESS;case D.CANCELED:return O.CANCELED;case D.ERROR:default:return O.ERROR}}function R(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e,t){for(var n in e)R(e,n)&&t(n,e[n])}function M(e){if(null==e)return{};var t={};return L(e,function(e,n){t[e]=n}),t}function F(e){return new Promise(e)}function j(e){return Promise.resolve(e)}function U(e){return null!=e}function q(e){return void 0!==e}function B(e){return"function"==typeof e}function V(e){return"object"==typeof e}function W(e){return V(e)&&null!==e}function z(e){return"string"==typeof e||e instanceof String}function K(e){return H()&&e instanceof Blob}function H(){return"undefined"!=typeof Blob}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(N||(N={}));var Q=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=N.NO_ERROR,this.sendPromise_=F(function(t,n){e.xhr_.addEventListener("abort",function(n){e.errorCode_=N.ABORT,t(e)}),e.xhr_.addEventListener("error",function(n){e.errorCode_=N.NETWORK_ERROR,t(e)}),e.xhr_.addEventListener("load",function(n){t(e)})})}return e.prototype.send=function(e,t,n,r){var i=this;if(this.sent_)throw _("cannot .send() more than once");(this.sent_=!0,this.xhr_.open(t,e,!0),U(r))&&L(r,function(e,t){i.xhr_.setRequestHeader(e,t.toString())});return U(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw _("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw _("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw _("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){U(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){U(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",e)},e}(),G=function(){function e(){}return e.prototype.createXhrIo=function(){return new Q},e}();function X(e){var t;try{t=JSON.parse(e)}catch(e){return null}return function(e){return V(e)&&!Array.isArray(e)}(t)?t:null}var Y=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t){var n;try{n=e.makeFromUrl(t)}catch(n){return new e(t,"")}if(""===n.path)return n;throw function(e){return new f(p.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}(t)},e.makeFromUrl=function(t){var n=null;for(var r=[{regex:new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i"),indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:function(e){e.path_=decodeURIComponent(e.path)}}],i=0;i<r.length;i++){var o=r[i],a=o.regex.exec(t);if(a){var s=a[o.indices.bucket],u=a[o.indices.path];u||(u=""),n=new e(s,u),o.postModify(n);break}}if(null==n)throw function(e){return new f(p.INVALID_URL,"Invalid URL '"+e+"'.")}(t);return n},e}();function $(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function J(e){return o+s+e}function Z(e){return o+u+e}function ee(e){var t=encodeURIComponent,n="?";return L(e,function(e,r){var i=t(e)+"="+t(r);n=n+i+"&"}),n=n.slice(0,-1)}function te(e,t){return t}var ne=function(){return function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||te}}(),re=null;function ie(){if(re)return re;var e=[];e.push(new ne("bucket")),e.push(new ne("generation")),e.push(new ne("metageneration")),e.push(new ne("name","fullPath",!0));var t=new ne("name");t.xform=function(e,t){return function(e){return!z(e)||e.length<2?e:$(e=e)}(t)},e.push(t);var n=new ne("size");return n.xform=function(e,t){return U(t)?+t:t},e.push(n),e.push(new ne("timeCreated")),e.push(new ne("updated")),e.push(new ne("md5Hash",null,!0)),e.push(new ne("cacheControl",null,!0)),e.push(new ne("contentDisposition",null,!0)),e.push(new ne("contentEncoding",null,!0)),e.push(new ne("contentLanguage",null,!0)),e.push(new ne("contentType",null,!0)),e.push(new ne("metadata","customMetadata",!0)),re=e}function oe(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new Y(n,r);return t.makeStorageReference(i)}})}(r,e),r}function ae(e,t,n){var r=X(t);return null===r?null:oe(e,r,n)}function se(e,t){var n=X(t);if(null===n)return null;if(!z(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(t){var n=e.bucket,r=e.fullPath;return function(e){return a+s+e}("/b/"+i(n)+"/o/"+i(r))+ee({alt:"media",token:t})})[0]}function ue(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function ce(e){if(!(e&&V(e)))throw"Expected Metadata object.";for(var t in e){var n=e[t];if("customMetadata"===t){if(!V(n))throw"Expected object for 'customMetadata' mapping."}else if(W(n))throw"Mapping for '"+t+"' cannot be an object."}}function le(e,t,n){for(var r=t.length,i=t.length,o=0;o<t.length;o++)if(t[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw function(e,t,n,r){var i,o;return e===t?(i=e,o=1===e?"argument":"arguments"):(i="between "+e+" and "+t,o="arguments"),new f(p.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+i+" "+o+", received "+r+".")}(r,i,e,n.length);for(o=0;o<n.length;o++)try{t[o].validator(n[o])}catch(t){throw t instanceof Error?v(o,e,t.message):v(o,e,t)}}var he=function(){return function(e,t){var n=this;this.validator=function(t){n.optional&&!q(t)||e(t)},this.optional=!!t}}();function fe(e,t){function n(e){if(!z(e))throw"Expected string."}var r;return r=e?function(e,t){return function(n){e(n),t(n)}}(n,e):n,new he(r,t)}function pe(e){return new he(ce,e)}function de(){return new he(function(e){if(!(function(e){return"number"==typeof e||e instanceof Number}(e)&&e>=0))throw"Expected a number 0 or greater."})}function me(e,t){return new he(function(t){if(!(null===t||U(t)&&t instanceof Object))throw"Expected an Object.";void 0!==e&&null!==e&&e(t)},t)}function ge(e){return new he(function(e){if(null!==e&&!B(e))throw"Expected a Function."},e)}function ye(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}var ve=function(){function e(e,t){var n=0,r="";K(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(K(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(H()){var r=t.map(function(t){return t instanceof e?t.data_:t});return new e(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ye();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(H())return new Blob(e);throw Error("This browser doesn't seem to support creating Blobs")}.apply(null,r))}var i=t.map(function(e){return z(e)?k(E.RAW,e).data:e.data_}),o=0;i.forEach(function(e){o+=e.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]}),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function be(e,t){return-1!==e.indexOf(t)}var we=function(){return function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function _e(e){if(!e)throw m()}function Ee(e,t){return function(n,r){var i=ae(e,r,t);return _e(null!==i),i}}function Te(e){return function(t,n){var r;return(r=401===t.getStatus()?new f(p.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?function(e){return new f(p.QUOTA_EXCEEDED,"Quota for bucket '"+e+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(e.bucket):403===t.getStatus()?function(e){return new f(p.UNAUTHORIZED,"User does not have permission to access '"+e+"'.")}(e.path):n).setServerResponseProp(n.serverResponseProp()),r}}function Se(e){var t=Te(e);return function(n,r){var i=t(n,r);return 404===n.getStatus()&&(i=function(e){return new f(p.OBJECT_NOT_FOUND,"Object '"+e+"' does not exist.")}(e.path)),i.setServerResponseProp(r.serverResponseProp()),i}}function ke(e,t,n){var r=J(t.fullServerUrl()),i=e.maxOperationRetryTime(),o=new we(r,"GET",Ee(e,n),i);return o.errorHandler=Se(t),o}function Ce(e,t,n){var r=J(t.fullServerUrl()),i=e.maxOperationRetryTime(),o=new we(r,"GET",function(e,t){return function(n,r){var i=ae(e,r,t);return _e(null!==i),se(i,r)}}(e,n),i);return o.errorHandler=Se(t),o}function xe(e,t,n){var r=M(n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var Ie=function(){return function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}();function Ne(e,t){var n;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(e){_e(!1)}return _e(be(t||["active"],n)),n}function Ae(e,t,n,r,i,o,a,s){var u=new Ie(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new f(p.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,d=h+l,m={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},g=r.slice(h,d);if(null===g)throw y();var v=t.maxUploadRetryTime(),b=new we(n,"POST",function(e,n){var i,a=Ne(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?Ee(t,o)(e,n):null,new Ie(s,c,"final"===a,i)},v);return b.headers=m,b.body=g.uploadData(),b.progressCallback=s||null,b.errorHandler=Te(e),b}var De=function(){return function(e,t,n){if(B(e)||U(t)||U(n))this.next=e,this.error=t||null,this.complete=n||null;else{var r=e;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}}(),Oe=function(){return function(e,t,n,r,i,o){this.bytesTransferred=e,this.totalBytes=t,this.state=n,this.metadata=r,this.task=i,this.ref=o}}();function Pe(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];j(!0).then(function(){e.apply(null,t)})}}var Re=function(){function e(e,t,n,r,i,o){void 0===o&&(o=null);var a=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=e,this.authWrapper_=t,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=D.RUNNING,this.errorHandler_=function(e){a.request_=null,a.chunkMultiplier_=1,e.codeEquals(p.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=e,a.transition_(D.ERROR))},this.metadataErrorHandler_=function(e){a.request_=null,e.codeEquals(p.CANCELED)?a.completeTransitions_():(a.error_=e,a.transition_(D.ERROR))},this.promise_=F(function(e,t){a.resolve_=e,a.reject_=t,a.start_()}),this.promise_.then(null,function(){})}return e.prototype.makeProgressCallback_=function(){var e=this,t=this.transferred_;return function(n,r){e.updateProgress_(t+n)}},e.prototype.shouldDoResumable_=function(e){return e.size()>262144},e.prototype.start_=function(){this.state_===D.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},e.prototype.resolveToken_=function(e){var t=this;this.authWrapper_.getAuthToken().then(function(n){switch(t.state_){case D.RUNNING:e(n);break;case D.CANCELING:t.transition_(D.CANCELED);break;case D.PAUSING:t.transition_(D.PAUSED)}})},e.prototype.createResumable_=function(){var e=this;this.resolveToken_(function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=xe(t,r,i),s={name:a.fullPath},u=Z(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=ue(a,n),h=e.maxUploadRetryTime(),f=new we(u,"POST",function(e,t){var n;Ne(e);try{n=e.getResponseHeader("X-Goog-Upload-URL")}catch(e){_e(!1)}return _e(z(n)),n},h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=Te(t),f}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then(function(t){e.request_=null,e.uploadUrl_=t,e.needToFetchStatus_=!1,e.completeTransitions_()},e.errorHandler_)})},e.prototype.fetchStatus_=function(){var e=this,t=this.uploadUrl_;this.resolveToken_(function(n){var r=function(e,t,n,r){var i=e.maxUploadRetryTime(),o=new we(n,"POST",function(e,t){var n,i=Ne(e,["active","final"]);try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(e){_e(!1)}var o=parseInt(n,10);return _e(!isNaN(o)),new Ie(o,r.size(),"final"===i)},i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Te(t),o}(e.authWrapper_,e.location_,t,e.blob_),i=e.authWrapper_.makeRequest(r,n);e.request_=i,i.getPromise().then(function(t){t=t,e.request_=null,e.updateProgress_(t.current),e.needToFetchStatus_=!1,t.finalized&&(e.needToFetchMetadata_=!0),e.completeTransitions_()},e.errorHandler_)})},e.prototype.continueUpload_=function(){var e=this,t=262144*this.chunkMultiplier_,n=new Ie(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(i){var o;try{o=Ae(e.location_,e.authWrapper_,r,e.blob_,t,e.mappings_,n,e.makeProgressCallback_())}catch(t){return e.error_=t,void e.transition_(D.ERROR)}var a=e.authWrapper_.makeRequest(o,i);e.request_=a,a.getPromise().then(function(t){e.increaseMultiplier_(),e.request_=null,e.updateProgress_(t.current),t.finalized?(e.metadata_=t.metadata,e.transition_(D.SUCCESS)):e.completeTransitions_()},e.errorHandler_)})},e.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},e.prototype.fetchMetadata_=function(){var e=this;this.resolveToken_(function(t){var n=ke(e.authWrapper_,e.location_,e.mappings_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then(function(t){e.request_=null,e.metadata_=t,e.transition_(D.SUCCESS)},e.metadataErrorHandler_)})},e.prototype.oneShotUpload_=function(){var e=this;this.resolveToken_(function(t){var n=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=xe(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+ue(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=ve.getBlob(c,r,l);if(null===h)throw y();var f={name:u.fullPath},p=Z(o),d=e.maxUploadRetryTime(),m=new we(p,"POST",Ee(e,n),d);return m.urlParams=f,m.headers=a,m.body=h.uploadData(),m.errorHandler=Te(t),m}(e.authWrapper_,e.location_,e.mappings_,e.blob_,e.metadata_),r=e.authWrapper_.makeRequest(n,t);e.request_=r,r.getPromise().then(function(t){e.request_=null,e.metadata_=t,e.updateProgress_(e.blob_.size()),e.transition_(D.SUCCESS)},e.errorHandler_)})},e.prototype.updateProgress_=function(e){var t=this.transferred_;this.transferred_=e,this.transferred_!==t&&this.notifyObservers_()},e.prototype.transition_=function(e){if(this.state_!==e)switch(e){case D.CANCELING:case D.PAUSING:this.state_=e,null!==this.request_&&this.request_.cancel();break;case D.RUNNING:var t=this.state_===D.PAUSED;this.state_=e,t&&(this.notifyObservers_(),this.start_());break;case D.PAUSED:this.state_=e,this.notifyObservers_();break;case D.CANCELED:this.error_=g(),this.state_=e,this.notifyObservers_();break;case D.ERROR:case D.SUCCESS:this.state_=e,this.notifyObservers_()}},e.prototype.completeTransitions_=function(){switch(this.state_){case D.PAUSING:this.transition_(D.PAUSED);break;case D.CANCELING:this.transition_(D.CANCELED);break;case D.RUNNING:this.start_()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=P(this.state_);return new Oe(this.transferred_,this.blob_.size(),e,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),e.prototype.on=function(e,t,n,r){void 0===t&&(t=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0);var i="Expected a function or an Object with one of `next`, `error`, `complete` properties.",o=ge(!0).validator,a=me(null,!0).validator;function s(e){try{return void o(e)}catch(e){}try{if(a(e),!(q(e.next)||q(e.error)||q(e.complete)))throw"";return}catch(e){throw i}}le("on",[fe(function(t){if(e!==A.STATE_CHANGED)throw"Expected one of the event types: ["+A.STATE_CHANGED+"]."}),me(s,!0),ge(!0),ge(!0)],arguments);var u=this;function c(e){return function(t,n,i){null!==e&&le("on",e,arguments);var o=new De(t,n,r);return u.addObserver_(o),function(){u.removeObserver_(o)}}}var l=[me(function(e){if(null===e)throw i;s(e)}),ge(!0),ge(!0)];return!(q(t)||q(n)||q(r))?c(l):c(null)(t,n,r)},e.prototype.then=function(e,t){return this.promise_.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype.addObserver_=function(e){this.observers_.push(e),this.notifyObserver_(e)},e.prototype.removeObserver_=function(e){!function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}(this.observers_,e)},e.prototype.notifyObservers_=function(){var e=this;this.finishPromise_(),function(e){return Array.prototype.slice.call(e)}(this.observers_).forEach(function(t){e.notifyObserver_(t)})},e.prototype.finishPromise_=function(){if(null!==this.resolve_){var e=!0;switch(P(this.state_)){case O.SUCCESS:Pe(this.resolve_.bind(null,this.snapshot))();break;case O.CANCELED:case O.ERROR:Pe(this.reject_.bind(null,this.error_))();break;default:e=!1}e&&(this.resolve_=null,this.reject_=null)}},e.prototype.notifyObserver_=function(e){switch(P(this.state_)){case O.RUNNING:case O.PAUSED:null!==e.next&&Pe(e.next.bind(e,this.snapshot))();break;case O.SUCCESS:null!==e.complete&&Pe(e.complete.bind(e))();break;case O.CANCELED:case O.ERROR:null!==e.error&&Pe(e.error.bind(e,this.error_))();break;default:null!==e.error&&Pe(e.error.bind(e,this.error_))()}},e.prototype.resume=function(){le("resume",[],arguments);var e=this.state_===D.PAUSED||this.state_===D.PAUSING;return e&&this.transition_(D.RUNNING),e},e.prototype.pause=function(){le("pause",[],arguments);var e=this.state_===D.RUNNING;return e&&this.transition_(D.PAUSING),e},e.prototype.cancel=function(){le("cancel",[],arguments);var e=this.state_===D.RUNNING||this.state_===D.PAUSING;return e&&this.transition_(D.CANCELING),e},e}(),Le=function(){function e(e,t){this.authWrapper=e,this.location=t instanceof Y?t:Y.makeFromUrl(t)}return e.prototype.toString=function(){return le("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},e.prototype.newRef=function(t,n){return new e(t,n)},e.prototype.mappings=function(){return ie()},e.prototype.child=function(e){le("child",[fe()],arguments);var t=function(e,t){var n=t.split("/").filter(function(e){return e.length>0}).join("/");return 0===e.length?n:e+"/"+n}(this.location.path,e),n=new Y(this.location.bucket,t);return this.newRef(this.authWrapper,n)},Object.defineProperty(e.prototype,"parent",{get:function(){var e=function(e){if(0==e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this.location.path);if(null===e)return null;var t=new Y(this.location.bucket,e);return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){var e=new Y(this.location.bucket,"");return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return $(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),e.prototype.put=function(e,t){return void 0===t&&(t=null),le("put",[new he(function(e){if(!(e instanceof Uint8Array||e instanceof ArrayBuffer||H()&&e instanceof Blob))throw"Expected Blob or File."}),pe(!0)],arguments),this.throwIfRoot_("put"),new Re(this,this.authWrapper,this.location,this.mappings(),new ve(e),t)},e.prototype.putString=function(e,t,n){void 0===t&&(t=E.RAW),le("putString",[fe(),fe(T,!0),pe(!0)],arguments),this.throwIfRoot_("putString");var r=k(t,e),i=M(n);return!U(i.contentType)&&U(r.contentType)&&(i.contentType=r.contentType),new Re(this,this.authWrapper,this.location,this.mappings(),new ve(r.data,!0),i)},e.prototype.delete=function(){le("delete",[],arguments),this.throwIfRoot_("delete");var e=this;return this.authWrapper.getAuthToken().then(function(t){var n=function(e,t){var n=J(t.fullServerUrl()),r=e.maxOperationRetryTime(),i=new we(n,"DELETE",function(e,t){},r);return i.successCodes=[200,204],i.errorHandler=Se(t),i}(e.authWrapper,e.location);return e.authWrapper.makeRequest(n,t).getPromise()})},e.prototype.getMetadata=function(){le("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(t){var n=ke(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise()})},e.prototype.updateMetadata=function(e){le("updateMetadata",[pe()],arguments),this.throwIfRoot_("updateMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(n){var r=function(e,t,n,r){var i=J(t.fullServerUrl()),o=ue(n,r),a=e.maxOperationRetryTime(),s=new we(i,"PATCH",Ee(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Se(t),s}(t.authWrapper,t.location,e,t.mappings());return t.authWrapper.makeRequest(r,n).getPromise()})},e.prototype.getDownloadURL=function(){le("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL");var e=this;return this.authWrapper.getAuthToken().then(function(t){var n=Ce(e.authWrapper,e.location,e.mappings());return e.authWrapper.makeRequest(n,t).getPromise().then(function(e){if(null===e)throw new f(p.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e})})},e.prototype.throwIfRoot_=function(e){if(""===this.location.path)throw function(e){return new f(p.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)},e}(),Me=function(){function e(e){this.promise_=function(e){return Promise.reject(e)}(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){void 0===e&&(e=!1)},e}(),Fe=function(){function e(){this.map_={},this.id_=h}return e.prototype.addRequest=function(e){var t=this.id_;this.id_++,this.map_[t]=e;var n=this;function r(){delete n.map_[t]}e.getPromise().then(r,r)},e.prototype.clear=function(){L(this.map_,function(e,t){t&&t.cancel(!0)}),this.map_={}},e}(),je=function(){function e(t,n,r,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=t,null!==this.app_){var a=this.app_.options;U(a)&&(this.bucket_=e.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=c,this.maxUploadRetryTime_=l,this.requestMap_=new Fe}return e.extractBucket_=function(e){var t=e.storageBucket||null;return null==t?null:Y.makeFromBucketSpec(t).bucket},e.prototype.getAuthToken=function(){return null!==this.app_&&U(this.app_.INTERNAL)&&U(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(e){return null!==e?e.accessToken:null},function(e){return null}):j(null)},e.prototype.bucket=function(){if(this.deleted_)throw b();return this.bucket_},e.prototype.service=function(){return this.service_},e.prototype.makeStorageReference=function(e){return this.storageRefMaker_(this,e)},e.prototype.makeRequest=function(e,t){if(this.deleted_)return new Me(b());var n=this.requestMaker_(e,t,this.pool_);return this.requestMap_.addRequest(n),n},e.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},e.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},e.prototype.setMaxUploadRetryTime=function(e){this.maxUploadRetryTime_=e},e.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},e.prototype.setMaxOperationRetryTime=function(e){this.maxOperationRetryTime_=e},e}();var Ue=function(){function e(e,t,n,r,i,o,a,s,u,c,l){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l;var h=this;this.promise_=F(function(e,t){h.resolve_=e,h.reject_=t,h.start_()})}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.xhr;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());q(s)?i(s):i()}catch(e){o(e)}else null!==a?((r=m()).setServerResponseProp(a.getResponseText()),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?b():g()):o(r=new f(p.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new qe(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,i=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){u||(u=!0,t.apply(null,arguments))}function l(t){i=setTimeout(function(){i=null,e(h,s())},t)}function h(e){for(var t,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];u||(e?c.apply(null,arguments):s()||o?c.apply(null,arguments):(r<64&&(r*=2),1===a?(a=2,t=0):t=1e3*(r+Math.random()),l(t)))}var f=!1;function p(e){f||(f=!0,u||(null!==i?(e||(a=2),clearTimeout(i),l(0)):e||(a=1)))}return l(0),setTimeout(function(){o=!0,p(!0)},n),p}(function(t,n){if(n)t(!1,new qe(!1,null,!0));else{var r=e.pool_.createXhrIo();e.pendingXhr_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then(function(n){null!==e.progressCallback_&&n.removeUploadProgressListener(i),e.pendingXhr_=null;var r=(n=n).getErrorCode()===N.NO_ERROR,o=n.getStatus();if(r&&!e.isRetryStatusCode_(o)){var a=be(e.successCodes_,o);t(!0,new qe(a,n))}else{var s=n.getErrorCode()===N.ABORT;t(!1,new qe(!1,null,s))}})}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}},t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=be([408,429],e),r=be(this.additionalRetryCodes_,e);return t||n||r},e}(),qe=function(){return function(e,t,n){this.wasSuccessCode=e,this.xhr=t,this.canceled=!!n}}();function Be(e,t,n){var r=ee(e.urlParams),o=e.url+r,a=M(e.headers);return function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(a,t),function(e){var t=void 0!==i.a?i.a.SDK_VERSION:"AppManager";e["X-Firebase-Storage-Version"]="webjs/"+t}(a),new Ue(o,e.method,a,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,n)}var Ve=function(){function e(e,t,n){if(this.bucket_=null,this.authWrapper_=new je(e,function(e,t){return new Le(e,t)},Be,this,t),this.app_=e,null!=n)this.bucket_=Y.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new Y(r,""))}this.internals_=new We(this)}return e.prototype.ref=function(e){if(le("ref",[fe(function(e){if(/^[A-Za-z]+:\/\//.test(e))throw"Expected child path but got a URL, use refFromURL instead."},!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var t=new Le(this.authWrapper_,this.bucket_);return null!=e?t.child(e):t},e.prototype.refFromURL=function(e){return le("refFromURL",[fe(function(e){if(!/^[A-Za-z]+:\/\//.test(e))throw"Expected full URL but got a child path, use ref instead.";try{Y.makeFromUrl(e)}catch(e){throw"Expected valid full URL but got an invalid one."}},!1)],arguments),new Le(this.authWrapper_,e)},Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxUploadRetryTime=function(e){le("setMaxUploadRetryTime",[de()],arguments),this.authWrapper_.setMaxUploadRetryTime(e)},Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),e.prototype.setMaxOperationRetryTime=function(e){le("setMaxOperationRetryTime",[de()],arguments),this.authWrapper_.setMaxOperationRetryTime(e)},Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),e}(),We=function(){function e(e){this.service_=e}return e.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),j(void 0)},e}(),ze="storage";function Ke(e,t,n){return new Ve(e,new G,n)}function He(e){var t={TaskState:O,TaskEvent:A,StringFormat:E,Storage:Ve,Reference:Le};e.INTERNAL.registerService(ze,Ke,t,void 0,!0)}He(i.a)},function(e,t,n){var r=n(65);"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n(69)(r,i);r.locals&&(e.exports=r.locals)},function(e,t,n){var r=n(66);(t=e.exports=n(67)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700,800,900);",""]),t.push([e.i,"@import url(https://fonts.googleapis.com/css?family=Faster+One);",""]),t.push([e.i,"@import url(https://fonts.googleapis.com/css?family=Permanent+Marker);",""]),t.push([e.i,"@import url(https://fonts.googleapis.com/css?family=Titillium+Web);",""]),t.push([e.i,"@import url(https://fonts.googleapis.com/css?family=KoHo);",""]),t.push([e.i,"@import url(https://fonts.googleapis.com/css?family=Caveat);",""]),t.push([e.i,"@import url(https://fonts.googleapis.com/earlyaccess/notosanstc.css);",""]),t.push([e.i,".text-appear {\n  top: -30px;\n  opacity: 0; }\n\n.text-appear.text-appear-active {\n  top: 0px;\n  opacity: 1;\n  transition: all 3000ms cubic-bezier(0.25, 0.1, 0.25, 1);\n  /* ease (default) */ }\n\n.text0-appear {\n  top: -60px;\n  opacity: 0; }\n\n.text0-appear.text0-appear-active {\n  top: -30px;\n  opacity: 1;\n  transition: all 3000ms cubic-bezier(0.25, 0.1, 0.25, 1);\n  /* ease (default) */ }\n\n.text1-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text1-appear.text1-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 4000ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text2-appear {\n  left: -100%;\n  -webkit-transform: rotate(-170deg);\n          transform: rotate(-170deg); }\n\n.text2-appear.text2-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 3700ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text3-appear {\n  left: -100%;\n  -webkit-transform: rotate(-160deg);\n          transform: rotate(-160deg); }\n\n.text3-appear.text3-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 3400ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text4-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text4-appear.text4-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 3100ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text5-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text5-appear.text5-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 2800ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text6-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text6-appear.text6-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 2500ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text7-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text7-appear.text7-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 2200ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text8-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text8-appear.text8-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 1900ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text9-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text9-appear.text9-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 1600ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text10-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text10-appear.text10-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 1300ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text11-appear {\n  left: -100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg); }\n\n.text11-appear.text11-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 1000ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text12-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text12-appear.text12-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 700ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text13-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text13-appear.text13-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 400ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text1-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text1-leave.text1-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 4000ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text2-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text2-leave.text2-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 3700ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text3-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text3-leave.text3-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 3400ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text4-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text4-leave.text4-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 3100ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text5-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text5-leave.text5-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 2800ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text6-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text6-leave.text6-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 2500ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text7-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text7-leave.text7-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 2200ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text8-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text8-leave.text8-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 1900ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text9-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text9-leave.text9-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 1600ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text10-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text10-leave.text10-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 1300ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text11-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text11-leave.text11-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 1000ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text12-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text12-leave.text12-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 700ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text13-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text13-leave.text13-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 400ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text1-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text1-enter.text1-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 4000ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text2-enter {\n  left: -100%;\n  -webkit-transform: rotate(-170deg);\n          transform: rotate(-170deg); }\n\n.text2-enter.text2-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 3700ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text3-enter {\n  left: -100%;\n  -webkit-transform: rotate(-160deg);\n          transform: rotate(-160deg); }\n\n.text3-enter.text3-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 3400ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text4-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text4-enter.text4-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 3100ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text5-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text5-enter.text5-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 2800ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text6-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text6-enter.text6-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 2500ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text7-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text7-enter.text7-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 2200ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text8-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text8-enter.text8-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 1900ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text9-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text9-enter.text9-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 1600ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text10-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text10-enter.text10-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 1300ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text11-enter {\n  left: -100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg); }\n\n.text11-enter.text11-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 1000ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text12-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text12-enter.text12-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 700ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text13-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text13-enter.text13-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 400ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text14-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text14-appear.text14-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 4000ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text15-appear {\n  left: -100%;\n  -webkit-transform: rotate(-170deg);\n          transform: rotate(-170deg); }\n\n.text15-appear.text15-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 3700ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text16-appear {\n  left: -100%;\n  -webkit-transform: rotate(-160deg);\n          transform: rotate(-160deg); }\n\n.text16-appear.text16-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 3400ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text17-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text17-appear.text17-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 3100ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text18-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text18-appear.text18-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 2800ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text19-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text19-appear.text19-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 2500ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text20-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text20-appear.text20-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 2200ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text21-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text21-appear.text21-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 1900ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text22-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text22-appear.text22-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 1600ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text23-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text23-appear.text23-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 1300ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text24-appear {\n  left: -100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg); }\n\n.text24-appear.text24-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 1000ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text25-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text25-appear.text25-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 700ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text26-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text26-appear.text26-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 400ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text27-appear {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text27-appear.text27-appear-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 100ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text14-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text14-leave.text14-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 4000ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text15-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text15-leave.text15-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 3700ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text16-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text16-leave.text16-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 3400ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text17-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text17-leave.text17-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 3100ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text18-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text18-leave.text18-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 2800ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text19-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text19-leave.text19-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 2500ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text20-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text20-leave.text20-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 2200ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text21-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text21-leave.text21-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 1900ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text22-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text22-leave.text22-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 1600ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text23-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text23-leave.text23-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 1300ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text24-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text24-leave.text24-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 1000ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text25-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text25-leave.text25-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 700ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text26-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text26-leave.text26-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 400ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text27-leave {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg); }\n\n.text27-leave.text27-leave-active {\n  left: 100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n  /* older webkit */\n  transition: all 100ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text14-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text14-enter.text14-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 4000ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text15-enter {\n  left: -100%;\n  -webkit-transform: rotate(-170deg);\n          transform: rotate(-170deg); }\n\n.text15-enter.text15-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 3700ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text16-enter {\n  left: -100%;\n  -webkit-transform: rotate(-160deg);\n          transform: rotate(-160deg); }\n\n.text16-enter.text16-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 3400ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text17-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text17-enter.text17-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 3100ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text18-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text18-enter.text18-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 2800ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text19-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text19-enter.text19-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 2500ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text20-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text20-enter.text20-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 2200ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text21-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text21-enter.text21-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 1900ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text22-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text22-enter.text22-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 1600ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text23-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text23-enter.text23-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 1300ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text24-enter {\n  left: -100%;\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg); }\n\n.text24-enter.text24-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 1000ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text25-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text25-enter.text25-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 700ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text26-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text26-enter.text26-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 400ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n.text27-enter {\n  left: -100%;\n  -webkit-transform: rotate(-180deg);\n          transform: rotate(-180deg); }\n\n.text27-enter.text27-enter-active {\n  left: 0%;\n  -webkit-transform: rotate(0deg);\n          transform: rotate(0deg);\n  /* older webkit */\n  transition: all 100ms cubic-bezier(0.525, 0.055, 0, 1.045);\n  /* custom */ }\n\n* {\n  padding: 0px;\n  margin: 0px; }\n\nbody {\n  background-image: url("+r(n(68))+"); }\n\n#navbar {\n  position: fixed;\n  height: 90vh;\n  width: 70px;\n  background-color: #1A454F;\n  box-shadow: 3px 0px 5px 0px rgba(0, 0, 0, 0.75);\n  -webkit-touch-callout: none;\n  /* iOS Safari */\n  -webkit-user-select: none;\n  /* Safari */\n  /* Konqueror HTML */\n  -moz-user-select: none;\n  /* Firefox */\n  -ms-user-select: none;\n  /* Internet Explorer/Edge */\n  user-select: none;\n  /* Non-prefixed version, currently\n\t                              supported by Chrome and Opera */ }\n  #navbar ul {\n    text-align: center;\n    line-height: 6vh;\n    margin-top: 10vh; }\n    #navbar ul .navbar-icon {\n      font-size: 25px;\n      color: #F8F8F8; }\n    #navbar ul .navbar-icon:hover {\n      color: #F5D73F; }\n  #navbar h1 {\n    font-family: 'KoHo';\n    font-size: 12px;\n    color: #F8F8F8;\n    margin-top: 40vh;\n    white-space: nowrap;\n    -webkit-transform: rotate(-90deg);\n            transform: rotate(-90deg); }\n\n#wrapper {\n  height: 90vh;\n  margin-left: 70px;\n  margin-right: 140px;\n  margin-top: 5vh;\n  margin-bottom: 5vh;\n  overflow-y: hidden;\n  box-shadow: 0px 0px 33px -2px rgba(0, 0, 0, 0.75); }\n  #wrapper .page {\n    height: 90vh;\n    overflow-y: scroll; }\n  #wrapper #container {\n    height: 100%;\n    width: 100%; }\n    #wrapper #container #content {\n      width: 100%;\n      height: 100%;\n      background-color: rgba(248, 248, 248, 0.7);\n      transition: background-color 5s ease;\n      text-align: center;\n      word-wrap: break-word;\n      overflow-x: hidden;\n      overflow-y: scroll;\n      display: flex;\n      flex-direction: column;\n      justify-content: center; }\n      #wrapper #container #content h1 {\n        font-family: 'Permanent Marker';\n        font-size: 10vw;\n        color: #F5D73F;\n        position: relative;\n        top: -30px; }\n      #wrapper #container #content h2 {\n        font-family: 'Permanent Marker';\n        font-size: 2.7vw;\n        color: #1A454F;\n        position: relative; }\n      #wrapper #container #content ul {\n        position: relative;\n        top: -25px; }\n        #wrapper #container #content ul li {\n          font-family: 'Faster One';\n          font-size: 2.1vw;\n          color: #1A454F;\n          display: inline-block;\n          position: relative;\n          white-space: pre; }\n  #wrapper #resume {\n    background-color: #F5D73F; }\n    #wrapper #resume #img-and-information {\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      margin-top: 3%;\n      text-align: center; }\n      #wrapper #resume #img-and-information #img #img-wrapper {\n        height: 15vw;\n        width: 15vw;\n        border-radius: 50%;\n        overflow: hidden;\n        border: 0.7vw solid #1A454F;\n        background-image: url(\"https://i.gifer.com/V4uJ.gif\"); }\n        #wrapper #resume #img-and-information #img #img-wrapper #my-img {\n          display: block;\n          margin: auto;\n          height: 140%;\n          width: auto; }\n      #wrapper #resume #img-and-information #img h1 {\n        font-family: 'Open Sans';\n        font-size: 3vw;\n        font-weight: 900;\n        color: #1A454F; }\n      #wrapper #resume #img-and-information #information {\n        width: 95%;\n        padding: 1% 0;\n        margin-top: 0.5%;\n        background-color: #1A454F;\n        overflow: hidden; }\n        #wrapper #resume #img-and-information #information #info {\n          font-family: 'Open Sans';\n          font-size: 1.6vw;\n          font-weight: 600;\n          color: #F8F8F8; }\n          #wrapper #resume #img-and-information #information #info #taiwan-img {\n            height: 20px;\n            width: auto; }\n        #wrapper #resume #img-and-information #information #quote {\n          position: relative;\n          left: 0px;\n          display: inline-block;\n          font-family: 'Caveat';\n          font-size: 1.8vw;\n          font-weight: bold;\n          color: #F5D73F; }\n    #wrapper #resume #education {\n      margin-top: 5%; }\n      #wrapper #resume #education h2 {\n        margin-left: 2.5%;\n        font-family: 'Open Sans';\n        font-size: 2.8vw;\n        font-weight: 900;\n        color: #1A454F; }\n      #wrapper #resume #education hr {\n        display: block;\n        margin: 0.5% auto;\n        width: 95%;\n        height: 0.8vw;\n        background-color: #1A454F;\n        border: 0; }\n      #wrapper #resume #education .education-content {\n        display: block;\n        margin: auto;\n        margin-top: 2vw;\n        margin-bottom: 4vw;\n        width: 95%;\n        height: auto;\n        display: flex;\n        flex-direction: row; }\n        #wrapper #resume #education .education-content .education-term {\n          width: 60%; }\n          #wrapper #resume #education .education-content .education-term h3 {\n            font-family: 'Open Sans';\n            font-size: 1.8vw;\n            font-weight: 800;\n            color: #1A454F; }\n        #wrapper #resume #education .education-content .education-information {\n          width: 40%; }\n          #wrapper #resume #education .education-content .education-information h4 {\n            font-family: 'Open Sans';\n            font-size: 1.8vw;\n            font-weight: 800;\n            color: #1A454F; }\n    #wrapper #resume #skill {\n      margin-bottom: 20px; }\n      #wrapper #resume #skill h2 {\n        margin-left: 2.5%;\n        font-family: 'Open Sans';\n        font-size: 2.8vw;\n        font-weight: 900;\n        color: #1A454F; }\n      #wrapper #resume #skill hr {\n        display: block;\n        margin: 0.5% auto;\n        width: 95%;\n        height: 0.8vw;\n        background-color: #1A454F;\n        border: 0; }\n      #wrapper #resume #skill #skill-content-wrapper {\n        display: flex;\n        flex-direction: row;\n        width: 95%;\n        height: auto;\n        margin: 0 2.5%; }\n        #wrapper #resume #skill #skill-content-wrapper #skill-content-left {\n          width: 66.66667%; }\n        #wrapper #resume #skill #skill-content-wrapper #skill-content-right {\n          width: 33.33333%; }\n        #wrapper #resume #skill #skill-content-wrapper .skill-content h5 {\n          background-color: #1A454F;\n          color: #F5D73F;\n          font-family: 'Open Sans';\n          font-size: 1.6vw;\n          font-weight: 500;\n          text-indent: 5px; }\n        #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper {\n          display: flex;\n          flex-direction: row; }\n          #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper #skill-information-left {\n            width: 50%; }\n          #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper #skill-information-right {\n            width: 50%; }\n          #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper .skill-information h6 {\n            color: #1A454F;\n            font-family: 'Open Sans';\n            font-size: 1.6vw;\n            font-weight: 600;\n            text-indent: 5px; }\n          #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper .skill-information ul {\n            padding-left: -5px; }\n            #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper .skill-information ul li {\n              color: #1A454F;\n              font-family: 'Open Sans';\n              font-size: 1.6vw;\n              font-weight: 400;\n              text-indent: 10px;\n              list-style-position: inside; }\n              #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper .skill-information ul li span {\n                position: relative;\n                left: -10px; }\n  #wrapper #projects {\n    display: flex;\n    flex-direction: row; }\n    #wrapper #projects .direction-btn {\n      height: 90vh;\n      width: 50px;\n      background-color: #1a454f;\n      transition: all 0.5s ease;\n      text-align: center; }\n      #wrapper #projects .direction-btn:hover {\n        cursor: pointer; }\n      #wrapper #projects .direction-btn .direction-icon {\n        position: relative;\n        left: 0px;\n        display: inline-block;\n        height: 100%;\n        vertical-align: middle;\n        color: #F5D73F;\n        font-size: 30px;\n        transition: left 0.5s ease; }\n    #wrapper #projects #projects-wrapper {\n      height: auto;\n      width: calc(100% - 100px);\n      overflow-x: hidden;\n      display: flex;\n      flex-direction: row;\n      background: #d9e2e7;\n      background: -webkit-gradient(left top, right top, color-stop(0%, #d9e2e7), color-stop(24%, #f2f6f8), color-stop(64%, #eaf2f9), color-stop(100%, #e2eff9));\n      background: linear-gradient(to right, #d9e2e7 0%, #f2f6f8 24%, #eaf2f9 64%, #e2eff9 100%);\n      filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#d9e2e7', endColorstr='#e2eff9', GradientType=1 ); }\n      #wrapper #projects #projects-wrapper .projects-page {\n        background: #d9e2e7;\n        background: -webkit-gradient(left top, right top, color-stop(0%, #d9e2e7), color-stop(24%, #f2f6f8), color-stop(64%, #eaf2f9), color-stop(100%, #e2eff9));\n        background: linear-gradient(to right, #d9e2e7 0%, #f2f6f8 24%, #eaf2f9 64%, #e2eff9 100%);\n        filter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#d9e2e7', endColorstr='#e2eff9', GradientType=1 );\n        height: auto;\n        width: 100%;\n        overflow-y: scroll;\n        padding: 10px 0;\n        flex-shrink: 0;\n        font-family: 'Open Sans'; }\n        #wrapper #projects #projects-wrapper .projects-page .projects-page-title h1 {\n          margin-top: 10px;\n          margin-left: 20px;\n          font-size: 3vw;\n          font-weight: 800;\n          color: #1A454F; }\n        #wrapper #projects #projects-wrapper .projects-page .projects-page-description p {\n          max-width: 90%;\n          font-size: 1.4vw;\n          font-weight: 500;\n          color: #1A454F;\n          margin-top: 10px;\n          margin-left: 25px; }\n          #wrapper #projects #projects-wrapper .projects-page .projects-page-description p a {\n            text-decoration: none;\n            color: #b73c33; }\n            #wrapper #projects #projects-wrapper .projects-page .projects-page-description p a:hover {\n              color: #F5D73F; }\n          #wrapper #projects #projects-wrapper .projects-page .projects-page-description p b {\n            background-color: rgba(244, 241, 66, 0.4);\n            border-radius: 10px; }\n        #wrapper #projects #projects-wrapper .projects-page .projects-page-info {\n          display: flex;\n          flex-direction: row;\n          margin-top: 20px;\n          margin-left: 20px; }\n          #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-skill {\n            width: 65%; }\n            #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-skill h2 {\n              font-size: 2.3vw;\n              font-weight: 800;\n              color: #1A454F; }\n            #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-skill ul {\n              margin-top: 10px;\n              margin-left: 5px;\n              list-style: none; }\n              #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-skill ul li {\n                font-size: 1.4vw;\n                font-weight: 600;\n                color: #1A454F; }\n          #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-link {\n            width: 35%; }\n            #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-link h2 {\n              font-size: 2.3vw;\n              font-weight: 800;\n              color: #1A454F; }\n            #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-link ul {\n              margin-top: 10px;\n              margin-left: 5px;\n              list-style: none; }\n              #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-link ul li {\n                font-size: 1.6vw;\n                font-weight: 500;\n                color: #1A454F; }\n                #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-link ul li a {\n                  text-decoration: none;\n                  font-weight: 800;\n                  color: #2c518c; }\n                  #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-link ul li a:hover {\n                    color: #F5D73F; }\n        #wrapper #projects #projects-wrapper .projects-page .projects-page-gif {\n          margin-top: 20px; }\n          #wrapper #projects #projects-wrapper .projects-page .projects-page-gif h2 {\n            font-size: 2.3vw;\n            font-weight: 800;\n            color: #1A454F;\n            margin-left: 20px; }\n          #wrapper #projects #projects-wrapper .projects-page .projects-page-gif .img-wrapper {\n            display: flex;\n            flex-direction: row;\n            overflow-x: scroll;\n            background-color: rgba(26, 69, 79, 0.2); }\n            #wrapper #projects #projects-wrapper .projects-page .projects-page-gif .img-wrapper img {\n              flex-shrink: 0;\n              margin: 10px;\n              width: 500px;\n              align-self: center; }\n  #wrapper #interests {\n    overflow: hidden; }\n    #wrapper #interests ::-webkit-scrollbar {\n      width: 0;\n      height: 0; }\n    #wrapper #interests ::-webkit-scrollbar-button {\n      width: 0;\n      height: 0; }\n    #wrapper #interests #interests-wrapper {\n      position: relative;\n      overflow-y: scroll;\n      overflow-x: hidden;\n      height: calc(100vw - 210px);\n      width: 90vh;\n      -webkit-transform-origin: right top;\n              transform-origin: right top;\n      -webkit-transform: rotate(-90deg);\n              transform: rotate(-90deg);\n      left: -90vh;\n      background-image: url("+r(n(12))+");\n      background-position: center center;\n      background-repeat: no-repeat;\n      background-size: cover; }\n      #wrapper #interests #interests-wrapper .interests-page {\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        height: calc(100vw - 210px);\n        width: 90vh;\n        overflow: hidden; }\n        #wrapper #interests #interests-wrapper .interests-page .scroll-text {\n          font-family: 'Permanent Marker';\n          font-size: 4vw;\n          color: #F8F8F8;\n          background-color: rgba(255, 255, 255, 0.2);\n          text-align: center;\n          -webkit-transform: rotate(90deg);\n                  transform: rotate(90deg);\n          border: 0.45vw solid #F8F8F8; }\n        #wrapper #interests #interests-wrapper .interests-page .intro-text {\n          position: relative;\n          font-family: 'Permanent Marker';\n          font-size: 5vw;\n          color: #F8F8F8;\n          background-color: rgba(255, 255, 255, 0.2);\n          text-align: center;\n          -webkit-transform: rotate(90deg);\n                  transform: rotate(90deg); }\n          #wrapper #interests #interests-wrapper .interests-page .intro-text p {\n            background-color: rgba(26, 69, 79, 0.5);\n            font-family: 'KoHo';\n            font-size: 2vw; }\n      #wrapper #interests #interests-wrapper .interests-page:nth-child(2) {\n        background-image: url("+r(n(13))+");\n        background-position: center center;\n        background-repeat: no-repeat;\n        background-size: cover; }\n      #wrapper #interests #interests-wrapper .interests-page:nth-child(3) {\n        background-image: url("+r(n(14))+");\n        background-position: center center;\n        background-repeat: no-repeat;\n        background-size: cover; }\n      #wrapper #interests #interests-wrapper .interests-page:nth-child(4) {\n        background-image: url("+r(n(15))+");\n        background-position: center center;\n        background-repeat: no-repeat;\n        background-size: cover; }\n        #wrapper #interests #interests-wrapper .interests-page:nth-child(4) div {\n          background-color: rgba(0, 0, 0, 0.2); }\n      #wrapper #interests #interests-wrapper .interests-page:nth-child(5) {\n        background-image: url("+r(n(16))+");\n        background-position: center center;\n        background-repeat: no-repeat;\n        background-size: cover; }\n      #wrapper #interests #interests-wrapper .interests-page:nth-child(6) {\n        background-image: url("+r(n(17))+");\n        background-position: center center;\n        background-repeat: no-repeat;\n        background-size: cover; }\n  #wrapper #contact {\n    display: flex;\n    flex-direction: row;\n    background-color: #F8F8F8; }\n    #wrapper #contact #message-input {\n      width: 50%;\n      padding: 3% 2% 3% 4%; }\n      #wrapper #contact #message-input #message-input-textarea h1 {\n        font-family: 'Open Sans';\n        font-size: 3vw;\n        font-weight: 700;\n        color: #1A454F;\n        text-indent: 5px; }\n      #wrapper #contact #message-input #message-input-textarea form #name {\n        display: block;\n        height: 7%;\n        width: 100%;\n        margin: 2% 0;\n        padding: 0 2%;\n        border-radius: 10px;\n        outline: none;\n        font-family: 'Open Sans';\n        font-size: 1.2vw;\n        font-weight: 500; }\n      #wrapper #contact #message-input #message-input-textarea form #email {\n        display: block;\n        height: 7%;\n        width: 100%;\n        margin: 2% 0;\n        padding: 0 2%;\n        border-radius: 10px;\n        outline: none;\n        font-family: 'Open Sans';\n        font-size: 1.2vw;\n        font-weight: 500; }\n      #wrapper #contact #message-input #message-input-textarea form #message {\n        display: block;\n        height: 25%;\n        width: 100%;\n        margin: 2% 0;\n        padding: 2% 2%;\n        border-radius: 10px;\n        border-width: 2px;\n        border-style: inset;\n        border-color: currentColor;\n        border-color: initial;\n        -o-border-image: none;\n           border-image: none;\n        -o-border-image: initial;\n           border-image: initial;\n        outline: none;\n        font-family: 'Open Sans';\n        font-size: 1.2vw;\n        font-weight: 500; }\n      #wrapper #contact #message-input #message-input-textarea form #submit {\n        display: block;\n        height: 7%;\n        width: 100%;\n        margin: 2% 0;\n        border-radius: 10px;\n        outline: none;\n        background-color: #1A454F;\n        color: #F8F8F8;\n        font-family: 'Open Sans';\n        font-size: 1.5vw;\n        font-weight: 700; }\n      #wrapper #contact #message-input #message-input-textarea form #submit:hover {\n        transition: background-color 0.3s ease;\n        background-color: #F5D73F; }\n      #wrapper #contact #message-input #login-as-admin h1 {\n        font-family: 'Open Sans';\n        font-size: 2vw;\n        font-weight: 700;\n        color: #1A454F;\n        text-indent: 5px; }\n      #wrapper #contact #message-input #login-as-admin form #username {\n        display: block;\n        height: 5%;\n        width: 100%;\n        margin: 2% 0;\n        padding: 0 2%;\n        border-radius: 10px;\n        outline: none;\n        font-family: 'Open Sans';\n        font-size: 1.2vw;\n        font-weight: 500; }\n      #wrapper #contact #message-input #login-as-admin form #password {\n        display: block;\n        height: 5%;\n        width: 100%;\n        margin: 2% 0;\n        padding: 0 2%;\n        border-radius: 10px;\n        outline: none;\n        font-family: 'Open Sans';\n        font-size: 1.2vw;\n        font-weight: 500; }\n      #wrapper #contact #message-input #login-as-admin form #login {\n        display: block;\n        height: 7%;\n        width: 100%;\n        margin: 2% 0;\n        border-radius: 10px;\n        outline: none;\n        background-color: #1A454F;\n        color: #F8F8F8;\n        font-family: 'Open Sans';\n        font-size: 1.5vw;\n        font-weight: 700; }\n      #wrapper #contact #message-input #login-as-admin form #login:hover {\n        transition: background-color 0.3s ease;\n        background-color: #F5D73F; }\n      #wrapper #contact #message-input #login-as-admin #logout {\n        display: block;\n        height: 7%;\n        width: 100%;\n        margin: 2% 0;\n        border-radius: 10px;\n        outline: none;\n        background-color: #1A454F;\n        color: #F8F8F8;\n        font-family: 'Open Sans';\n        font-size: 1.5vw;\n        font-weight: 700; }\n      #wrapper #contact #message-input #login-as-admin #logout:hover {\n        transition: background-color 0.3s ease;\n        background-color: #F5D73F; }\n    #wrapper #contact #message-list {\n      width: 50%;\n      padding: 3% 4%; }\n      #wrapper #contact #message-list h2 {\n        color: #1A454F;\n        font-family: 'Open Sans';\n        font-size: 2vw;\n        font-weight: 700; }\n      #wrapper #contact #message-list hr {\n        display: block;\n        margin: 0.5% auto;\n        height: 0.8vw;\n        background-color: #1A454F;\n        border: 0; }\n      #wrapper #contact #message-list #message-list-wrapper {\n        display: flex;\n        flex-direction: column;\n        max-height: 82%;\n        max-width: 100%;\n        overflow: scroll; }\n        #wrapper #contact #message-list #message-list-wrapper .message-block {\n          width: 90%;\n          padding: 5% 5%;\n          min-height: 20%;\n          font-family: 'Open Sans', 'Noto Sans TC';\n          color: #1A454F;\n          border-bottom: 1px solid #1A454F; }\n          #wrapper #contact #message-list #message-list-wrapper .message-block .message-author {\n            display: inline-block;\n            width: 50%;\n            text-align: left;\n            font-size: 1.4vw;\n            font-weight: 900; }\n          #wrapper #contact #message-list #message-list-wrapper .message-block .message-datetime {\n            display: inline-block;\n            width: 50%;\n            font-size: 1.2vw;\n            text-align: right; }\n          #wrapper #contact #message-list #message-list-wrapper .message-block .message-text {\n            display: block;\n            height: auto;\n            width: 100%;\n            padding-top: 3%;\n            font-size: 1.2vw;\n            white-space: pre-wrap;\n            word-wrap: break-word;\n            word-break: break-all; }\n          #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-input {\n            display: block;\n            height: 25%;\n            width: 100%;\n            margin: 2% 0;\n            padding: 2% 2%;\n            border-radius: 10px;\n            border-width: 2px;\n            border-style: inset;\n            border-color: currentColor;\n            border-color: initial;\n            -o-border-image: none;\n               border-image: none;\n            -o-border-image: initial;\n               border-image: initial;\n            outline: none;\n            font-size: 1.2vw;\n            font-weight: 500; }\n          #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-submit {\n            display: block;\n            height: 7%;\n            width: 100%;\n            margin: 2% 0;\n            border-radius: 10px;\n            outline: none;\n            background-color: #1A454F;\n            color: #F8F8F8;\n            font-size: 1.5vw;\n            font-weight: 700; }\n          #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-submit:hover {\n            transition: background-color 0.3s ease;\n            background-color: #F5D73F; }\n          #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-wrapper {\n            background-color: #1A454F;\n            border-radius: 5px;\n            padding: 3%;\n            margin-top: 3%; }\n            #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-wrapper .message-reply-author {\n              display: inline-block;\n              width: 50%;\n              text-align: left;\n              font-size: 1.4vw;\n              font-weight: 900;\n              color: #F5D73F; }\n            #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-wrapper .message-reply-datetime {\n              display: inline-block;\n              width: 50%;\n              font-size: 1.2vw;\n              text-align: right;\n              color: #F8F8F8; }\n            #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-wrapper .message-reply-text {\n              display: block;\n              min-height: 10%;\n              height: auto;\n              width: 100%;\n              padding-top: 3%;\n              font-size: 1.2vw;\n              color: #F8F8F8;\n              white-space: pre-wrap;\n              word-wrap: break-word;\n              word-break: break-all; }\n        #wrapper #contact #message-list #message-list-wrapper .message-block-appear {\n          opacity: 0;\n          background-color: #F5D73F; }\n        #wrapper #contact #message-list #message-list-wrapper .message-block-appear.message-block-appear-active {\n          opacity: 1;\n          background-color: #F8F8F8;\n          transition: all 2000ms ease;\n          /* ease (default) */ }\n\n#menu {\n  position: fixed;\n  top: 5vh;\n  bottom: 5vh;\n  right: 0;\n  display: flex;\n  flex-direction: column;\n  height: 90vh;\n  width: 140px;\n  overflow: scroll;\n  box-shadow: -3px 0px 5px 0px rgba(0, 0, 0, 0.75); }\n  #menu .subject {\n    display: flex;\n    flex-direction: row;\n    height: 20%; }\n    #menu .subject .side-highlight {\n      background-color: #1A454F;\n      width: 5%;\n      border-bottom: 1px solid rgba(255, 255, 255, 0.1); }\n    #menu .subject .icon-and-text {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: center;\n      background-color: #1A454F;\n      width: 95%;\n      border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n      -webkit-touch-callout: none;\n      /* iOS Safari */\n      -webkit-user-select: none;\n      /* Safari */\n      /* Konqueror HTML */\n      -moz-user-select: none;\n      /* Firefox */\n      -ms-user-select: none;\n      /* Internet Explorer/Edge */\n      user-select: none;\n      /* Non-prefixed version, currently\n\t\t\t                              supported by Chrome and Opera */ }\n      #menu .subject .icon-and-text .menu-icon {\n        font-size: 35px;\n        color: #F5D73F; }\n      #menu .subject .icon-and-text h1 {\n        padding-left: 0;\n        font-family: 'Titillium Web';\n        font-size: 18px;\n        color: #F8F8F8; }\n  #menu .subject:hover {\n    z-index: 1;\n    box-shadow: 0px 0px 57px 19px rgba(0, 0, 0, 0.75); }\n    #menu .subject:hover .side-highlight {\n      background-color: #F5D73F; }\n\n@media only screen and (min-width: 768px) and (max-width: 1024px) {\n  #navbar {\n    height: 5vh;\n    width: 100vw;\n    box-shadow: 0px -3px 5px 0px rgba(0, 0, 0, 0.75);\n    display: flex;\n    flex-direction: row;\n    bottom: 0;\n    padding: 0 10vw;\n    -webkit-touch-callout: none;\n    /* iOS Safari */\n    -webkit-user-select: none;\n    /* Safari */\n    /* Konqueror HTML */\n    -moz-user-select: none;\n    /* Firefox */\n    -ms-user-select: none;\n    /* Internet Explorer/Edge */\n    user-select: none;\n    /* Non-prefixed version, currently\n\t                              supported by Chrome and Opera */ }\n    #navbar ul {\n      display: flex;\n      flex-direciton: row;\n      width: 20vw;\n      margin-top: 0;\n      list-style: none; }\n      #navbar ul .navbar-icon {\n        font-size: 2.5vw; }\n      #navbar ul li {\n        width: 5vw; }\n    #navbar h1 {\n      width: 60vw;\n      font-size: 1.5vw;\n      margin-top: 0;\n      -webkit-transform: rotate(0deg);\n              transform: rotate(0deg);\n      text-align: right;\n      line-height: 5vh;\n      vertical-align: middle; }\n  #wrapper {\n    height: 90vh;\n    margin-left: 0;\n    margin-right: 0;\n    margin-top: 5vh;\n    margin-bottom: 5vh; }\n    #wrapper .page {\n      height: 90vh;\n      overflow-y: scroll; }\n    #wrapper #container {\n      height: 100%;\n      width: 100%; }\n      #wrapper #container #content {\n        width: 100%;\n        height: 100%; }\n        #wrapper #container #content h1 {\n          font-size: 20vw;\n          position: relative;\n          top: -30px; }\n        #wrapper #container #content h2 {\n          font-size: 5vw;\n          position: relative; }\n        #wrapper #container #content ul {\n          position: relative;\n          top: -25px; }\n          #wrapper #container #content ul li {\n            font-size: 3.7vw;\n            display: inline-block;\n            position: relative; }\n    #wrapper #resume #img-and-information {\n      margin-top: 3%; }\n      #wrapper #resume #img-and-information #img #img-wrapper {\n        height: 18vw;\n        width: 18vw;\n        border: 0.8vw solid #1A454F; }\n      #wrapper #resume #img-and-information #img h1 {\n        font-size: 3.5vw; }\n      #wrapper #resume #img-and-information #information {\n        width: 95%;\n        padding: 1% 0;\n        margin-top: 0.5%; }\n        #wrapper #resume #img-and-information #information #info {\n          font-size: 2vw; }\n          #wrapper #resume #img-and-information #information #info #taiwan-img {\n            height: 20px;\n            width: auto; }\n        #wrapper #resume #img-and-information #information #quote {\n          font-size: 2.25vw; }\n    #wrapper #resume #education {\n      margin-top: 5%; }\n      #wrapper #resume #education h2 {\n        font-size: 3.5vw; }\n      #wrapper #resume #education hr {\n        height: 1vw; }\n      #wrapper #resume #education .education-content .education-term {\n        width: 55%; }\n        #wrapper #resume #education .education-content .education-term h3 {\n          font-size: 2.4vw; }\n      #wrapper #resume #education .education-content .education-information {\n        width: 45%; }\n        #wrapper #resume #education .education-content .education-information h4 {\n          font-size: 2.4vw; }\n    #wrapper #resume #skill {\n      margin-bottom: 20px; }\n      #wrapper #resume #skill h2 {\n        font-size: 3.5vw; }\n      #wrapper #resume #skill hr {\n        height: 1vw; }\n      #wrapper #resume #skill #skill-content-wrapper #skill-content-left {\n        width: 66.66667%; }\n      #wrapper #resume #skill #skill-content-wrapper #skill-content-right {\n        width: 33.33333%; }\n      #wrapper #resume #skill #skill-content-wrapper .skill-content h5 {\n        font-size: 2.2vw; }\n      #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper #skill-information-left {\n        width: 50%; }\n      #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper #skill-information-right {\n        width: 50%; }\n      #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper .skill-information h6 {\n        font-size: 2vw;\n        line-height: 5vw; }\n      #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper .skill-information ul li {\n        font-size: 1.8vw;\n        line-height: 3.6vw; }\n        #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper .skill-information ul li span {\n          position: relative;\n          left: 0px; }\n    #wrapper #projects #projects-wrapper .projects-page .projects-page-title h1 {\n      margin-top: 10px;\n      margin-left: 20px;\n      font-size: 5vw;\n      font-weight: 800;\n      color: #1A454F; }\n    #wrapper #projects #projects-wrapper .projects-page .projects-page-description p {\n      max-width: 90%;\n      font-size: 2vw;\n      font-weight: 500;\n      color: #1A454F;\n      margin-top: 10px;\n      margin-left: 25px; }\n      #wrapper #projects #projects-wrapper .projects-page .projects-page-description p a {\n        text-decoration: none;\n        color: #b73c33; }\n        #wrapper #projects #projects-wrapper .projects-page .projects-page-description p a:hover {\n          color: #F5D73F; }\n      #wrapper #projects #projects-wrapper .projects-page .projects-page-description p b {\n        background-color: rgba(244, 241, 66, 0.4);\n        border-radius: 10px; }\n    #wrapper #projects #projects-wrapper .projects-page .projects-page-info {\n      display: flex;\n      flex-direction: column;\n      margin-top: 30px;\n      margin-left: 20px; }\n      #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-skill {\n        width: 100%; }\n        #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-skill h2 {\n          font-size: 3.5vw;\n          font-weight: 800;\n          color: #1A454F; }\n        #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-skill ul {\n          margin-top: 10px;\n          margin-left: 5px;\n          list-style: none; }\n          #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-skill ul li {\n            font-size: 2vw;\n            font-weight: 600;\n            color: #1A454F; }\n      #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-link {\n        width: 100%;\n        margin-top: 30px; }\n        #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-link h2 {\n          font-size: 3.5vw;\n          font-weight: 800;\n          color: #1A454F; }\n        #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-link ul {\n          margin-top: 10px;\n          margin-left: 5px;\n          list-style: none; }\n          #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-link ul li {\n            font-size: 2.2vw;\n            font-weight: 500;\n            color: #1A454F; }\n            #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-link ul li a {\n              text-decoration: none;\n              font-weight: 800;\n              color: #2c518c; }\n              #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-link ul li a:hover {\n                color: #F5D73F; }\n    #wrapper #projects #projects-wrapper .projects-page .projects-page-gif {\n      margin-top: 30px; }\n      #wrapper #projects #projects-wrapper .projects-page .projects-page-gif h2 {\n        font-size: 3.5vw;\n        font-weight: 800;\n        color: #1A454F;\n        margin-left: 20px; }\n      #wrapper #projects #projects-wrapper .projects-page .projects-page-gif .img-wrapper {\n        display: flex;\n        flex-direction: row;\n        overflow-x: scroll;\n        background-color: rgba(26, 69, 79, 0.2);\n        margin-top: 20px; }\n        #wrapper #projects #projects-wrapper .projects-page .projects-page-gif .img-wrapper img {\n          flex-shrink: 0;\n          margin: 10px;\n          width: 500px;\n          align-self: center; }\n    #wrapper #interests {\n      overflow: hidden; }\n      #wrapper #interests ::-webkit-scrollbar {\n        width: 0;\n        height: 0; }\n      #wrapper #interests ::-webkit-scrollbar-button {\n        width: 0;\n        height: 0; }\n      #wrapper #interests #interests-wrapper {\n        position: relative;\n        overflow-y: scroll;\n        overflow-x: hidden;\n        height: 100vw;\n        width: 90vh;\n        -webkit-transform-origin: right top;\n                transform-origin: right top;\n        -webkit-transform: rotate(-90deg);\n                transform: rotate(-90deg);\n        left: -90vh;\n        background-image: url("+r(n(12))+");\n        background-position: center center;\n        background-repeat: no-repeat;\n        background-size: cover; }\n        #wrapper #interests #interests-wrapper .interests-page {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          height: 100vw;\n          width: 90vh;\n          overflow: hidden; }\n          #wrapper #interests #interests-wrapper .interests-page .scroll-text {\n            font-family: 'Permanent Marker';\n            font-size: 4vw;\n            color: #F8F8F8;\n            background-color: rgba(255, 255, 255, 0.2);\n            text-align: center;\n            -webkit-transform: rotate(90deg);\n                    transform: rotate(90deg);\n            border: 0.45vw solid #F8F8F8; }\n          #wrapper #interests #interests-wrapper .interests-page .intro-text {\n            position: relative;\n            font-family: 'Permanent Marker';\n            font-size: 5vw;\n            color: #F8F8F8;\n            background-color: rgba(255, 255, 255, 0.2);\n            text-align: center;\n            -webkit-transform: rotate(90deg);\n                    transform: rotate(90deg); }\n            #wrapper #interests #interests-wrapper .interests-page .intro-text p {\n              background-color: rgba(26, 69, 79, 0.5);\n              font-family: 'KoHo';\n              font-size: 2vw; }\n        #wrapper #interests #interests-wrapper .interests-page:nth-child(2) {\n          background-image: url("+r(n(13))+");\n          background-position: center center;\n          background-repeat: no-repeat;\n          background-size: cover; }\n        #wrapper #interests #interests-wrapper .interests-page:nth-child(3) {\n          background-image: url("+r(n(14))+");\n          background-position: center center;\n          background-repeat: no-repeat;\n          background-size: cover; }\n        #wrapper #interests #interests-wrapper .interests-page:nth-child(4) {\n          background-image: url("+r(n(15))+");\n          background-position: center center;\n          background-repeat: no-repeat;\n          background-size: cover; }\n          #wrapper #interests #interests-wrapper .interests-page:nth-child(4) div {\n            background-color: rgba(0, 0, 0, 0.2); }\n        #wrapper #interests #interests-wrapper .interests-page:nth-child(5) {\n          background-image: url("+r(n(16))+");\n          background-position: center center;\n          background-repeat: no-repeat;\n          background-size: cover; }\n        #wrapper #interests #interests-wrapper .interests-page:nth-child(6) {\n          background-image: url("+r(n(17))+");\n          background-position: center center;\n          background-repeat: no-repeat;\n          background-size: cover; }\n    #wrapper #contact {\n      display: flex;\n      flex-direction: row;\n      padding-top: 3vh;\n      background-color: #F8F8F8; }\n      #wrapper #contact #message-input {\n        width: 50%;\n        padding: 3% 2% 3% 4%; }\n        #wrapper #contact #message-input #message-input-textarea h1 {\n          font-family: 'Open Sans';\n          font-size: 4.2vw;\n          font-weight: 700;\n          color: #1A454F;\n          text-indent: 5px; }\n        #wrapper #contact #message-input #message-input-textarea form #name {\n          display: block;\n          height: 7%;\n          width: 100%;\n          margin: 2% 0;\n          padding: 0 2%;\n          border-radius: 10px;\n          outline: none;\n          font-family: 'Open Sans';\n          font-size: 2vw;\n          font-weight: 500; }\n        #wrapper #contact #message-input #message-input-textarea form #email {\n          display: block;\n          height: 7%;\n          width: 100%;\n          margin: 2% 0;\n          padding: 0 2%;\n          border-radius: 10px;\n          outline: none;\n          font-family: 'Open Sans';\n          font-size: 2vw;\n          font-weight: 500; }\n        #wrapper #contact #message-input #message-input-textarea form #message {\n          display: block;\n          height: 25%;\n          width: 100%;\n          margin: 2% 0;\n          padding: 2% 2%;\n          border-radius: 10px;\n          border-width: 2px;\n          border-style: inset;\n          border-color: currentColor;\n          border-color: initial;\n          -o-border-image: none;\n             border-image: none;\n          -o-border-image: initial;\n             border-image: initial;\n          outline: none;\n          font-family: 'Open Sans';\n          font-size: 2vw;\n          font-weight: 500; }\n        #wrapper #contact #message-input #message-input-textarea form #submit {\n          display: block;\n          height: 7%;\n          width: 100%;\n          margin: 2% 0;\n          border-radius: 10px;\n          outline: none;\n          background-color: #1A454F;\n          color: #F8F8F8;\n          font-family: 'Open Sans';\n          font-size: 2.5vw;\n          font-weight: 700; }\n        #wrapper #contact #message-input #message-input-textarea form #submit:hover {\n          transition: background-color 0.3s ease;\n          background-color: #F5D73F; }\n        #wrapper #contact #message-input #login-as-admin {\n          margin-top: 8vh; }\n          #wrapper #contact #message-input #login-as-admin h1 {\n            font-family: 'Open Sans';\n            font-size: 3.5vw;\n            font-weight: 700;\n            color: #1A454F;\n            text-indent: 5px; }\n          #wrapper #contact #message-input #login-as-admin form #username {\n            display: block;\n            height: 5%;\n            width: 100%;\n            margin: 2% 0;\n            padding: 0 2%;\n            border-radius: 10px;\n            outline: none;\n            font-family: 'Open Sans';\n            font-size: 2vw;\n            font-weight: 500; }\n          #wrapper #contact #message-input #login-as-admin form #password {\n            display: block;\n            height: 5%;\n            width: 100%;\n            margin: 2% 0;\n            padding: 0 2%;\n            border-radius: 10px;\n            outline: none;\n            font-family: 'Open Sans';\n            font-size: 2vw;\n            font-weight: 500; }\n          #wrapper #contact #message-input #login-as-admin form #login {\n            display: block;\n            height: 7%;\n            width: 100%;\n            margin: 2% 0;\n            border-radius: 10px;\n            outline: none;\n            background-color: #1A454F;\n            color: #F8F8F8;\n            font-family: 'Open Sans';\n            font-size: 2.5vw;\n            font-weight: 700; }\n          #wrapper #contact #message-input #login-as-admin form #login:hover {\n            transition: background-color 0.3s ease;\n            background-color: #F5D73F; }\n          #wrapper #contact #message-input #login-as-admin #logout {\n            display: block;\n            height: 7%;\n            width: 100%;\n            margin: 2% 0;\n            border-radius: 10px;\n            outline: none;\n            background-color: #1A454F;\n            color: #F8F8F8;\n            font-family: 'Open Sans';\n            font-size: 1.5vw;\n            font-weight: 700; }\n          #wrapper #contact #message-input #login-as-admin #logout:hover {\n            transition: background-color 0.3s ease;\n            background-color: #F5D73F; }\n      #wrapper #contact #message-list {\n        width: 50%;\n        padding: 3% 4%; }\n        #wrapper #contact #message-list h2 {\n          color: #1A454F;\n          font-family: 'Open Sans';\n          font-size: 2.5vw;\n          font-weight: 700; }\n        #wrapper #contact #message-list hr {\n          display: block;\n          margin: 0.5% auto;\n          height: 1vw;\n          background-color: #1A454F;\n          border: 0; }\n        #wrapper #contact #message-list #message-list-wrapper {\n          display: flex;\n          flex-direction: column;\n          max-height: 82%;\n          max-width: 100%;\n          overflow: scroll; }\n          #wrapper #contact #message-list #message-list-wrapper .message-block {\n            width: 90%;\n            padding: 5% 5%;\n            min-height: 15%;\n            font-family: 'Open Sans', 'Noto Sans TC';\n            color: #1A454F;\n            border-bottom: 1px solid #1A454F; }\n            #wrapper #contact #message-list #message-list-wrapper .message-block .message-author {\n              display: inline-block;\n              width: 50%;\n              text-align: left;\n              font-size: 1.6vw;\n              font-weight: 900; }\n            #wrapper #contact #message-list #message-list-wrapper .message-block .message-datetime {\n              display: inline-block;\n              width: 50%;\n              font-size: 1.4vw;\n              text-align: right; }\n            #wrapper #contact #message-list #message-list-wrapper .message-block .message-text {\n              display: block;\n              height: auto;\n              width: 100%;\n              padding-top: 3%;\n              font-size: 1.4vw;\n              white-space: pre-wrap;\n              word-wrap: break-word;\n              word-break: break-all; }\n            #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-input {\n              display: block;\n              height: 25%;\n              width: 100%;\n              margin: 2% 0;\n              padding: 2% 2%;\n              border-radius: 10px;\n              border-width: 2px;\n              border-style: inset;\n              border-color: currentColor;\n              border-color: initial;\n              -o-border-image: none;\n                 border-image: none;\n              -o-border-image: initial;\n                 border-image: initial;\n              outline: none;\n              font-size: 1.4vw;\n              font-weight: 500; }\n            #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-submit {\n              display: block;\n              height: 7%;\n              width: 100%;\n              margin: 2% 0;\n              border-radius: 10px;\n              outline: none;\n              background-color: #1A454F;\n              color: #F8F8F8;\n              font-size: 1.7vw;\n              font-weight: 700; }\n            #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-submit:hover {\n              transition: background-color 0.3s ease;\n              background-color: #F5D73F; }\n            #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-wrapper {\n              background-color: #1A454F;\n              border-radius: 5px;\n              padding: 3%;\n              margin-top: 3%; }\n              #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-wrapper .message-reply-author {\n                display: inline-block;\n                width: 50%;\n                text-align: left;\n                font-size: 1.6vw;\n                font-weight: 900;\n                color: #F5D73F; }\n              #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-wrapper .message-reply-datetime {\n                display: inline-block;\n                width: 50%;\n                font-size: 1.4vw;\n                text-align: right;\n                color: #F8F8F8; }\n              #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-wrapper .message-reply-text {\n                display: block;\n                min-height: 7%;\n                height: auto;\n                width: 100%;\n                padding-top: 3%;\n                font-size: 1.4vw;\n                color: #F8F8F8;\n                white-space: pre-wrap;\n                word-wrap: break-word;\n                word-break: break-all; }\n          #wrapper #contact #message-list #message-list-wrapper .message-block-appear {\n            opacity: 0;\n            background-color: #F5D73F; }\n          #wrapper #contact #message-list #message-list-wrapper .message-block-appear.message-block-appear-active {\n            opacity: 1;\n            background-color: #F8F8F8;\n            transition: all 2000ms ease;\n            /* ease (default) */ }\n  #menu {\n    position: fixed;\n    top: 0;\n    bottom: 95vh;\n    display: flex;\n    flex-direction: row;\n    height: 5vh;\n    width: 100vw;\n    box-shadow: 0px 3px 5px 0px rgba(0, 0, 0, 0.75); }\n    #menu .subject {\n      width: 20%;\n      height: 100%; }\n      #menu .subject .side-highlight {\n        display: none;\n        width: 0%; }\n      #menu .subject .icon-and-text {\n        display: flex;\n        flex-direction: row;\n        justify-content: space-around;\n        align-items: center;\n        padding: 0 5px;\n        width: 100%;\n        border-right: 1px solid rgba(255, 255, 255, 0.1);\n        border-bottom: 0px;\n        -webkit-touch-callout: none;\n        /* iOS Safari */\n        -webkit-user-select: none;\n        /* Safari */\n        /* Konqueror HTML */\n        -moz-user-select: none;\n        /* Firefox */\n        -ms-user-select: none;\n        /* Internet Explorer/Edge */\n        user-select: none;\n        /* Non-prefixed version, currently\n\t\t\t                              supported by Chrome and Opera */ }\n        #menu .subject .icon-and-text .menu-icon {\n          font-size: 2vw; }\n        #menu .subject .icon-and-text h1 {\n          font-size: 1.8vw; }\n    #menu .subject:hover {\n      z-index: 1;\n      box-shadow: 0px 0px 57px 19px rgba(0, 0, 0, 0.75); } }\n\n@media only screen and (max-width: 767px) {\n  * {\n    -webkit-touch-callout: none;\n    /* iOS Safari */\n    -webkit-user-select: none;\n    /* Safari */\n    /* Konqueror HTML */\n    -moz-user-select: none;\n    /* Firefox */\n    -ms-user-select: none;\n    /* Internet Explorer/Edge */\n    user-select: none;\n    /* Non-prefixed version, currently\n\t                              supported by Chrome and Opera */ }\n  #navbar {\n    height: 0;\n    width: 0;\n    z-index: -999;\n    display: none; }\n  #wrapper {\n    height: 95vh;\n    margin-left: 0;\n    margin-right: 0;\n    margin-top: 0vh;\n    margin-bottom: 5vh; }\n    #wrapper .page {\n      height: 95vh;\n      overflow-y: scroll; }\n    #wrapper #container {\n      height: 100%;\n      width: 100%; }\n      #wrapper #container #content {\n        width: 100%;\n        height: 100%; }\n        #wrapper #container #content h1 {\n          font-size: 25vw;\n          position: relative;\n          top: -25px; }\n        #wrapper #container #content h2 {\n          font-size: 7vw;\n          position: relative; }\n        #wrapper #container #content ul {\n          position: relative;\n          top: -25px; }\n          #wrapper #container #content ul li {\n            font-size: 5.5vw;\n            display: inline-block;\n            position: relative; }\n    #wrapper #resume #img-and-information {\n      margin-top: 3%; }\n      #wrapper #resume #img-and-information #img #img-wrapper {\n        height: 40vw;\n        width: 40vw;\n        border: 2vw solid #1A454F; }\n      #wrapper #resume #img-and-information #img h1 {\n        font-size: 9vw; }\n      #wrapper #resume #img-and-information #information {\n        width: 95%;\n        padding: 1% 0;\n        margin-top: 0.5%; }\n        #wrapper #resume #img-and-information #information #info {\n          font-size: 4vw; }\n          #wrapper #resume #img-and-information #information #info #taiwan-img {\n            height: 20px;\n            width: auto; }\n        #wrapper #resume #img-and-information #information #quote {\n          font-size: 5vw; }\n    #wrapper #resume #education {\n      margin-top: 10%; }\n      #wrapper #resume #education h2 {\n        font-size: 7vw; }\n      #wrapper #resume #education hr {\n        height: 3vw; }\n      #wrapper #resume #education .education-content .education-term {\n        width: 40%; }\n        #wrapper #resume #education .education-content .education-term h3 {\n          font-size: 4.2vw; }\n      #wrapper #resume #education .education-content .education-information {\n        width: 60%; }\n        #wrapper #resume #education .education-content .education-information h4 {\n          font-size: 5vw; }\n    #wrapper #resume #skill {\n      margin-bottom: 20px; }\n      #wrapper #resume #skill h2 {\n        margin-left: 2.5%;\n        font-family: 'Open Sans';\n        font-size: 7vw;\n        font-weight: 900;\n        color: #1A454F; }\n      #wrapper #resume #skill hr {\n        display: block;\n        margin: 0.5% auto;\n        width: 95%;\n        height: 3vw;\n        background-color: #1A454F;\n        border: 0; }\n      #wrapper #resume #skill #skill-content-wrapper {\n        display: flex;\n        flex-direction: column;\n        width: 95%;\n        height: auto;\n        margin: 0 2.5%; }\n        #wrapper #resume #skill #skill-content-wrapper #skill-content-left {\n          width: 100%; }\n        #wrapper #resume #skill #skill-content-wrapper #skill-content-right {\n          margin-top: 10%;\n          width: 100%; }\n        #wrapper #resume #skill #skill-content-wrapper .skill-content h5 {\n          background-color: #1A454F;\n          color: #F5D73F;\n          font-family: 'Open Sans';\n          font-size: 5vw;\n          font-weight: 500;\n          text-indent: 5px; }\n        #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper {\n          display: flex;\n          flex-direction: column; }\n          #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper #skill-information-left {\n            width: 100%; }\n          #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper #skill-information-right {\n            width: 100%; }\n          #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper .skill-information {\n            margin-top: 1%;\n            margin-bottom: 3%;\n            display: flex;\n            flex-direction: row; }\n            #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper .skill-information h6 {\n              width: 30%;\n              color: #1A454F;\n              font-family: 'Open Sans';\n              font-size: 4.5vw;\n              font-weight: 600;\n              text-indent: 5px; }\n            #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper .skill-information ul {\n              width: 70%;\n              padding-left: -5px; }\n              #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper .skill-information ul li {\n                color: #1A454F;\n                font-family: 'Open Sans';\n                font-size: 4.5vw;\n                font-weight: 400;\n                text-indent: 20px;\n                list-style-position: inside; }\n                #wrapper #resume #skill #skill-content-wrapper .skill-content #skill-information-wrapper .skill-information ul li span {\n                  position: relative;\n                  left: 0px; }\n    #wrapper #projects .direction-btn {\n      display: none; }\n    #wrapper #projects #projects-wrapper {\n      height: 100%;\n      width: 100%;\n      overflow-x: auto;\n      overflow-y: scroll;\n      display: flex;\n      flex-direction: column; }\n      #wrapper #projects #projects-wrapper .projects-page {\n        height: auto;\n        width: 100%;\n        overflow-y: scroll;\n        padding: 10px 0;\n        flex-shrink: 0;\n        font-family: 'Open Sans'; }\n        #wrapper #projects #projects-wrapper .projects-page .projects-page-title h1 {\n          margin-top: 10px;\n          margin-left: 10px;\n          font-size: 8.2vw;\n          font-weight: 800;\n          color: #1A454F; }\n        #wrapper #projects #projects-wrapper .projects-page .projects-page-description p {\n          max-width: 90%;\n          font-size: 5vw;\n          font-weight: 500;\n          color: #1A454F;\n          margin-top: 10px;\n          margin-left: 15px; }\n          #wrapper #projects #projects-wrapper .projects-page .projects-page-description p a {\n            text-decoration: none;\n            color: #b73c33; }\n            #wrapper #projects #projects-wrapper .projects-page .projects-page-description p a:hover {\n              color: #F5D73F; }\n          #wrapper #projects #projects-wrapper .projects-page .projects-page-description p b {\n            background-color: rgba(244, 241, 66, 0.4);\n            border-radius: 10px; }\n        #wrapper #projects #projects-wrapper .projects-page .projects-page-info {\n          display: flex;\n          flex-direction: column;\n          margin-top: 20px;\n          margin-left: 10px; }\n          #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-skill {\n            width: 100%; }\n            #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-skill h2 {\n              font-size: 7vw;\n              font-weight: 800;\n              color: #1A454F; }\n            #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-skill ul {\n              margin-top: 10px;\n              margin-left: 5px;\n              list-style: none; }\n              #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-skill ul li {\n                font-size: 5vw;\n                font-weight: 600;\n                color: #1A454F; }\n          #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-link {\n            margin-top: 20px;\n            width: 100%; }\n            #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-link h2 {\n              font-size: 7vw;\n              font-weight: 800;\n              color: #1A454F; }\n            #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-link ul {\n              display: flex;\n              flex-direction: row;\n              margin-top: 10px;\n              margin-left: 5px;\n              list-style: none; }\n              #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-link ul li {\n                font-size: 5vw;\n                font-weight: 500;\n                color: #1A454F;\n                width: 50%; }\n                #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-link ul li a {\n                  text-decoration: none;\n                  font-weight: 800;\n                  color: #2c518c; }\n                  #wrapper #projects #projects-wrapper .projects-page .projects-page-info .projects-page-link ul li a:hover {\n                    color: #F5D73F; }\n        #wrapper #projects #projects-wrapper .projects-page .projects-page-gif {\n          margin-top: 20px; }\n          #wrapper #projects #projects-wrapper .projects-page .projects-page-gif h2 {\n            font-size: 7vw;\n            font-weight: 800;\n            color: #1A454F;\n            margin-left: 10px; }\n          #wrapper #projects #projects-wrapper .projects-page .projects-page-gif .img-wrapper {\n            display: flex;\n            flex-direction: row;\n            overflow-x: scroll;\n            background-color: rgba(26, 69, 79, 0.2);\n            margin-top: 10px; }\n            #wrapper #projects #projects-wrapper .projects-page .projects-page-gif .img-wrapper img {\n              flex-shrink: 0;\n              margin: 10px;\n              width: 100%;\n              align-self: center; }\n    #wrapper #interests {\n      overflow: hidden; }\n      #wrapper #interests ::-webkit-scrollbar {\n        width: 0;\n        height: 0; }\n      #wrapper #interests ::-webkit-scrollbar-button {\n        width: 0;\n        height: 0; }\n      #wrapper #interests #interests-wrapper {\n        position: relative;\n        overflow-y: scroll;\n        overflow-x: hidden;\n        height: 100vw;\n        width: 95vh;\n        -webkit-transform-origin: right top;\n                transform-origin: right top;\n        -webkit-transform: rotate(-90deg);\n                transform: rotate(-90deg);\n        left: -95vh;\n        background-image: url("+r(n(12))+");\n        background-position: center center;\n        background-repeat: no-repeat;\n        background-size: cover; }\n        #wrapper #interests #interests-wrapper .interests-page {\n          display: flex;\n          flex-direction: column;\n          justify-content: center;\n          height: 100vw;\n          width: 95vh;\n          overflow: hidden; }\n          #wrapper #interests #interests-wrapper .interests-page .scroll-text {\n            font-family: 'Permanent Marker';\n            font-size: 4vw;\n            color: #F8F8F8;\n            background-color: rgba(255, 255, 255, 0.2);\n            text-align: center;\n            -webkit-transform: rotate(90deg);\n                    transform: rotate(90deg);\n            width: 100vw;\n            border: 0.45vw solid #F8F8F8; }\n          #wrapper #interests #interests-wrapper .interests-page .intro-text {\n            position: relative;\n            font-family: 'Permanent Marker';\n            font-size: 10vw;\n            color: #F8F8F8;\n            background-color: rgba(255, 255, 255, 0.2);\n            text-align: center;\n            -webkit-transform: rotate(90deg);\n                    transform: rotate(90deg);\n            width: 100vw; }\n            #wrapper #interests #interests-wrapper .interests-page .intro-text p {\n              background-color: rgba(26, 69, 79, 0.5);\n              font-family: 'KoHo';\n              font-size: 4vw; }\n        #wrapper #interests #interests-wrapper .interests-page:nth-child(2) {\n          background-image: url("+r(n(13))+");\n          background-position: center center;\n          background-repeat: no-repeat;\n          background-size: cover; }\n        #wrapper #interests #interests-wrapper .interests-page:nth-child(3) {\n          background-image: url("+r(n(14))+");\n          background-position: center center;\n          background-repeat: no-repeat;\n          background-size: cover; }\n        #wrapper #interests #interests-wrapper .interests-page:nth-child(4) {\n          background-image: url("+r(n(15))+");\n          background-position: center center;\n          background-repeat: no-repeat;\n          background-size: cover; }\n          #wrapper #interests #interests-wrapper .interests-page:nth-child(4) div {\n            background-color: rgba(0, 0, 0, 0.2); }\n        #wrapper #interests #interests-wrapper .interests-page:nth-child(5) {\n          background-image: url("+r(n(16))+");\n          background-position: center center;\n          background-repeat: no-repeat;\n          background-size: cover; }\n        #wrapper #interests #interests-wrapper .interests-page:nth-child(6) {\n          background-image: url("+r(n(17))+");\n          background-position: center center;\n          background-repeat: no-repeat;\n          background-size: cover; }\n    #wrapper #contact {\n      display: flex;\n      flex-direction: column;\n      padding: 3vh 0;\n      width: 100vw;\n      background-color: #F8F8F8; }\n      #wrapper #contact #message-input {\n        display: block;\n        margin: auto;\n        width: 90%;\n        padding: 0; }\n        #wrapper #contact #message-input #message-input-textarea h1 {\n          font-family: 'Open Sans';\n          font-size: 9.2vw;\n          font-weight: 700;\n          color: #1A454F;\n          text-indent: 0;\n          text-align: center; }\n        #wrapper #contact #message-input #message-input-textarea form #name {\n          display: block;\n          height: 7%;\n          width: 100%;\n          margin: 2% 0;\n          padding: 0 2%;\n          border-radius: 10px;\n          outline: none;\n          font-family: 'Open Sans';\n          font-size: 5vw;\n          font-weight: 500; }\n        #wrapper #contact #message-input #message-input-textarea form #email {\n          display: block;\n          height: 7%;\n          width: 100%;\n          margin: 2% 0;\n          padding: 0 2%;\n          border-radius: 10px;\n          outline: none;\n          font-family: 'Open Sans';\n          font-size: 5vw;\n          font-weight: 500; }\n        #wrapper #contact #message-input #message-input-textarea form #message {\n          display: block;\n          height: 25%;\n          width: 100%;\n          margin: 2% 0;\n          padding: 2% 2%;\n          border-radius: 10px;\n          border-width: 2px;\n          border-style: inset;\n          border-color: currentColor;\n          border-color: initial;\n          -o-border-image: none;\n             border-image: none;\n          -o-border-image: initial;\n             border-image: initial;\n          outline: none;\n          font-family: 'Open Sans';\n          font-size: 5vw;\n          font-weight: 500; }\n        #wrapper #contact #message-input #message-input-textarea form #submit {\n          display: block;\n          height: 7%;\n          width: 100%;\n          margin: 2% 0;\n          border-radius: 10px;\n          outline: none;\n          background-color: #1A454F;\n          color: #F8F8F8;\n          font-family: 'Open Sans';\n          font-size: 6vw;\n          font-weight: 700; }\n        #wrapper #contact #message-input #message-input-textarea form #submit:hover {\n          transition: background-color 0.3s ease;\n          background-color: #F5D73F; }\n        #wrapper #contact #message-input #login-as-admin {\n          margin-top: 8vh; }\n          #wrapper #contact #message-input #login-as-admin h1 {\n            font-family: 'Open Sans';\n            font-size: 9.2vw;\n            font-weight: 700;\n            color: #1A454F;\n            text-indent: 0;\n            text-align: center; }\n          #wrapper #contact #message-input #login-as-admin form #username {\n            display: block;\n            height: 7%;\n            width: 100%;\n            margin: 2% 0;\n            padding: 0 2%;\n            border-radius: 10px;\n            outline: none;\n            font-family: 'Open Sans';\n            font-size: 5vw;\n            font-weight: 500; }\n          #wrapper #contact #message-input #login-as-admin form #password {\n            display: block;\n            height: 7%;\n            width: 100%;\n            margin: 2% 0;\n            padding: 0 2%;\n            border-radius: 10px;\n            outline: none;\n            font-family: 'Open Sans';\n            font-size: 5vw;\n            font-weight: 500; }\n          #wrapper #contact #message-input #login-as-admin form #login {\n            display: block;\n            height: 7%;\n            width: 100%;\n            margin: 2% 0;\n            border-radius: 10px;\n            outline: none;\n            background-color: #1A454F;\n            color: #F8F8F8;\n            font-family: 'Open Sans';\n            font-size: 6vw;\n            font-weight: 700; }\n          #wrapper #contact #message-input #login-as-admin form #login:hover {\n            transition: background-color 0.3s ease;\n            background-color: #F5D73F; }\n          #wrapper #contact #message-input #login-as-admin #logout {\n            display: block;\n            height: 7%;\n            width: 100%;\n            margin: 2% 0;\n            border-radius: 10px;\n            outline: none;\n            background-color: #1A454F;\n            color: #F8F8F8;\n            font-family: 'Open Sans';\n            font-size: 6vw;\n            font-weight: 700; }\n          #wrapper #contact #message-input #login-as-admin #logout:hover {\n            transition: background-color 0.3s ease;\n            background-color: #F5D73F; }\n      #wrapper #contact #message-list {\n        display: block;\n        margin: auto;\n        width: 90%;\n        height: auto;\n        padding: 0;\n        margin-top: 10%;\n        margin-bottom: 5%; }\n        #wrapper #contact #message-list h2 {\n          color: #1A454F;\n          font-family: 'Open Sans';\n          font-size: 7vw;\n          font-weight: 700; }\n        #wrapper #contact #message-list hr {\n          display: block;\n          margin: 0.5% auto;\n          height: 3vw;\n          background-color: #1A454F;\n          border: 0; }\n        #wrapper #contact #message-list #message-list-wrapper {\n          display: flex;\n          flex-direction: column;\n          max-height: none;\n          max-width: 100%;\n          overflow: auto; }\n          #wrapper #contact #message-list #message-list-wrapper .message-block {\n            width: 90%;\n            padding: 5% 5%;\n            min-height: 15%;\n            font-family: 'Open Sans', 'Noto Sans TC';\n            color: #1A454F;\n            border-bottom: 1px solid #1A454F; }\n            #wrapper #contact #message-list #message-list-wrapper .message-block .message-author {\n              display: inline-block;\n              width: 50%;\n              text-align: left;\n              font-size: 5.5vw;\n              font-weight: 900; }\n            #wrapper #contact #message-list #message-list-wrapper .message-block .message-datetime {\n              display: inline-block;\n              width: 50%;\n              font-size: 4.5vw;\n              text-align: right; }\n            #wrapper #contact #message-list #message-list-wrapper .message-block .message-text {\n              display: block;\n              height: auto;\n              width: 100%;\n              padding-top: 3%;\n              font-size: 5vw;\n              white-space: pre-wrap;\n              word-wrap: break-word;\n              word-break: break-all; }\n            #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-input {\n              display: block;\n              height: 25%;\n              width: 100%;\n              margin: 2% 0;\n              padding: 2% 2%;\n              border-radius: 10px;\n              border-width: 2px;\n              border-style: inset;\n              border-color: currentColor;\n              border-color: initial;\n              -o-border-image: none;\n                 border-image: none;\n              -o-border-image: initial;\n                 border-image: initial;\n              outline: none;\n              font-size: 5vw;\n              font-weight: 500; }\n            #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-submit {\n              display: block;\n              height: 7%;\n              width: 100%;\n              margin: 2% 0;\n              border-radius: 10px;\n              outline: none;\n              background-color: #1A454F;\n              color: #F8F8F8;\n              font-size: 5vw;\n              font-weight: 700; }\n            #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-submit:hover {\n              transition: background-color 0.3s ease;\n              background-color: #F5D73F; }\n            #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-wrapper {\n              background-color: #1A454F;\n              border-radius: 5px;\n              padding: 3%;\n              margin-top: 7%; }\n              #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-wrapper .message-reply-author {\n                display: inline-block;\n                width: 50%;\n                text-align: left;\n                font-size: 5vw;\n                font-weight: 900;\n                color: #F5D73F; }\n              #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-wrapper .message-reply-datetime {\n                display: inline-block;\n                width: 50%;\n                font-size: 4.5vw;\n                text-align: right;\n                color: #F8F8F8; }\n              #wrapper #contact #message-list #message-list-wrapper .message-block .message-reply-wrapper .message-reply-text {\n                display: block;\n                min-height: 7%;\n                height: auto;\n                width: 100%;\n                padding-top: 3%;\n                font-size: 5vw;\n                color: #F8F8F8;\n                white-space: pre-wrap;\n                word-wrap: break-word;\n                word-break: break-all; }\n          #wrapper #contact #message-list #message-list-wrapper .message-block-appear {\n            opacity: 0;\n            background-color: #F5D73F; }\n          #wrapper #contact #message-list #message-list-wrapper .message-block-appear.message-block-appear-active {\n            opacity: 1;\n            background-color: #F8F8F8;\n            transition: all 2000ms ease;\n            /* ease (default) */ }\n  #menu {\n    position: fixed;\n    top: 95vh;\n    bottom: 0;\n    display: flex;\n    flex-direction: row;\n    height: 5vh;\n    width: 100vw;\n    z-index: 1;\n    box-shadow: 0px 3px 5px 0px rgba(0, 0, 0, 0.75); }\n    #menu .subject {\n      width: 20%;\n      height: 100%; }\n      #menu .subject .side-highlight {\n        display: none;\n        width: 0%; }\n      #menu .subject .icon-and-text {\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items: center;\n        padding: 0 5px;\n        width: 100%;\n        border-right: 1px solid rgba(255, 255, 255, 0.1);\n        border-bottom: 0px;\n        -webkit-touch-callout: none;\n        /* iOS Safari */\n        -webkit-user-select: none;\n        /* Safari */\n        /* Konqueror HTML */\n        -moz-user-select: none;\n        /* Firefox */\n        -ms-user-select: none;\n        /* Internet Explorer/Edge */\n        user-select: none;\n        /* Non-prefixed version, currently\n\t\t\t                              supported by Chrome and Opera */ }\n        #menu .subject .icon-and-text .menu-icon {\n          display: none;\n          font-size: 3vw; }\n        #menu .subject .icon-and-text h1 {\n          font-size: 3.5vw; }\n    #menu .subject:hover {\n      z-index: 1;\n      box-shadow: 0px 0px 57px 19px rgba(0, 0, 0, 0.75); } }\n",""])},function(e,t){e.exports=function(e){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=function(e){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(e))))+" */"}(r),o=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(o).concat([i]).join("\n")}return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<e.length;i++){var a=e[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){e.exports=n.p+"4069a5a2b15524f00b700d9464d1ca16.gif"},function(e,t,n){var r={},i=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),o=function(e){var t={};return function(e,n){if("function"==typeof e)return e();if(void 0===t[e]){var r=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}t[e]=r}return t[e]}}(),a=null,s=0,u=[],c=n(70);function l(e,t){for(var n=0;n<e.length;n++){var i=e[n],o=r[i.id];if(o){o.refs++;for(var a=0;a<o.parts.length;a++)o.parts[a](i.parts[a]);for(;a<i.parts.length;a++)o.parts.push(g(i.parts[a],t))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(g(i.parts[a],t));r[i.id]={id:i.id,refs:1,parts:s}}}}function h(e,t){for(var n=[],r={},i=0;i<e.length;i++){var o=e[i],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function f(e,t){var n=o(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=o(e.insertAt.before,n);n.insertBefore(t,i)}}function p(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function d(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var r=function(){0;return n.nc}();r&&(e.attrs.nonce=r)}return m(t,e.attrs),f(e,t),t}function m(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function g(e,t){var n,r,i,o;if(t.transform&&e.css){if(!(o="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=o}if(t.singleton){var u=s++;n=a||(a=d(t)),r=v.bind(null,n,u,!1),i=v.bind(null,n,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",m(t,e.attrs),f(e,t),t}(t),r=function(e,t,n){var r=n.css,i=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&i;(t.convertToAbsoluteUrls||o)&&(r=c(r));i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),i=function(){p(n),n.href&&URL.revokeObjectURL(n.href)}):(n=d(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),i=function(){p(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=h(e,t);return l(n,t),function(e){for(var i=[],o=0;o<n.length;o++){var a=n[o];(s=r[a.id]).refs--,i.push(s)}e&&l(h(e,t),t);for(o=0;o<i.length;o++){var s;if(0===(s=i[o]).refs){for(var u=0;u<s.parts.length;u++)s.parts[u]();delete r[s.id]}}}};var y=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function v(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var i,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(e,t,n){"use strict";n.r(t);var r=n(0),i=n.n(r),o=n(6),a=n.n(o),s=n(2),u=n.n(s),c=(n(7),n(4)),l=n(5),h={prefix:"fab",iconName:"codepen",icon:[512,512,[],"f1cb","M502.285 159.704l-234-156c-7.987-4.915-16.511-4.96-24.571 0l-234 156C3.714 163.703 0 170.847 0 177.989v155.999c0 7.143 3.714 14.286 9.715 18.286l234 156.022c7.987 4.915 16.511 4.96 24.571 0l234-156.022c6-3.999 9.715-11.143 9.715-18.286V177.989c-.001-7.142-3.715-14.286-9.716-18.285zM278 63.131l172.286 114.858-76.857 51.429L278 165.703V63.131zm-44 0v102.572l-95.429 63.715-76.857-51.429L234 63.131zM44 219.132l55.143 36.857L44 292.846v-73.714zm190 229.715L61.714 333.989l76.857-51.429L234 346.275v102.572zm22-140.858l-77.715-52 77.715-52 77.715 52-77.715 52zm22 140.858V346.275l95.429-63.715 76.857 51.429L278 448.847zm190-156.001l-55.143-36.857L468 219.132v73.714z"]},f={prefix:"fab",iconName:"facebook",icon:[448,512,[],"f09a","M448 56.7v398.5c0 13.7-11.1 24.7-24.7 24.7H309.1V306.5h58.2l8.7-67.6h-67v-43.2c0-19.6 5.4-32.9 33.5-32.9h35.8v-60.5c-6.2-.8-27.4-2.7-52.2-2.7-51.6 0-87 31.5-87 89.4v49.9h-58.4v67.6h58.4V480H24.7C11.1 480 0 468.9 0 455.3V56.7C0 43.1 11.1 32 24.7 32h398.5c13.7 0 24.8 11.1 24.8 24.7z"]},p={prefix:"fab",iconName:"github",icon:[496,512,[],"f09b","M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"]},d={prefix:"fab",iconName:"instagram",icon:[448,512,[],"f16d","M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"]};function m(e){return i.a.createElement("div",{id:"navbar"},i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("a",{herf:"#"},i.a.createElement(l.a,{icon:["fab","github"],className:"navbar-icon"}))),i.a.createElement("li",null,i.a.createElement("a",{herf:"#"},i.a.createElement(l.a,{icon:["fab","codepen"],className:"navbar-icon"}))),i.a.createElement("li",null,i.a.createElement("a",{herf:"#"},i.a.createElement(l.a,{icon:["fab","facebook"],className:"navbar-icon"}))),i.a.createElement("li",null,i.a.createElement("a",{herf:"#"},i.a.createElement(l.a,{icon:["fab","instagram"],className:"navbar-icon"})))),i.a.createElement("h1",null,"Copyright © Colin Lin 2018. All Rights Reserved"))}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}c.b.add(p),c.b.add(h),c.b.add(f),c.b.add(d);var _=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==g(t)&&"function"!=typeof t?w(e):t}(this,v(t).call(this,e))).state={currentColor:0,flyingTextMount1:!0,flyingTextMount2:!1},n.colorTransition=n.colorTransition.bind(w(w(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(t,i.a.Component),function(e,t,n){t&&y(e.prototype,t),n&&y(e,n)}(t,[{key:"colorTransition",value:function(){var e=document.getElementById("content"),t=this.state.currentColor+1;t>3&&(t=0),this.setState({currentColor:t}),e.style.backgroundColor=["rgba(248, 248, 248, 0.7)","rgba(26, 69, 79, 0.7)","rgba(168, 164, 114, 0.7)","rgba(47, 83, 122, 0.7)"][t]}},{key:"componentDidMount",value:function(){var e=this;setInterval(function(){e.colorTransition()},5e3);var t=1;setTimeout(function(){e.setState({flyingTextMount1:!1,flyingTextMount2:!1})},7e3),setInterval(function(){1==t?(e.setState({flyingTextMount1:!1,flyingTextMount2:!0}),t=2):(e.setState({flyingTextMount1:!0,flyingTextMount2:!1}),t=1),setTimeout(function(){e.setState({flyingTextMount1:!1,flyingTextMount2:!1})},7e3)},11e3)}},{key:"render",value:function(){return i.a.createElement("div",{id:"container",className:"page"},i.a.createElement("div",{id:"content"},i.a.createElement(u.a,{transitionName:"text",transitionEnter:!1,transitionLeave:!1,transitionAppear:!0,transitionAppearTimeout:3e3},i.a.createElement("h2",null,"Hey, I'm")),i.a.createElement(u.a,{transitionName:"text0",transitionEnter:!1,transitionLeave:!1,transitionAppear:!0,transitionAppearTimeout:3e3},i.a.createElement("h1",null,"Colin")),i.a.createElement(E,{flyingTextMount1:this.state.flyingTextMount1,flyingTextMount2:this.state.flyingTextMount2})))}}]),t}();function E(e){return i.a.createElement("ul",null,i.a.createElement(u.a,{transitionName:"text1",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:4e3,transitionEnterTimeout:4e3,transitionLeaveTimeout:4e3},e.flyingTextMount1&&i.a.createElement("li",{key:"1"},"A")),e.flyingTextMount1&&i.a.createElement("li",{key:"2"},"   "),i.a.createElement(u.a,{transitionName:"text2",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:3700,transitionEnterTimeout:3700,transitionLeaveTimeout:3700},e.flyingTextMount1&&i.a.createElement("li",{key:"3"},"W")),i.a.createElement(u.a,{transitionName:"text3",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:3400,transitionEnterTimeout:3400,transitionLeaveTimeout:3400},e.flyingTextMount1&&i.a.createElement("li",{key:"4"},"e")),i.a.createElement(u.a,{transitionName:"text4",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:3100,transitionEnterTimeout:3100,transitionLeaveTimeout:3100},e.flyingTextMount1&&i.a.createElement("li",{key:"5"},"b")),e.flyingTextMount1&&i.a.createElement("li",null,"   "),i.a.createElement(u.a,{transitionName:"text5",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:2800,transitionEnterTimeout:2800,transitionLeaveTimeout:2800},e.flyingTextMount1&&i.a.createElement("li",{key:"6"},"D")),i.a.createElement(u.a,{transitionName:"text6",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:2500,transitionEnterTimeout:2500,transitionLeaveTimeout:2500},e.flyingTextMount1&&i.a.createElement("li",{key:"7"},"e")),i.a.createElement(u.a,{transitionName:"text7",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:2200,transitionEnterTimeout:2200,transitionLeaveTimeout:2200},e.flyingTextMount1&&i.a.createElement("li",{key:"8"},"v")),i.a.createElement(u.a,{transitionName:"text8",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:1900,transitionEnterTimeout:1900,transitionLeaveTimeout:1900},e.flyingTextMount1&&i.a.createElement("li",{key:"9"},"e")),i.a.createElement(u.a,{transitionName:"text9",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:1600,transitionEnterTimeout:1600,transitionLeaveTimeout:1600},e.flyingTextMount1&&i.a.createElement("li",{key:"10"},"l")),i.a.createElement(u.a,{transitionName:"text10",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:1300,transitionEnterTimeout:1300,transitionLeaveTimeout:1300},e.flyingTextMount1&&i.a.createElement("li",{key:"11"},"o")),i.a.createElement(u.a,{transitionName:"text11",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:1e3,transitionEnterTimeout:1e3,transitionLeaveTimeout:1e3},e.flyingTextMount1&&i.a.createElement("li",{key:"12"},"p")),i.a.createElement(u.a,{transitionName:"text12",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:700,transitionEnterTimeout:700,transitionLeaveTimeout:700},e.flyingTextMount1&&i.a.createElement("li",{key:"13"},"e")),i.a.createElement(u.a,{transitionName:"text13",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:400,transitionEnterTimeout:400,transitionLeaveTimeout:400},e.flyingTextMount1&&i.a.createElement("li",{key:"14"},"r")),i.a.createElement(u.a,{transitionName:"text14",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:4e3,transitionEnterTimeout:4e3,transitionLeaveTimeout:4e3},e.flyingTextMount2&&i.a.createElement("li",{key:"15"},"M")),i.a.createElement(u.a,{transitionName:"text15",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:3700,transitionEnterTimeout:3700,transitionLeaveTimeout:3700},e.flyingTextMount2&&i.a.createElement("li",{key:"16"},"a")),i.a.createElement(u.a,{transitionName:"text16",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:3400,transitionEnterTimeout:3400,transitionLeaveTimeout:3400},e.flyingTextMount2&&i.a.createElement("li",{key:"17"},"k")),i.a.createElement(u.a,{transitionName:"text17",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:3100,transitionEnterTimeout:3100,transitionLeaveTimeout:3100},e.flyingTextMount2&&i.a.createElement("li",{key:"18"},"e")),i.a.createElement(u.a,{transitionName:"text18",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:2800,transitionEnterTimeout:2800,transitionLeaveTimeout:2800},e.flyingTextMount2&&i.a.createElement("li",{key:"19"},"s")),e.flyingTextMount2&&i.a.createElement("li",{key:"20"},"   "),i.a.createElement(u.a,{transitionName:"text19",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:2500,transitionEnterTimeout:2500,transitionLeaveTimeout:2500},e.flyingTextMount2&&i.a.createElement("li",{key:"21"},"W")),i.a.createElement(u.a,{transitionName:"text20",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:2200,transitionEnterTimeout:2200,transitionLeaveTimeout:2200},e.flyingTextMount2&&i.a.createElement("li",{key:"22"},"e")),i.a.createElement(u.a,{transitionName:"text21",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:1900,transitionEnterTimeout:1900,transitionLeaveTimeout:1900},e.flyingTextMount2&&i.a.createElement("li",{key:"23"},"b")),e.flyingTextMount2&&i.a.createElement("li",{key:"24"},"   "),i.a.createElement(u.a,{transitionName:"text22",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:1600,transitionEnterTimeout:1600,transitionLeaveTimeout:1600},e.flyingTextMount2&&i.a.createElement("li",{key:"25"},"B")),i.a.createElement(u.a,{transitionName:"text23",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:1300,transitionEnterTimeout:1300,transitionLeaveTimeout:1300},e.flyingTextMount2&&i.a.createElement("li",{key:"26"},"e")),i.a.createElement(u.a,{transitionName:"text24",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:1e3,transitionEnterTimeout:1e3,transitionLeaveTimeout:1e3},e.flyingTextMount2&&i.a.createElement("li",{key:"27"},"t")),i.a.createElement(u.a,{transitionName:"text25",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:700,transitionEnterTimeout:700,transitionLeaveTimeout:700},e.flyingTextMount2&&i.a.createElement("li",{key:"28"},"t")),i.a.createElement(u.a,{transitionName:"text26",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:400,transitionEnterTimeout:400,transitionLeaveTimeout:400},e.flyingTextMount2&&i.a.createElement("li",{key:"29"},"e")),i.a.createElement(u.a,{transitionName:"text27",transitionEnter:!0,transitionLeave:!0,transitionAppear:!0,transitionAppearTimeout:100,transitionEnterTimeout:100,transitionLeaveTimeout:100},e.flyingTextMount2&&i.a.createElement("li",{key:"30"},"r")))}n(49);var T=n(23),S=n.n(T),k=n(24),C=n.n(k);function x(e){return i.a.createElement("div",{id:"resume",className:"page"},i.a.createElement("div",{id:"img-and-information"},i.a.createElement("div",{id:"img"},i.a.createElement("div",{id:"img-wrapper"},i.a.createElement("img",{src:S.a,id:"my-img"})),i.a.createElement("h1",null,"Colin Lin")),i.a.createElement("div",{id:"information"},i.a.createElement("p",{id:"info"},"bightm80144@gmail.com • +886-952-991-023 • Taiwan ",i.a.createElement("img",{src:C.a,id:"taiwan-img"})),i.a.createElement("p",{id:"quote"},e.currentQuote))),i.a.createElement("div",{id:"education"},i.a.createElement("h2",null,"Education"),i.a.createElement("hr",null),i.a.createElement("div",{className:"education-content"},i.a.createElement("div",{className:"education-term"},i.a.createElement("h3",null,"2013.9 - 2018.1")),i.a.createElement("div",{className:"education-information"},i.a.createElement("h4",null,"National Cheng Kung University,"),i.a.createElement("h4",null,"Computer Science"),i.a.createElement("h4",null,"國立成功大學 資訊工程學系"))),i.a.createElement("div",{className:"education-content"},i.a.createElement("div",{className:"education-term"},i.a.createElement("h3",null,"2010.9 - 2013.6")),i.a.createElement("div",{className:"education-information"},i.a.createElement("h4",null,"Tainan First Senior High School"),i.a.createElement("h4",null,"國立台南一中")))),i.a.createElement("div",{id:"skill"},i.a.createElement("h2",null,"Skill"),i.a.createElement("hr",null),i.a.createElement("div",{id:"skill-content-wrapper"},i.a.createElement("div",{id:"skill-content-left",className:"skill-content"},i.a.createElement("h5",null,"Web Design"),i.a.createElement("div",{id:"skill-information-wrapper"},i.a.createElement("div",{id:"skill-information-left",className:"skill-information"},i.a.createElement("h6",null,"Front-end"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("span",null,"HTML / CSS / JavaScript")),i.a.createElement("li",null,i.a.createElement("span",null,"Responsive Web Design")),i.a.createElement("li",null,i.a.createElement("span",null,"React / Redux")),i.a.createElement("li",null,i.a.createElement("span",null,"d3 / Bootstrap / jQuery")),i.a.createElement("li",null,i.a.createElement("span",null,"Sass / SCSS")),i.a.createElement("li",null,i.a.createElement("span",null,"npm / Webpack / Github")))),i.a.createElement("div",{id:"skill-information-right",className:"skill-information"},i.a.createElement("h6",null,"Back-end"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("span",null,"Python")),i.a.createElement("li",null,i.a.createElement("span",null,"Python Django")))))),i.a.createElement("div",{id:"skill-content-right",className:"skill-content"},i.a.createElement("h5",null,"Data Analysis"),i.a.createElement("div",{id:"skill-information-wrapper"},i.a.createElement("div",{className:"skill-information"},i.a.createElement("h6",null,"Text Mining"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("span",null,"Python")),i.a.createElement("li",null,i.a.createElement("span",null,"Gensim / Scikit-Learn")),i.a.createElement("li",null,i.a.createElement("span",null,"Crawler (Scrapy)")))))))))}var I=n(25),N=n.n(I),A=n(26),D=n.n(A),O=n(27),P=n.n(O),R=n(28),L=n.n(R),M=n(29),F=n.n(M),j=n(30),U=n.n(j),q={prefix:"fas",iconName:"angle-double-left",icon:[448,512,[],"f100","M223.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L319.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L393.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34zm-192 34l136 136c9.4 9.4 24.6 9.4 33.9 0l22.6-22.6c9.4-9.4 9.4-24.6 0-33.9L127.9 256l96.4-96.4c9.4-9.4 9.4-24.6 0-33.9L201.7 103c-9.4-9.4-24.6-9.4-33.9 0l-136 136c-9.5 9.4-9.5 24.6-.1 34z"]},B={prefix:"fas",iconName:"angle-double-right",icon:[448,512,[],"f101","M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34zm192-34l-136-136c-9.4-9.4-24.6-9.4-33.9 0l-22.6 22.6c-9.4 9.4-9.4 24.6 0 33.9l96.4 96.4-96.4 96.4c-9.4 9.4-9.4 24.6 0 33.9l22.6 22.6c9.4 9.4 24.6 9.4 33.9 0l136-136c9.4-9.2 9.4-24.4 0-33.8z"]},V={prefix:"fas",iconName:"code",icon:[640,512,[],"f121","M278.9 511.5l-61-17.7c-6.4-1.8-10-8.5-8.2-14.9L346.2 8.7c1.8-6.4 8.5-10 14.9-8.2l61 17.7c6.4 1.8 10 8.5 8.2 14.9L293.8 503.3c-1.9 6.4-8.5 10.1-14.9 8.2zm-114-112.2l43.5-46.4c4.6-4.9 4.3-12.7-.8-17.2L117 256l90.6-79.7c5.1-4.5 5.5-12.3.8-17.2l-43.5-46.4c-4.5-4.8-12.1-5.1-17-.5L3.8 247.2c-5.1 4.7-5.1 12.8 0 17.5l144.1 135.1c4.9 4.6 12.5 4.4 17-.5zm327.2.6l144.1-135.1c5.1-4.7 5.1-12.8 0-17.5L492.1 112.1c-4.8-4.5-12.4-4.3-17 .5L431.6 159c-4.6 4.9-4.3 12.7.8 17.2L523 256l-90.6 79.7c-5.1 4.5-5.5 12.3-.8 17.2l43.5 46.4c4.5 4.9 12.1 5.1 17 .6z"]},W={prefix:"fas",iconName:"home",icon:[576,512,[],"f015","M488 312.7V456c0 13.3-10.7 24-24 24H348c-6.6 0-12-5.4-12-12V356c0-6.6-5.4-12-12-12h-72c-6.6 0-12 5.4-12 12v112c0 6.6-5.4 12-12 12H112c-13.3 0-24-10.7-24-24V312.7c0-3.6 1.6-7 4.4-9.3l188-154.8c4.4-3.6 10.8-3.6 15.3 0l188 154.8c2.7 2.3 4.3 5.7 4.3 9.3zm83.6-60.9L488 182.9V44.4c0-6.6-5.4-12-12-12h-56c-6.6 0-12 5.4-12 12V117l-89.5-73.7c-17.7-14.6-43.3-14.6-61 0L4.4 251.8c-5.1 4.2-5.8 11.8-1.6 16.9l25.5 31c4.2 5.1 11.8 5.8 16.9 1.6l235.2-193.7c4.4-3.6 10.8-3.6 15.3 0l235.2 193.7c5.1 4.2 12.7 3.5 16.9-1.6l25.5-31c4.2-5.2 3.4-12.7-1.7-16.9z"]},z={prefix:"fas",iconName:"kiss-wink-heart",icon:[504,512,[],"f598","M501.1 402.5c-8-20.8-31.5-31.5-53.1-25.9l-8.4 2.2-2.3-8.4c-5.9-21.4-27-36.5-49-33-25.2 4-40.6 28.6-34 52.6l22.9 82.6c1.5 5.3 7 8.5 12.4 7.1l83-21.5c24.1-6.3 37.7-31.8 28.5-55.7zm-177.6-4c-5.6-20.3-2.3-42 9-59.7 29.7-46.3 98.7-45.5 127.8 4.3 6.4.1 12.6 1.4 18.6 2.9 10.9-27.9 17.1-58.2 17.1-90C496 119 385 8 248 8S0 119 0 256s111 248 248 248c35.4 0 68.9-7.5 99.4-20.9-.3-.7-23.9-84.6-23.9-84.6zM168 240c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm120 156c0 19.2-28.7 41.5-71.5 44-8.5.8-12.1-11.8-3.6-15.4l17-7.2c13-5.5 20.8-13.5 20.8-21.5s-7.8-16-20.8-21.5l-17-7.2c-6-2.5-5.7-12.3 0-14.8l17-7.2c13-5.5 20.8-13.5 20.8-21.5s-7.8-16-20.8-21.5l-17-7.2c-8.8-3.7-4.6-16.6 3.6-15.4 42.8 2.5 71.5 24.8 71.5 44 0 13-13.4 27.3-35.2 36C274.6 368.7 288 383 288 396zm16-179c-8.3 7.4-21.6.4-19.8-10.8 4-25.2 34.2-42.1 59.9-42.1S400 181 404 206.2c1.7 11.1-11.3 18.3-19.8 10.8l-9.5-8.5c-14.8-13.2-46.2-13.2-61 0L304 217z"]},K={prefix:"fas",iconName:"mail-bulk",icon:[576,512,[],"f674","M160 448c-25.6 0-51.2-22.4-64-32-64-44.8-83.2-60.8-96-70.4V480c0 17.67 14.33 32 32 32h256c17.67 0 32-14.33 32-32V345.6c-12.8 9.6-32 25.6-96 70.4-12.8 9.6-38.4 32-64 32zm128-192H32c-17.67 0-32 14.33-32 32v16c25.6 19.2 22.4 19.2 115.2 86.4 9.6 6.4 28.8 25.6 44.8 25.6s35.2-19.2 44.8-22.4c92.8-67.2 89.6-67.2 115.2-86.4V288c0-17.67-14.33-32-32-32zm256-96H224c-17.67 0-32 14.33-32 32v32h96c33.21 0 60.59 25.42 63.71 57.82l.29-.22V416h192c17.67 0 32-14.33 32-32V192c0-17.67-14.33-32-32-32zm-32 128h-64v-64h64v64zm-352-96c0-35.29 28.71-64 64-64h224V32c0-17.67-14.33-32-32-32H96C78.33 0 64 14.33 64 32v192h96v-32z"]},H={prefix:"fas",iconName:"user-tie",icon:[448,512,[],"f508","M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"]};function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Y(e,t){return(Y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}c.b.add(q),c.b.add(B);var J=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?$(e):t}(this,X(t).call(this,e))).state={currentPageNum:0},n.changePage=n.changePage.bind($($(n))),n.handleMouseOver=n.handleMouseOver.bind($($(n))),n.handleMouseOut=n.handleMouseOut.bind($($(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Y(e,t)}(t,i.a.Component),function(e,t,n){t&&G(e.prototype,t),n&&G(e,n)}(t,[{key:"changePage",value:function(e){if("prev"==e){var t=this.state.currentPageNum-1;t<0&&(t=0),document.getElementsByClassName("projects-page")[t].scrollIntoView({behavior:"smooth"}),this.setState({currentPageNum:t})}else{var n=this.state.currentPageNum+1;n>2&&(n=2),document.getElementsByClassName("projects-page")[n].scrollIntoView({behavior:"smooth"}),this.setState({currentPageNum:n})}}},{key:"handleMouseOver",value:function(e){if(window.innerWidth>1024){var t=document.getElementById("prev"),n=document.getElementById("next"),r=document.getElementsByClassName("direction-icon");t.style.backgroundColor="rgba(26, 69, 79, 0.7)",n.style.backgroundColor="rgba(26, 69, 79, 0.7)","prev"==e?(t.style.width="60px",n.style.width="40px",r[0].style.left="5px",r[1].style.left="5px"):(n.style.width="60px",t.style.width="40px",r[0].style.left="-5px",r[1].style.left="-5px")}}},{key:"handleMouseOut",value:function(){if(window.innerWidth>1024){var e=document.getElementById("prev"),t=document.getElementById("next"),n=document.getElementsByClassName("direction-icon");e.style.backgroundColor="rgba(26, 69, 79, 1)",t.style.backgroundColor="rgba(26, 69, 79, 1)",e.style.width="50px",t.style.width="50px",n[0].style.left="0px",n[1].style.left="0px"}}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{id:"projects",className:"page"},i.a.createElement("div",{id:"prev",className:"direction-btn",onMouseOver:function(){return e.handleMouseOver("prev")},onMouseOut:this.handleMouseOut,onClick:function(){return e.changePage("prev")}},i.a.createElement(l.a,{icon:"angle-double-left",className:"direction-icon"})),i.a.createElement("div",{id:"projects-wrapper"},i.a.createElement("div",{className:"projects-page"},i.a.createElement("div",{className:"projects-page-title"},i.a.createElement("h1",null,"#1 Personal Website")),i.a.createElement("div",{className:"projects-page-description"},i.a.createElement("p",null,"After some courses on ",i.a.createElement("a",{href:"https://www.freecodecamp.org/",target:"_blank"},"freeCodeCamp.org"),", I have been trying to build up my personal website with React.js. And I hope that some of my elaborate features will make it an ",i.a.createElement("b",null,"unique personal website")," in the world.")),i.a.createElement("div",{className:"projects-page-info"},i.a.createElement("div",{className:"projects-page-skill"},i.a.createElement("h2",null,"# Programming Language & Skills"),i.a.createElement("ul",null,i.a.createElement("li",null,"HTML / CSS / JavaScript"),i.a.createElement("li",null,"React.js / Babel / SCSS"),i.a.createElement("li",null,"firebase"),i.a.createElement("li",null,"Webpack / npm"))),i.a.createElement("div",{className:"projects-page-link"},i.a.createElement("h2",null,"# Links"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("a",{href:"#"},"Page")),i.a.createElement("li",null,i.a.createElement("a",{href:"#"},"Source Code"))))),i.a.createElement("div",{className:"projects-page-gif"},i.a.createElement("h2",null,"# Snapshot"),i.a.createElement("div",{className:"img-wrapper"},i.a.createElement("img",{src:N.a}),i.a.createElement("img",{src:D.a}),i.a.createElement("img",{src:P.a})))),i.a.createElement("div",{className:"projects-page"},i.a.createElement("div",{className:"projects-page-title"},i.a.createElement("h1",null,"#2 Draggable Markdown Previewer")),i.a.createElement("div",{className:"projects-page-description"},i.a.createElement("p",null,"This is one simple React project on ",i.a.createElement("a",{href:"https://www.freecodecamp.org/",target:"_blank"},"freeCodeCamp.org"),", and I tried to add some additional features to it. You can ",i.a.createElement("b",null,"drag the bar to resize the Editor/Previewer")," and ",i.a.createElement("b",null,"click the MARKED/SOURCE button to switch the preview mode")," between markdown and HTML source.")),i.a.createElement("div",{className:"projects-page-info"},i.a.createElement("div",{className:"projects-page-skill"},i.a.createElement("h2",null,"# Programming Language & Skills"),i.a.createElement("ul",null,i.a.createElement("li",null,"HTML / CSS / JavaScript"),i.a.createElement("li",null,"React.js"),i.a.createElement("li",null,"Babel / SCSS"),i.a.createElement("li",null,"Webpack / npm"))),i.a.createElement("div",{className:"projects-page-link"},i.a.createElement("h2",null,"# Links"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("a",{href:"#"},"Page")),i.a.createElement("li",null,i.a.createElement("a",{href:"#"},"Source Code"))))),i.a.createElement("div",{className:"projects-page-gif"},i.a.createElement("h2",null,"# Snapshot"),i.a.createElement("div",{className:"img-wrapper"},i.a.createElement("img",{src:L.a}),i.a.createElement("img",{src:F.a}),i.a.createElement("img",{src:U.a})))),i.a.createElement("div",{className:"projects-page"},i.a.createElement("div",{className:"projects-page-title"},i.a.createElement("h1",null,"#3 PTTonitor")),i.a.createElement("div",{className:"projects-page-description"},i.a.createElement("p",null,"This is my graduation project in the college. The main purpose of this project is to build up a Query Platform of user accounts to ",i.a.createElement("b",null,"find out whether there are some different accounts owned by a single person"),". By analyzing the data of ",i.a.createElement("b",null,"logging IP address"),", ",i.a.createElement("b",null,"user online time"),", ",i.a.createElement("b",null,"high frequency words")," using in posts, and ",i.a.createElement("b",null,"interactions between users"),", PTTonitor finally generates the ",i.a.createElement("b",null,"visual graphics")," which provide an interactive way of Querying and Searching.")),i.a.createElement("div",{className:"projects-page-info"},i.a.createElement("div",{className:"projects-page-skill"},i.a.createElement("h2",null,"# Programming Language & Skills"),i.a.createElement("ul",null,i.a.createElement("li",null,"HTML / CSS / JavaScript / d3.js"),i.a.createElement("li",null,"Python / Django / SQLite"),i.a.createElement("li",null,"Scrapy / Jieba / Telnetlib"),i.a.createElement("li",null,"Gensim / Scikit-Learn"))),i.a.createElement("div",{className:"projects-page-link"},i.a.createElement("h2",null,"# Links"),i.a.createElement("ul",null,i.a.createElement("li",null,i.a.createElement("a",{href:"#"},"Demo Video")),i.a.createElement("li",null,i.a.createElement("a",{href:"#"},"Source Code"))))),i.a.createElement("div",{className:"projects-page-gif"},i.a.createElement("h2",null,"# Snapshot"),i.a.createElement("div",{className:"img-wrapper"},i.a.createElement("img",{src:"https://media.giphy.com/media/l4pM35VGqeuL4pfvG/giphy.gif"}),i.a.createElement("img",{src:"https://media.giphy.com/media/l4pM35VGqeuL4pfvG/giphy.gif"}),i.a.createElement("img",{src:"https://media.giphy.com/media/l4pM35VGqeuL4pfvG/giphy.gif"}))))),i.a.createElement("div",{id:"next",className:"direction-btn",onMouseOver:function(){return e.handleMouseOver("next")},onMouseOut:this.handleMouseOut,onClick:function(){return e.changePage("next")}},i.a.createElement(l.a,{icon:"angle-double-right",className:"direction-icon"})))}}]),t}();function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var ie=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?re(e):t}(this,te(t).call(this,e))).state={percent:0},n.handleScroll=n.handleScroll.bind(re(re(n))),n.bothEndsTransition=n.bothEndsTransition.bind(re(re(n))),n.linearMapping=n.linearMapping.bind(re(re(n))),n.backgroundImgTransition=n.backgroundImgTransition.bind(re(re(n))),n.introTextTransition=n.introTextTransition.bind(re(re(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,i.a.Component),function(e,t,n){t&&ee(e.prototype,t),n&&ee(e,n)}(t,[{key:"bothEndsTransition",value:function(e,t,n,r,i){if(i){var o=(t-e)/(t-n),a=document.getElementsByClassName("interests-page")[r];a.style.backgroundColor="rgba(0, 0, 0, ".concat(o,")"),o=(e-n)/(t-n),(a=document.getElementsByClassName("scroll-text")[1]).style.fontSize="".concat(.04*window.innerWidth*o)}else{var s=(e-n)/(t-n),u=document.getElementsByClassName("interests-page")[r];u.style.backgroundColor="rgba(0, 0, 0, ".concat(s,")"),s=(t-e)/(t-n),(u=document.getElementsByClassName("scroll-text")[0]).style.fontSize="".concat(.04*window.innerWidth*s)}}},{key:"linearMapping",value:function(e,t,n,r,i){return(e-t)*(i-r)/(n-t)+r}},{key:"backgroundImgTransition",value:function(e,t,n,r,i){if(e<n){var o=(e-r)/(n-r);o=this.linearMapping(o,0,1,.6,1),document.getElementsByClassName("interests-page")[i].style.opacity="".concat(o)}else{var a=(t-e)/(t-n);a=this.linearMapping(a,0,1,.6,1),document.getElementsByClassName("interests-page")[i].style.opacity="".concat(a)}}},{key:"introTextTransition",value:function(e,t,n,r,i){if(e<n){var o=(n-e)/(n-r);document.getElementsByClassName("intro-text")[i].style.left="".concat(.1*window.innerHeight*o)}else{var a=(e-n)/(t-n);document.getElementsByClassName("intro-text")[i].style.left="".concat(-1*window.innerHeight*.5*a)}}},{key:"handleScroll",value:function(){document.querySelector("#interests").scrollIntoView();var e=document.getElementById("interests-wrapper"),t=e.scrollHeight-e.clientHeight,n=e.scrollTop/t,r=e.clientHeight/t;this.setState({percent:n}),this.state.percent>=0&&this.state.percent<r?(this.bothEndsTransition(this.state.percent,r,0,0,!1),this.backgroundImgTransition(this.state.percent,2*r,r,0,1),this.introTextTransition(this.state.percent,2*r,r,0,0)):this.state.percent>=r&&this.state.percent<2*r?(this.backgroundImgTransition(this.state.percent,2*r,r,0,1),this.backgroundImgTransition(this.state.percent,3*r,2*r,1*r,2),this.introTextTransition(this.state.percent,2*r,r,0,0),this.introTextTransition(this.state.percent,3*r,2*r,1*r,1)):this.state.percent>=2*r&&this.state.percent<3*r?(this.backgroundImgTransition(this.state.percent,3*r,2*r,1*r,2),this.backgroundImgTransition(this.state.percent,4*r,3*r,2*r,3),this.introTextTransition(this.state.percent,3*r,2*r,1*r,1),this.introTextTransition(this.state.percent,4*r,3*r,2*r,2)):this.state.percent>=3*r&&this.state.percent<4*r?(this.backgroundImgTransition(this.state.percent,4*r,3*r,2*r,3),this.backgroundImgTransition(this.state.percent,5*r,4*r,3*r,4),this.introTextTransition(this.state.percent,4*r,3*r,2*r,2),this.introTextTransition(this.state.percent,5*r,4*r,3*r,3)):this.state.percent>=4*r&&this.state.percent<5*r?(this.backgroundImgTransition(this.state.percent,5*r,4*r,3*r,4),this.backgroundImgTransition(this.state.percent,6*r,5*r,4*r,5),this.introTextTransition(this.state.percent,5*r,4*r,3*r,3),this.introTextTransition(this.state.percent,6*r,5*r,4*r,4)):(this.bothEndsTransition(this.state.percent,6*r,5*r,6,!0),this.backgroundImgTransition(this.state.percent,6*r,5*r,4*r,5),this.introTextTransition(this.state.percent,6*r,5*r,4*r,4))}},{key:"componentDidMount",value:function(){window.innerWidth>767&&document.getElementById("interests-wrapper").addEventListener("scroll",this.handleScroll)}},{key:"render",value:function(){return i.a.createElement("div",{id:"interests",className:"page"},i.a.createElement("div",{id:"interests-wrapper"},i.a.createElement("div",{className:"interests-page"},i.a.createElement("div",{className:"scroll-text"},"Scroll Down")),i.a.createElement("div",{className:"interests-page"},i.a.createElement("div",{className:"intro-text"},"Travel",i.a.createElement("p",null,"I love traveling and recording life with photos"))),i.a.createElement("div",{className:"interests-page"},i.a.createElement("div",{className:"intro-text"},"Singing",i.a.createElement("p",null,"Sometimes I think singing is more expressive than just talking"))),i.a.createElement("div",{className:"interests-page"},i.a.createElement("div",{className:"intro-text"},"Food",i.a.createElement("p",null,"When I feel depressed, the sweets can heal me"))),i.a.createElement("div",{className:"interests-page"},i.a.createElement("div",{className:"intro-text"},"Workout",i.a.createElement("p",null,"After eating too much, it's time to burn extra calories"))),i.a.createElement("div",{className:"interests-page"},i.a.createElement("div",{className:"intro-text"},"Coding",i.a.createElement("p",null,"Coding, indeed"))),i.a.createElement("div",{className:"interests-page"},i.a.createElement("div",{className:"scroll-text"},"Scroll Up"))))}}]),t}(),oe=n(31);function ae(e){return i.a.createElement("div",{id:"menu"},i.a.createElement("div",{id:"scroll-to-container",className:"subject",onClick:function(){return e.onClick("#container")}},i.a.createElement("div",{className:"side-highlight"}),i.a.createElement("div",{className:"icon-and-text"},i.a.createElement(l.a,{icon:"home",className:"menu-icon"}),i.a.createElement("h1",null,"Home"))),i.a.createElement("div",{id:"scroll-to-resume",className:"subject",onClick:function(){return e.onClick("#resume")}},i.a.createElement("div",{className:"side-highlight"}),i.a.createElement("div",{className:"icon-and-text"},i.a.createElement(l.a,{icon:"user-tie",className:"menu-icon"}),i.a.createElement("h1",null,"Resume"))),i.a.createElement("div",{id:"scroll-to-projects",className:"subject",onClick:function(){return e.onClick("#projects")}},i.a.createElement("div",{className:"side-highlight"}),i.a.createElement("div",{className:"icon-and-text"},i.a.createElement(l.a,{icon:"code",className:"menu-icon"}),i.a.createElement("h1",null,"Projects"))),i.a.createElement("div",{id:"scroll-to-interests",className:"subject",onClick:function(){return e.onClick("#interests")}},i.a.createElement("div",{className:"side-highlight"}),i.a.createElement("div",{className:"icon-and-text"},i.a.createElement(l.a,{icon:"kiss-wink-heart",className:"menu-icon"}),i.a.createElement("h1",null,"Interests"))),i.a.createElement("div",{id:"scroll-to-contact",className:"subject",onClick:function(){return e.onClick("#contact")}},i.a.createElement("div",{className:"side-highlight"}),i.a.createElement("div",{className:"icon-and-text"},i.a.createElement(l.a,{icon:"mail-bulk",className:"menu-icon"}),i.a.createElement("h1",null,"Contact"))))}function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function le(e,t){return(le=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}c.b.add(W),c.b.add(H),c.b.add(V),c.b.add(z),c.b.add(K);n(64);var fe=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=function(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?he(e):t}(this,ce(t).call(this,e))).state={currentPage:"home",currentQuote:"Never a failure, Always a lesson.",quotePosition:0},n.quoteMarquee=n.quoteMarquee.bind(he(he(n))),n.scrollToPage=n.scrollToPage.bind(he(he(n))),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&le(e,t)}(t,i.a.Component),function(e,t,n){t&&ue(e.prototype,t),n&&ue(e,n)}(t,[{key:"quoteMarquee",value:function(){var e=this,t=document.getElementById("information"),n=document.getElementById("quote"),r=-(t.clientWidth+n.clientWidth)/2,i=-r,o=["Never a failure, Always a lesson.","It's hard sailing when there is no wind.","Wasting time is robbing oneself.","The secret of success is constancy of purpose.","The shortest answer is doing."],a=0;n.style.left=r,this.setState({quotePosition:r}),setInterval(function(){e.state.quotePosition+1==i?(t=document.getElementById("information"),n=document.getElementById("quote"),r=-(t.clientWidth+n.clientWidth)/2,i=-r,++a>4&&(a=0),e.setState({currentQuote:o[a]}),n.style.left=r,e.setState({quotePosition:r})):(n.style.left=e.state.quotePosition+1,e.setState({quotePosition:e.state.quotePosition+1}))},10)}},{key:"scrollToPage",value:function(e){document.querySelector(e).scrollIntoView({behavior:"smooth"}),this.setState({currentPage:e.slice(1)})}},{key:"componentDidMount",value:function(){this.quoteMarquee()}},{key:"render",value:function(){return i.a.createElement("div",{id:"outer-wrapper"},i.a.createElement(m,null),i.a.createElement("div",{id:"wrapper"},i.a.createElement(_,null),i.a.createElement(x,{currentQuote:this.state.currentQuote}),i.a.createElement(J,null),i.a.createElement(ie,null),i.a.createElement(oe.a,null)),i.a.createElement(ae,{onClick:this.scrollToPage}))}}]),t}();a.a.render(i.a.createElement(fe,null),document.getElementById("app"))},function(e,t,n){"use strict";n.r(t);var r=n(10),i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function o(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};function s(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(a,s)}u((r=r.apply(e,t||[])).next())})}function u(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=r[2&o[0]?"return":o[0]?"throw":"next"])&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[0,i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var c=n(1),l=n.n(c);n.d(t,"registerMessaging",function(){return M}),n.d(t,"isSupported",function(){return F});var h,f,p,d={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",TOKEN_UNSUBSCRIBE_FAILED:"token-unsubscribe-failed",TOKEN_UPDATE_FAILED:"token-update-failed",TOKEN_UPDATE_NO_TOKEN:"token-update-no-token",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key",INVALID_PUBLIC_VAPID_KEY:"invalid-public-vapid-key",USE_PUBLIC_KEY_BEFORE_GET_TOKEN:"use-public-key-before-get-token",PUBLIC_KEY_DECRYPTION_FAILED:"public-vapid-key-decryption-failed"},m=((h={})[d.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",h[d.AVAILABLE_IN_SW]="This method is available in a service worker context.",h[d.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",h[d.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",h[d.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",h[d.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",h[d.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",h[d.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",h[d.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",h[d.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",h[d.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",h[d.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",h[d.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",h[d.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",h[d.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",h[d.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",h[d.TOKEN_UNSUBSCRIBE_FAILED]="A problem occured while unsubscribing the user from FCM: {$message}",h[d.TOKEN_UPDATE_FAILED]="A problem occured while updating the user from FCM: {$message}",h[d.TOKEN_UPDATE_NO_TOKEN]="FCM returned no token when updating the user to push.",h[d.USE_SW_BEFORE_GET_TOKEN]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",h[d.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",h[d.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",h[d.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",h[d.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",h[d.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",h[d.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",h[d.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",h[d.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",h[d.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",h[d.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",h[d.BAD_SCOPE]="The service worker scope must be a string with at least one character.",h[d.BAD_VAPID_KEY]="The public VAPID key is not a Uint8Array with 65 bytes.",h[d.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",h[d.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",h[d.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",h[d.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",h[d.INVALID_PUBLIC_VAPID_KEY]="The public VAPID key must be a string.",h[d.PUBLIC_KEY_DECRYPTION_FAILED]="The public VAPID key did not equal 65 bytes when decrypted.",h),g=new r.ErrorFactory("messaging","Messaging",m),y=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),v="https://fcm.googleapis.com";function b(e,t){if(null==e||null==t)return!1;if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(var n=new DataView(e),r=new DataView(t),i=0;i<e.byteLength;i++)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function w(e){return function(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(null,t))}(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}!function(e){e.TYPE_OF_MSG="firebase-messaging-msg-type",e.DATA="firebase-messaging-msg-data"}(f||(f={})),function(e){e.PUSH_MSG_RECEIVED="push-msg-received",e.NOTIFICATION_CLICKED="notification-clicked"}(p||(p={}));var _=function(){function e(){}return e.prototype.getToken=function(e,t,n){return s(this,void 0,void 0,function(){var r,i,o,a,s,c,l,h;return u(this,function(u){switch(u.label){case 0:r=w(t.getKey("p256dh")),i=w(t.getKey("auth")),o="authorized_entity="+e+"&endpoint="+t.endpoint+"&encryption_key="+r+"&encryption_auth="+i,b(n.buffer,y.buffer)||(a=w(n),o+="&application_pub_key="+a),(s=new Headers).append("Content-Type","application/x-www-form-urlencoded"),c={method:"POST",headers:s,body:o},u.label=1;case 1:return u.trys.push([1,4,,5]),[4,fetch(v+"/fcm/connect/subscribe",c)];case 2:return[4,u.sent().json()];case 3:return l=u.sent(),[3,5];case 4:throw u.sent(),g.create(d.TOKEN_SUBSCRIBE_FAILED);case 5:if(l.error)throw h=l.error.message,g.create(d.TOKEN_SUBSCRIBE_FAILED,{message:h});if(!l.token)throw g.create(d.TOKEN_SUBSCRIBE_NO_TOKEN);if(!l.pushSet)throw g.create(d.TOKEN_SUBSCRIBE_NO_PUSH_SET);return[2,{token:l.token,pushSet:l.pushSet}]}})})},e.prototype.updateToken=function(e,t,n,r,i){return s(this,void 0,void 0,function(){var o,a,s,c,l,h,f,p;return u(this,function(u){switch(u.label){case 0:o=w(r.getKey("p256dh")),a=w(r.getKey("auth")),s="push_set="+n+"&token="+t+"&authorized_entity="+e+"&endpoint="+r.endpoint+"&encryption_key="+o+"&encryption_auth="+a,b(i.buffer,y.buffer)||(c=w(i),s+="&application_pub_key="+c),(l=new Headers).append("Content-Type","application/x-www-form-urlencoded"),h={method:"POST",headers:l,body:s},u.label=1;case 1:return u.trys.push([1,4,,5]),[4,fetch(v+"/fcm/connect/subscribe",h)];case 2:return[4,u.sent().json()];case 3:return f=u.sent(),[3,5];case 4:throw u.sent(),g.create(d.TOKEN_UPDATE_FAILED);case 5:if(f.error)throw p=f.error.message,g.create(d.TOKEN_UPDATE_FAILED,{message:p});if(!f.token)throw g.create(d.TOKEN_UPDATE_NO_TOKEN);return[2,f.token]}})})},e.prototype.deleteToken=function(e,t,n){return s(this,void 0,void 0,function(){var r,i,o,a,s;return u(this,function(u){switch(u.label){case 0:r="authorized_entity="+e+"&token="+t+"&pushSet="+n,(i=new Headers).append("Content-Type","application/x-www-form-urlencoded"),o={method:"POST",headers:i,body:r},u.label=1;case 1:return u.trys.push([1,4,,5]),[4,fetch(v+"/fcm/connect/unsubscribe",o)];case 2:return[4,u.sent().json()];case 3:if((a=u.sent()).error)throw s=a.error.message,g.create(d.TOKEN_UNSUBSCRIBE_FAILED,{message:s});return[3,5];case 4:throw u.sent(),g.create(d.TOKEN_UNSUBSCRIBE_FAILED);case 5:return[2]}})})},e}();function E(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}var T="undefined",S="fcm_token_object_Store";function k(){var e=indexedDB.open(T);e.onerror=function(e){},e.onsuccess=function(t){!function(e){if(e.objectStoreNames.contains(S)){var t=e.transaction(S).objectStore(S),n=new _,r=t.openCursor();r.onerror=function(e){console.warn("Unable to cleanup old IDB.",e)},r.onsuccess=function(){var t=r.result;if(t){var i=t.value;n.deleteToken(i.fcmSenderId,i.fcmToken,i.fcmPushSet),t.continue()}else e.close(),indexedDB.deleteDatabase(T)}}}(e.result)}}var C=function(){function e(){this.dbPromise=null}return e.prototype.get=function(e){return this.createTransaction(function(t){return t.get(e)})},e.prototype.getIndex=function(e,t){return this.createTransaction(function(n){return n.index(e).get(t)})},e.prototype.put=function(e){return this.createTransaction(function(t){return t.put(e)},"readwrite")},e.prototype.delete=function(e){return this.createTransaction(function(t){return t.delete(e)},"readwrite")},e.prototype.closeDatabase=function(){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:e.sent().close(),this.dbPromise=null,e.label=2;case 2:return[2]}})})},e.prototype.createTransaction=function(e,t){return void 0===t&&(t="readonly"),s(this,void 0,void 0,function(){var n,r,i,o;return u(this,function(a){switch(a.label){case 0:return[4,this.getDb()];case 1:return n=a.sent(),r=n.transaction(this.objectStoreName,t),i=r.objectStore(this.objectStoreName),[4,function(e){return new Promise(function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}})}(e(i))];case 2:return o=a.sent(),[2,new Promise(function(e,t){r.oncomplete=function(){e(o)},r.onerror=function(){t(r.error)}})]}})})},e.prototype.getDb=function(){var e=this;return this.dbPromise||(this.dbPromise=new Promise(function(t,n){var r=indexedDB.open(e.dbName,e.dbVersion);r.onsuccess=function(){t(r.result)},r.onerror=function(){e.dbPromise=null,n(r.error)},r.onupgradeneeded=function(t){return e.onDbUpgrade(r,t)}})),this.dbPromise},e}();var x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dbName="fcm_token_details_db",t.dbVersion=3,t.objectStoreName="fcm_token_object_Store",t}return o(t,e),t.prototype.onDbUpgrade=function(e,t){var n=e.result;switch(t.oldVersion){case 0:(r=n.createObjectStore(this.objectStoreName,{keyPath:"swScope"})).createIndex("fcmSenderId","fcmSenderId",{unique:!1}),r.createIndex("fcmToken","fcmToken",{unique:!0});case 1:k();case 2:var r,i=(r=e.transaction.objectStore(this.objectStoreName)).openCursor();i.onsuccess=function(){var e=i.result;if(e){var t=e.value,n=a({},t);t.createTime||(n.createTime=Date.now()),"string"==typeof t.vapidKey&&(n.vapidKey=E(t.vapidKey)),"string"==typeof t.auth&&(n.auth=E(t.auth).buffer),"string"==typeof t.auth&&(n.p256dh=E(t.p256dh).buffer),e.update(n),e.continue()}}}},t.prototype.getTokenDetailsFromToken=function(e){return s(this,void 0,void 0,function(){return u(this,function(t){if(!e)throw g.create(d.BAD_TOKEN);return I({fcmToken:e}),[2,this.getIndex("fcmToken",e)]})})},t.prototype.getTokenDetailsFromSWScope=function(e){return s(this,void 0,void 0,function(){return u(this,function(t){if(!e)throw g.create(d.BAD_SCOPE);return I({swScope:e}),[2,this.get(e)]})})},t.prototype.saveTokenDetails=function(e){return s(this,void 0,void 0,function(){return u(this,function(t){if(!e.swScope)throw g.create(d.BAD_SCOPE);if(!e.vapidKey)throw g.create(d.BAD_VAPID_KEY);if(!e.endpoint||!e.auth||!e.p256dh)throw g.create(d.BAD_SUBSCRIPTION);if(!e.fcmSenderId)throw g.create(d.BAD_SENDER_ID);if(!e.fcmToken)throw g.create(d.BAD_TOKEN);if(!e.fcmPushSet)throw g.create(d.BAD_PUSH_SET);return I(e),[2,this.put(e)]})})},t.prototype.deleteToken=function(e){return s(this,void 0,void 0,function(){var t;return u(this,function(n){switch(n.label){case 0:return"string"!=typeof e||0===e.length?[2,Promise.reject(g.create(d.INVALID_DELETE_TOKEN))]:[4,this.getTokenDetailsFromToken(e)];case 1:if(!(t=n.sent()))throw g.create(d.DELETE_TOKEN_NOT_FOUND);return[4,this.delete(t.swScope)];case 2:return n.sent(),[2,t]}})})},t}(C);function I(e){if(e.fcmToken&&("string"!=typeof e.fcmToken||0===e.fcmToken.length))throw g.create(d.BAD_TOKEN);if(e.swScope&&("string"!=typeof e.swScope||0===e.swScope.length))throw g.create(d.BAD_SCOPE);if(e.vapidKey&&(!(e.vapidKey instanceof Uint8Array)||65!==e.vapidKey.length))throw g.create(d.BAD_VAPID_KEY);if(e.endpoint&&("string"!=typeof e.endpoint||0===e.endpoint.length))throw g.create(d.BAD_SUBSCRIPTION);if(e.auth&&!(e.auth instanceof ArrayBuffer))throw g.create(d.BAD_SUBSCRIPTION);if(e.p256dh&&!(e.p256dh instanceof ArrayBuffer))throw g.create(d.BAD_SUBSCRIPTION);if(e.fcmSenderId&&("string"!=typeof e.fcmSenderId||0===e.fcmSenderId.length))throw g.create(d.BAD_SENDER_ID);if(e.fcmPushSet&&("string"!=typeof e.fcmPushSet||0===e.fcmPushSet.length))throw g.create(d.BAD_PUSH_SET)}var N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dbName="fcm_vapid_details_db",t.dbVersion=1,t.objectStoreName="fcm_vapid_object_Store",t}return o(t,e),t.prototype.onDbUpgrade=function(e){e.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},t.prototype.getVapidFromSWScope=function(e){return s(this,void 0,void 0,function(){var t;return u(this,function(n){switch(n.label){case 0:if("string"!=typeof e||0===e.length)throw g.create(d.BAD_SCOPE);return[4,this.get(e)];case 1:return[2,(t=n.sent())?t.vapidKey:void 0]}})})},t.prototype.saveVapidDetails=function(e,t){return s(this,void 0,void 0,function(){var n;return u(this,function(r){if("string"!=typeof e||0===e.length)throw g.create(d.BAD_SCOPE);if(null===t||65!==t.length)throw g.create(d.BAD_VAPID_KEY);return n={swScope:e,vapidKey:t},[2,this.put(n)]})})},t.prototype.deleteVapidDetails=function(e){return s(this,void 0,void 0,function(){var t;return u(this,function(n){switch(n.label){case 0:return[4,this.getVapidFromSWScope(e)];case 1:if(!(t=n.sent()))throw g.create(d.DELETE_SCOPE_NOT_FOUND);return[4,this.delete(e)];case 2:return n.sent(),[2,t]}})})},t}(C),A="messagingSenderId",D=function(){function e(e){var t=this;if(!e.options[A]||"string"!=typeof e.options[A])throw g.create(d.BAD_SENDER_ID);this.messagingSenderId=e.options[A],this.tokenDetailsModel=new x,this.vapidDetailsModel=new N,this.iidModel=new _,this.app=e,this.INTERNAL={delete:function(){return t.delete()}}}return e.prototype.getToken=function(){return s(this,void 0,void 0,function(){var e,t,n,r,i;return u(this,function(o){switch(o.label){case 0:if("denied"===(e=this.getNotificationPermission_()))throw g.create(d.NOTIFICATIONS_BLOCKED);return"granted"!==e?[2,null]:[4,this.getSWRegistration_()];case 1:return t=o.sent(),[4,this.getPublicVapidKey_()];case 2:return n=o.sent(),[4,this.getPushSubscription(t,n)];case 3:return r=o.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(t.scope)];case 4:return(i=o.sent())?[2,this.manageExistingToken(t,r,n,i)]:[2,this.getNewToken(t,r,n)]}})})},e.prototype.manageExistingToken=function(e,t,n,r){return s(this,void 0,void 0,function(){return u(this,function(i){switch(i.label){case 0:return function(e,t,n){if(!n.vapidKey||!b(t.buffer,n.vapidKey.buffer))return!1;var r=e.endpoint===n.endpoint,i=b(e.getKey("auth"),n.auth),o=b(e.getKey("p256dh"),n.p256dh);return r&&i&&o}(t,n,r)?Date.now()<r.createTime+6048e5?[2,r.fcmToken]:[2,this.updateToken(e,t,n,r)]:[4,this.deleteTokenFromDB(r.fcmToken)];case 1:return i.sent(),[2,this.getNewToken(e,t,n)]}})})},e.prototype.updateToken=function(e,t,n,r){return s(this,void 0,void 0,function(){var i,o,a;return u(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,r.fcmToken,r.fcmPushSet,t,n)];case 1:return i=s.sent(),o={swScope:e.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:i,fcmPushSet:r.fcmPushSet,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(o)];case 2:return s.sent(),[4,this.vapidDetailsModel.saveVapidDetails(e.scope,n)];case 3:return s.sent(),[2,i];case 4:return a=s.sent(),[4,this.deleteToken(r.fcmToken)];case 5:throw s.sent(),a;case 6:return[2]}})})},e.prototype.getNewToken=function(e,t,n){return s(this,void 0,void 0,function(){var r,i;return u(this,function(o){switch(o.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,t,n)];case 1:return r=o.sent(),i={swScope:e.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:r.token,fcmPushSet:r.pushSet,createTime:Date.now(),endpoint:t.endpoint,auth:t.getKey("auth"),p256dh:t.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(i)];case 2:return o.sent(),[4,this.vapidDetailsModel.saveVapidDetails(e.scope,n)];case 3:return o.sent(),[2,r.token]}})})},e.prototype.deleteToken=function(e){return s(this,void 0,void 0,function(){var t,n;return u(this,function(r){switch(r.label){case 0:return[4,this.deleteTokenFromDB(e)];case 1:return r.sent(),[4,this.getSWRegistration_()];case 2:return(t=r.sent())?[4,t.pushManager.getSubscription()]:[3,4];case 3:if(n=r.sent())return[2,n.unsubscribe()];r.label=4;case 4:return[2,!0]}})})},e.prototype.deleteTokenFromDB=function(e){return s(this,void 0,void 0,function(){var t;return u(this,function(n){switch(n.label){case 0:return[4,this.tokenDetailsModel.deleteToken(e)];case 1:return t=n.sent(),[4,this.iidModel.deleteToken(t.fcmSenderId,t.fcmToken,t.fcmPushSet)];case 2:return n.sent(),[2]}})})},e.prototype.getPushSubscription=function(e,t){return e.pushManager.getSubscription().then(function(n){return n||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t})})},e.prototype.requestPermission=function(){throw g.create(d.AVAILABLE_IN_WINDOW)},e.prototype.useServiceWorker=function(e){throw g.create(d.AVAILABLE_IN_WINDOW)},e.prototype.usePublicVapidKey=function(e){throw g.create(d.AVAILABLE_IN_WINDOW)},e.prototype.onMessage=function(e,t,n){throw g.create(d.AVAILABLE_IN_WINDOW)},e.prototype.onTokenRefresh=function(e,t,n){throw g.create(d.AVAILABLE_IN_WINDOW)},e.prototype.setBackgroundMessageHandler=function(e){throw g.create(d.AVAILABLE_IN_SW)},e.prototype.delete=function(){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return e.sent(),[2]}})})},e.prototype.getNotificationPermission_=function(){return Notification.permission},e.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},e.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},e.prototype.getIidModel=function(){return this.iidModel},e}();var O=function(e){function t(t){var n=e.call(this,t)||this;return n.bgMessageHandler=null,self.addEventListener("push",function(e){n.onPush(e)}),self.addEventListener("pushsubscriptionchange",function(e){n.onSubChange(e)}),self.addEventListener("notificationclick",function(e){n.onNotificationClick(e)}),n}return o(t,e),t.prototype.onPush=function(e){e.waitUntil(this.onPush_(e))},t.prototype.onSubChange=function(e){e.waitUntil(this.onSubChange_(e))},t.prototype.onNotificationClick=function(e){e.waitUntil(this.onNotificationClick_(e))},t.prototype.onPush_=function(e){return s(this,void 0,void 0,function(){var t,n,r,i,o,a;return u(this,function(s){switch(s.label){case 0:if(!e.data)return[2];try{t=e.data.json()}catch(e){return[2]}return[4,this.hasVisibleClients_()];case 1:return s.sent()?[2,this.sendMessageToWindowClients_(t)]:(n=this.getNotificationData_(t))?(r=n.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return i=s.sent(),o=n.actions,a=Notification.maxActions,o&&a&&o.length>a&&console.warn("This browser only supports "+a+" actions.The remaining actions will not be displayed."),[2,i.showNotification(r,n)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(t)]:[3,5];case 4:return s.sent(),[2];case 5:return[2]}})})},t.prototype.onSubChange_=function(e){return s(this,void 0,void 0,function(){var e,t,n,r;return u(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return e=i.sent(),[3,3];case 2:throw t=i.sent(),g.create(d.UNABLE_TO_RESUBSCRIBE,{message:t});case 3:return i.trys.push([3,5,,8]),[4,e.pushManager.getSubscription()];case 4:return i.sent(),[3,8];case 5:return n=i.sent(),[4,this.getTokenDetailsModel().getTokenDetailsFromSWScope(e.scope)];case 6:if(!(r=i.sent()))throw n;return[4,this.deleteToken(r.fcmToken)];case 7:throw i.sent(),n;case 8:return[2]}})})},t.prototype.onNotificationClick_=function(e){return s(this,void 0,void 0,function(){var t,n,r,i;return u(this,function(o){switch(o.label){case 0:return e.notification&&e.notification.data&&e.notification.data.FCM_MSG?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),(t=e.notification.data.FCM_MSG).notification&&(n=t.fcmOptions&&t.fcmOptions.link||t.notification.click_action)?[4,this.getWindowClient_(n)]:[2]):[2];case 1:return(r=o.sent())?[3,3]:[4,self.clients.openWindow(n)];case 2:return r=o.sent(),[3,5];case 3:return[4,r.focus()];case 4:r=o.sent(),o.label=5;case 5:return r?(delete t.notification,delete t.fcmOptions,i=R(p.NOTIFICATION_CLICKED,t),[2,this.attemptToMessageClient_(r,i)]):[2]}})})},t.prototype.getNotificationData_=function(e){if(e&&"object"==typeof e.notification){var t,n=a({},e.notification);return n.data=a({},e.notification.data,((t={}).FCM_MSG=e,t)),n}},t.prototype.setBackgroundMessageHandler=function(e){if(!e||"function"!=typeof e)throw g.create(d.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler=e},t.prototype.getWindowClient_=function(e){return s(this,void 0,void 0,function(){var t,n,r,i;return u(this,function(o){switch(o.label){case 0:return t=new URL(e,self.location.href).href,[4,P()];case 1:for(n=o.sent(),r=null,i=0;i<n.length;i++)if(new URL(n[i].url,self.location.href).href===t){r=n[i];break}return[2,r]}})})},t.prototype.attemptToMessageClient_=function(e,t){return s(this,void 0,void 0,function(){return u(this,function(n){if(!e)throw g.create(d.NO_WINDOW_CLIENT_TO_MSG);return e.postMessage(t),[2]})})},t.prototype.hasVisibleClients_=function(){return s(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return[4,P()];case 1:return[2,e.sent().some(function(e){return"visible"===e.visibilityState})]}})})},t.prototype.sendMessageToWindowClients_=function(e){return s(this,void 0,void 0,function(){var t,n,r=this;return u(this,function(i){switch(i.label){case 0:return[4,P()];case 1:return t=i.sent(),n=R(p.PUSH_MSG_RECEIVED,e),[4,Promise.all(t.map(function(e){return r.attemptToMessageClient_(e,n)}))];case 2:return i.sent(),[2]}})})},t.prototype.getSWRegistration_=function(){return s(this,void 0,void 0,function(){return u(this,function(e){return[2,self.registration]})})},t.prototype.getPublicVapidKey_=function(){return s(this,void 0,void 0,function(){var e,t;return u(this,function(n){switch(n.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(e=n.sent()))throw g.create(d.SW_REGISTRATION_EXPECTED);return[4,this.getVapidDetailsModel().getVapidFromSWScope(e.scope)];case 2:return null==(t=n.sent())?[2,y]:[2,t]}})})},t}(D);function P(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function R(e,t){return(n={})[f.TYPE_OF_MSG]=e,n[f.DATA]=t,n;var n}var L=function(e){function t(t){var n=e.call(this,t)||this;return n.registrationToUse=null,n.publicVapidKeyToUse=null,n.manifestCheckPromise=null,n.messageObserver=null,n.tokenRefreshObserver=null,n.onMessageInternal=Object(r.createSubscribe)(function(e){n.messageObserver=e}),n.onTokenRefreshInternal=Object(r.createSubscribe)(function(e){n.tokenRefreshObserver=e}),n.setupSWMessageListener_(),n}return o(t,e),t.prototype.getToken=function(){return s(this,void 0,void 0,function(){return u(this,function(t){switch(t.label){case 0:return this.manifestCheckPromise||(this.manifestCheckPromise=function(){return s(this,void 0,void 0,function(){var e,t;return u(this,function(n){switch(n.label){case 0:if(!(e=document.querySelector('link[rel="manifest"]')))return[2];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,fetch(e.href)];case 2:return[4,n.sent().json()];case 3:return t=n.sent(),[3,5];case 4:return n.sent(),[2];case 5:if(!t||!t.gcm_sender_id)return[2];if("103953800507"!==t.gcm_sender_id)throw g.create(d.INCORRECT_GCM_SENDER_ID);return[2]}})})}()),[4,this.manifestCheckPromise];case 1:return t.sent(),[2,e.prototype.getToken.call(this)]}})})},t.prototype.requestPermission=function(){return s(this,void 0,void 0,function(){var e;return u(this,function(t){switch(t.label){case 0:return"granted"===this.getNotificationPermission_()?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?g.create(d.PERMISSION_BLOCKED):g.create(d.PERMISSION_DEFAULT)}})})},t.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw g.create(d.SW_REGISTRATION_EXPECTED);if(null!=this.registrationToUse)throw g.create(d.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse=e},t.prototype.usePublicVapidKey=function(e){if("string"!=typeof e)throw g.create(d.INVALID_PUBLIC_VAPID_KEY);if(null!=this.publicVapidKeyToUse)throw g.create(d.USE_PUBLIC_KEY_BEFORE_GET_TOKEN);var t=E(e);if(65!==t.length)throw g.create(d.PUBLIC_KEY_DECRYPTION_FAILED);this.publicVapidKeyToUse=t},t.prototype.onMessage=function(e,t,n){return"function"==typeof e?this.onMessageInternal(e,t,n):this.onMessageInternal(e)},t.prototype.onTokenRefresh=function(e,t,n){return"function"==typeof e?this.onTokenRefreshInternal(e,t,n):this.onTokenRefreshInternal(e)},t.prototype.waitForRegistrationToActivate_=function(e){var t=e.installing||e.waiting||e.active;return new Promise(function(n,r){if(t)if("activated"!==t.state)if("redundant"!==t.state){var i=function(){if("activated"===t.state)n(e);else{if("redundant"!==t.state)return;r(g.create(d.SW_REG_REDUNDANT))}t.removeEventListener("statechange",i)};t.addEventListener("statechange",i)}else r(g.create(d.SW_REG_REDUNDANT));else n(e);else r(g.create(d.NO_SW_IN_REG))})},t.prototype.getSWRegistration_=function(){var e=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(e){throw g.create(d.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:e.message})}).then(function(t){return e.waitForRegistrationToActivate_(t).then(function(){return e.registrationToUse=t,t.update(),t})}))},t.prototype.getPublicVapidKey_=function(){return s(this,void 0,void 0,function(){return u(this,function(e){return this.publicVapidKeyToUse?[2,this.publicVapidKeyToUse]:[2,y]})})},t.prototype.setupSWMessageListener_=function(){var e=this;navigator.serviceWorker.addEventListener("message",function(t){if(t.data&&t.data[f.TYPE_OF_MSG]){var n=t.data;switch(n[f.TYPE_OF_MSG]){case p.PUSH_MSG_RECEIVED:case p.NOTIFICATION_CLICKED:var r=n[f.DATA];e.messageObserver&&e.messageObserver.next(r)}}},!1)},t}(D);function M(e){var t={isSupported:F};e.INTERNAL.registerService("messaging",function(e){if(!F())throw g.create(d.UNSUPPORTED_BROWSER);return self&&"ServiceWorkerGlobalScope"in self?new O(e):new L(e)},t)}function F(){return self&&"ServiceWorkerGlobalScope"in self?"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}M(l.a)}]);